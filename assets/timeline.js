/*! For license information please see timeline.js.LICENSE.txt */
(()=>{var t={354:(t,e,i)=>{var n=i(359),r=i(325);t.exports={util:n,Url:r,VwUnit:n.VwUnit}},325:(t,e,i)=>{function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,a=[],s=!0,o=!1;try{for(i=i.call(t);!(s=(n=i.next()).done)&&(a.push(n.value),!e||a.length!==e);s=!0);}catch(t){o=!0,r=t}finally{try{s||null==i.return||i.return()}finally{if(o)throw r}}return a}}(t,e)||r(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){if(t){if("string"==typeof t)return a(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){l(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function h(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var c=i(359),u=c.compact,d=c.toBase64,f=c.fromBase64,p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=o(o({},{protocol:"http",port:80,path:"",params:{},hashPath:"",hashParams:{}}),u(e))}var e,i,a;return e=t,i=[{key:"protocol",value:function(){return this.data.protocol}},{key:"host",value:function(){return this.data.host}},{key:"port",value:function(){return this.data.port}},{key:"path",value:function(){return this.data.path}},{key:"params",value:function(){return this.data.params}},{key:"hashPath",value:function(){return this.data.hashPath}},{key:"hashParams",value:function(){return this.data.hashParams}},{key:"pack",value:function(){var e=this.params()[t.packParam];return e?JSON.parse(f(e)):null}},{key:"hashPack",value:function(){var e=this.hashParams()[t.packParam];return e?JSON.parse(f(e)):null}},{key:"setProtocol",value:function(t){return this.data.protocol=t,this}},{key:"setHost",value:function(t){return this.data.host=t,this}},{key:"setPort",value:function(t){return this.data.port=t,this}},{key:"setPath",value:function(t){return this.data.path=t,this}},{key:"setParams",value:function(t){return this.data.params=t,this}},{key:"setHashPath",value:function(t){return this.data.hashPath=t,this}},{key:"setHashParams",value:function(t){return this.data.hashParams=t,this}},{key:"updateParams",value:function(t){for(var e=0,i=Object.entries(t);e<i.length;e++){var r=n(i[e],2),a=r[0],s=r[1];null===s?delete this.data.params[a]:this.data.params[a]=s}return this}},{key:"updateHashParams",value:function(t){for(var e=0,i=Object.entries(t);e<i.length;e++){var r=n(i[e],2),a=r[0],s=r[1];null===s?delete this.data.hashParams[a]:this.data.hashParams[a]=s}return this}},{key:"setPack",value:function(e){return null==e?delete this.data.params[t.packParam]:this.data.params[t.packParam]=d(JSON.stringify(e)),this}},{key:"setHashPack",value:function(e){return null==e?delete this.data.hashParams[t.packParam]:this.data.hashParams[t.packParam]=d(JSON.stringify(e)),this}},{key:"apply",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if("undefined"!=typeof window)return document.location.href===this.url()||(t?document.location.replace(this.url()):document.location.href=this.url()),this}},{key:"replaceState",value:function(){if("undefined"!=typeof window)return history.replaceState(null,"",this.url()),this}},{key:"formatPort",value:function(){var t="http"===this.data.protocol&&80===this.data.port,e="https"===this.data.protocol&&443===this.data.port;return t||e?"":":".concat(this.data.port)}},{key:"origin",value:function(){return this.data.protocol&&this.data.host&&this.data.port?"".concat(this.data.protocol,"://").concat(this.data.host).concat(this.formatPort()):""}},{key:"formatQuery",value:function(t){return 0===Object.keys(t).length?"":"?"+Object.entries(t).map((function(t){return"".concat(t[0],"=").concat(t[1])})).join("&")}},{key:"formatHash",value:function(){if(""===this.hashPath()&&0===Object.keys(this.hashParams()).length)return"";var t=this.formatQuery(this.hashParams());return"#".concat(this.hashPath()).concat(t)}},{key:"resource",value:function(){var t=this.formatQuery(this.params());return"".concat(this.path()).concat(t).concat(this.formatHash())}},{key:"url",value:function(){return"".concat(this.origin()).concat(this.resource())}}],a=[{key:"parseQuery",value:function(t){if(!t)return{};var e,i={},a=function(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=r(t))){i&&(t=i);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,l=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return o=t.done,t},e:function(t){l=!0,s=t},f:function(){try{o||null==i.return||i.return()}finally{if(l)throw s}}}}(t.split("&"));try{for(a.s();!(e=a.n()).done;){var s=n(e.value.split("="),2),o=s[0],l=s[1];i[o]=l}}catch(t){a.e(t)}finally{a.f()}return i}},{key:"portFor",value:function(t){return{http:80,https:443,mysql:3306}[t]}},{key:"parse",value:function(e){var i=n(e.split("#"),2),r=i[0],a=i[1],s=n(r.split("?"),2),o=s[0],l=s[1],h=n(o.split("://"),2),c=h[0],u=n(h[1].match(/^([^\/]+)(.*)$/).slice(1),2),d=u[0],f=u[1],p=n(d.split(":"),2),_=p[0],m=p[1],g=n(a?a.split("?"):[],2),v=g[0],y=g[1],b=this.parseQuery(l),w=this.parseQuery(y);return new t({protocol:c,host:_,port:m?parseInt(m):this.portFor(c),path:f,params:b,hashPath:v,hashParams:w})}},{key:"current",value:function(){if("undefined"!=typeof window)return t.parse(window.document.location.href)}}],i&&h(e.prototype,i),a&&h(e,a),t}();p.packParam="p",t.exports=p},359:t=>{function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,a=[],s=!0,o=!1;try{for(i=i.call(t);!(s=(n=i.next()).done)&&(a.push(n.value),!e||a.length!==e);s=!0);}catch(t){o=!0,r=t}finally{try{s||null==i.return||i.return()}finally{if(o)throw r}}return a}}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){s(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=l(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,a=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw a}}}}function l(t,e){if(t){if("string"==typeof t)return h(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var i,n;return i=t,(n=[{key:"setup",value:function(){window.addEventListener("resize",this.recalculate),this.recalculate()}},{key:"recalculate",value:function(){var t=document.documentElement.clientWidth/100;document.documentElement.style.setProperty("--vw","".concat(t,"px"))}}])&&e(i.prototype,n),t}();t.exports={shorten:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return t&&t.length>e?t.substr(0,e-1)+"…":t},inGroupsOf:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(t<1)throw"perRow has to be greater than 0 (".concat(t,")");var n,r=[],a=[],s=o(e);try{for(s.s();!(n=s.n()).done;){var l=n.value;a.length==t&&(r.push(a),a=[]),a.push(l)}}catch(t){s.e(t)}finally{s.f()}if(a.length>0){if(void 0!==i)for(;a.length<t;)a.push(i);r.push(a)}return r},capitalize:function(t){return"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)},compact:function t(e){for(var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=a({},e),o=0,l=Object.entries(e);o<l.length;o++){var h=n(l[o],2),c=h[0],u=h[1];null==u?delete s[c]:r&&"object"===i(u)&&(s[c]=t(u))}return s},toBase64:function(t){return"undefined"!=typeof atob?btoa(t):Buffer.from(t,"utf-8").toString("base64")},fromBase64:function(t){return"undefined"!=typeof btoa?atob(t):Buffer.from(t,"base64").toString("utf-8")},VwUnit:c,fold:function(t){return t.toString().toLowerCase().replaceAll(/[äáàâå]/g,"a").replaceAll(/[öóòôðø]/g,"o").replaceAll(/[iíìî]/g,"i").replaceAll(/[ëéèê]/g,"e").replaceAll(/[üúùû]/g,"u").replaceAll(/[ÿ]/g,"y").replaceAll(/æ/g,"ae").replaceAll(/ß/g,"ss")},regEscape:function(t){return t.toString().replaceAll(/\./g,"\\.").replaceAll(/\$/g,"\\$").replaceAll(/\^/g,"\\^").replaceAll(/\(/g,"\\(").replaceAll(/\)/g,"\\)")}}},856:function(t){t.exports=function(){"use strict";var t=Object.hasOwnProperty,e=Object.setPrototypeOf,i=Object.isFrozen,n=Object.getPrototypeOf,r=Object.getOwnPropertyDescriptor,a=Object.freeze,s=Object.seal,o=Object.create,l="undefined"!=typeof Reflect&&Reflect,h=l.apply,c=l.construct;h||(h=function(t,e,i){return t.apply(e,i)}),a||(a=function(t){return t}),s||(s=function(t){return t}),c||(c=function(t,e){return new(Function.prototype.bind.apply(t,[null].concat(function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(e))))});var u,d=k(Array.prototype.forEach),f=k(Array.prototype.pop),p=k(Array.prototype.push),_=k(String.prototype.toLowerCase),m=k(String.prototype.match),g=k(String.prototype.replace),v=k(String.prototype.indexOf),y=k(String.prototype.trim),b=k(RegExp.prototype.test),w=(u=TypeError,function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return c(u,e)});function k(t){return function(e){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return h(t,e,n)}}function x(t,n){e&&e(t,null);for(var r=n.length;r--;){var a=n[r];if("string"==typeof a){var s=_(a);s!==a&&(i(n)||(n[r]=s),a=s)}t[a]=!0}return t}function T(e){var i=o(null),n=void 0;for(n in e)h(t,e,[n])&&(i[n]=e[n]);return i}function M(t,e){for(;null!==t;){var i=r(t,e);if(i){if(i.get)return k(i.get);if("function"==typeof i.value)return k(i.value)}t=n(t)}return function(t){return console.warn("fallback value for",t),null}}var E=a(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),S=a(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),L=a(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),D=a(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),A=a(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),j=a(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),O=a(["#text"]),C=a(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),I=a(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),N=a(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),P=a(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),R=s(/\{\{[\s\S]*|[\s\S]*\}\}/gm),z=s(/<%[\s\S]*|[\s\S]*%>/gm),q=s(/^data-[\-\w.\u00B7-\uFFFF]/),H=s(/^aria-[\-\w]+$/),F=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),$=s(/^(?:\w+script|data):/i),B=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function W(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}var Z=function(){return"undefined"==typeof window?null:window},G=function(t,e){if("object"!==(void 0===t?"undefined":U(t))||"function"!=typeof t.createPolicy)return null;var i=null,n="data-tt-policy-suffix";e.currentScript&&e.currentScript.hasAttribute(n)&&(i=e.currentScript.getAttribute(n));var r="dompurify"+(i?"#"+i:"");try{return t.createPolicy(r,{createHTML:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};return function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z(),i=function(e){return t(e)};if(i.version="2.3.3",i.removed=[],!e||!e.document||9!==e.document.nodeType)return i.isSupported=!1,i;var n=e.document,r=e.document,s=e.DocumentFragment,o=e.HTMLTemplateElement,l=e.Node,h=e.Element,c=e.NodeFilter,u=e.NamedNodeMap,k=void 0===u?e.NamedNodeMap||e.MozNamedAttrMap:u,Y=e.Text,V=e.Comment,J=e.DOMParser,X=e.trustedTypes,K=h.prototype,Q=M(K,"cloneNode"),tt=M(K,"nextSibling"),et=M(K,"childNodes"),it=M(K,"parentNode");if("function"==typeof o){var nt=r.createElement("template");nt.content&&nt.content.ownerDocument&&(r=nt.content.ownerDocument)}var rt=G(X,n),at=rt&&Rt?rt.createHTML(""):"",st=r,ot=st.implementation,lt=st.createNodeIterator,ht=st.createDocumentFragment,ct=st.getElementsByTagName,ut=n.importNode,dt={};try{dt=T(r).documentMode?r.documentMode:{}}catch(t){}var ft={};i.isSupported="function"==typeof it&&ot&&void 0!==ot.createHTMLDocument&&9!==dt;var pt=R,_t=z,mt=q,gt=H,vt=$,yt=B,bt=F,wt=null,kt=x({},[].concat(W(E),W(S),W(L),W(A),W(O))),xt=null,Tt=x({},[].concat(W(C),W(I),W(N),W(P))),Mt=null,Et=null,St=!0,Lt=!0,Dt=!1,At=!1,jt=!1,Ot=!1,Ct=!1,It=!1,Nt=!1,Pt=!0,Rt=!1,zt=!0,qt=!0,Ht=!1,Ft={},$t=null,Bt=x({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ut=null,Wt=x({},["audio","video","img","source","image","track"]),Zt=null,Gt=x({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Yt="http://www.w3.org/1998/Math/MathML",Vt="http://www.w3.org/2000/svg",Jt="http://www.w3.org/1999/xhtml",Xt=Jt,Kt=!1,Qt=void 0,te=["application/xhtml+xml","text/html"],ee="text/html",ie=void 0,ne=null,re=r.createElement("form"),ae=function(t){ne&&ne===t||(t&&"object"===(void 0===t?"undefined":U(t))||(t={}),t=T(t),wt="ALLOWED_TAGS"in t?x({},t.ALLOWED_TAGS):kt,xt="ALLOWED_ATTR"in t?x({},t.ALLOWED_ATTR):Tt,Zt="ADD_URI_SAFE_ATTR"in t?x(T(Gt),t.ADD_URI_SAFE_ATTR):Gt,Ut="ADD_DATA_URI_TAGS"in t?x(T(Wt),t.ADD_DATA_URI_TAGS):Wt,$t="FORBID_CONTENTS"in t?x({},t.FORBID_CONTENTS):Bt,Mt="FORBID_TAGS"in t?x({},t.FORBID_TAGS):{},Et="FORBID_ATTR"in t?x({},t.FORBID_ATTR):{},Ft="USE_PROFILES"in t&&t.USE_PROFILES,St=!1!==t.ALLOW_ARIA_ATTR,Lt=!1!==t.ALLOW_DATA_ATTR,Dt=t.ALLOW_UNKNOWN_PROTOCOLS||!1,At=t.SAFE_FOR_TEMPLATES||!1,jt=t.WHOLE_DOCUMENT||!1,It=t.RETURN_DOM||!1,Nt=t.RETURN_DOM_FRAGMENT||!1,Pt=!1!==t.RETURN_DOM_IMPORT,Rt=t.RETURN_TRUSTED_TYPE||!1,Ct=t.FORCE_BODY||!1,zt=!1!==t.SANITIZE_DOM,qt=!1!==t.KEEP_CONTENT,Ht=t.IN_PLACE||!1,bt=t.ALLOWED_URI_REGEXP||bt,Xt=t.NAMESPACE||Jt,Qt=Qt=-1===te.indexOf(t.PARSER_MEDIA_TYPE)?ee:t.PARSER_MEDIA_TYPE,ie="application/xhtml+xml"===Qt?function(t){return t}:_,At&&(Lt=!1),Nt&&(It=!0),Ft&&(wt=x({},[].concat(W(O))),xt=[],!0===Ft.html&&(x(wt,E),x(xt,C)),!0===Ft.svg&&(x(wt,S),x(xt,I),x(xt,P)),!0===Ft.svgFilters&&(x(wt,L),x(xt,I),x(xt,P)),!0===Ft.mathMl&&(x(wt,A),x(xt,N),x(xt,P))),t.ADD_TAGS&&(wt===kt&&(wt=T(wt)),x(wt,t.ADD_TAGS)),t.ADD_ATTR&&(xt===Tt&&(xt=T(xt)),x(xt,t.ADD_ATTR)),t.ADD_URI_SAFE_ATTR&&x(Zt,t.ADD_URI_SAFE_ATTR),t.FORBID_CONTENTS&&($t===Bt&&($t=T($t)),x($t,t.FORBID_CONTENTS)),qt&&(wt["#text"]=!0),jt&&x(wt,["html","head","body"]),wt.table&&(x(wt,["tbody"]),delete Mt.tbody),a&&a(t),ne=t)},se=x({},["mi","mo","mn","ms","mtext"]),oe=x({},["foreignobject","desc","title","annotation-xml"]),le=x({},S);x(le,L),x(le,D);var he=x({},A);x(he,j);var ce=function(t){var e=it(t);e&&e.tagName||(e={namespaceURI:Jt,tagName:"template"});var i=_(t.tagName),n=_(e.tagName);if(t.namespaceURI===Vt)return e.namespaceURI===Jt?"svg"===i:e.namespaceURI===Yt?"svg"===i&&("annotation-xml"===n||se[n]):Boolean(le[i]);if(t.namespaceURI===Yt)return e.namespaceURI===Jt?"math"===i:e.namespaceURI===Vt?"math"===i&&oe[n]:Boolean(he[i]);if(t.namespaceURI===Jt){if(e.namespaceURI===Vt&&!oe[n])return!1;if(e.namespaceURI===Yt&&!se[n])return!1;var r=x({},["title","style","font","a","script"]);return!he[i]&&(r[i]||!le[i])}return!1},ue=function(t){p(i.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=at}catch(e){t.remove()}}},de=function(t,e){try{p(i.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){p(i.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!xt[t])if(It||Nt)try{ue(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},fe=function(t){var e=void 0,i=void 0;if(Ct)t="<remove></remove>"+t;else{var n=m(t,/^[\r\n\t ]+/);i=n&&n[0]}"application/xhtml+xml"===Qt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var a=rt?rt.createHTML(t):t;if(Xt===Jt)try{e=(new J).parseFromString(a,Qt)}catch(t){}if(!e||!e.documentElement){e=ot.createDocument(Xt,"template",null);try{e.documentElement.innerHTML=Kt?"":a}catch(t){}}var s=e.body||e.documentElement;return t&&i&&s.insertBefore(r.createTextNode(i),s.childNodes[0]||null),Xt===Jt?ct.call(e,jt?"html":"body")[0]:jt?e.documentElement:s},pe=function(t){return lt.call(t.ownerDocument||t,t,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},_e=function(t){return!(t instanceof Y||t instanceof V||"string"==typeof t.nodeName&&"string"==typeof t.textContent&&"function"==typeof t.removeChild&&t.attributes instanceof k&&"function"==typeof t.removeAttribute&&"function"==typeof t.setAttribute&&"string"==typeof t.namespaceURI&&"function"==typeof t.insertBefore)},me=function(t){return"object"===(void 0===l?"undefined":U(l))?t instanceof l:t&&"object"===(void 0===t?"undefined":U(t))&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},ge=function(t,e,n){ft[t]&&d(ft[t],(function(t){t.call(i,e,n,ne)}))},ve=function(t){var e=void 0;if(ge("beforeSanitizeElements",t,null),_e(t))return ue(t),!0;if(m(t.nodeName,/[\u0080-\uFFFF]/))return ue(t),!0;var n=ie(t.nodeName);if(ge("uponSanitizeElement",t,{tagName:n,allowedTags:wt}),!me(t.firstElementChild)&&(!me(t.content)||!me(t.content.firstElementChild))&&b(/<[/\w]/g,t.innerHTML)&&b(/<[/\w]/g,t.textContent))return ue(t),!0;if("select"===n&&b(/<template/i,t.innerHTML))return ue(t),!0;if(!wt[n]||Mt[n]){if(qt&&!$t[n]){var r=it(t)||t.parentNode,a=et(t)||t.childNodes;if(a&&r)for(var s=a.length-1;s>=0;--s)r.insertBefore(Q(a[s],!0),tt(t))}return ue(t),!0}return t instanceof h&&!ce(t)?(ue(t),!0):"noscript"!==n&&"noembed"!==n||!b(/<\/no(script|embed)/i,t.innerHTML)?(At&&3===t.nodeType&&(e=t.textContent,e=g(e,pt," "),e=g(e,_t," "),t.textContent!==e&&(p(i.removed,{element:t.cloneNode()}),t.textContent=e)),ge("afterSanitizeElements",t,null),!1):(ue(t),!0)},ye=function(t,e,i){if(zt&&("id"===e||"name"===e)&&(i in r||i in re))return!1;if(Lt&&!Et[e]&&b(mt,e));else if(St&&b(gt,e));else{if(!xt[e]||Et[e])return!1;if(Zt[e]);else if(b(bt,g(i,yt,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==v(i,"data:")||!Ut[t])if(Dt&&!b(vt,g(i,yt,"")));else if(i)return!1}return!0},be=function(t){var e=void 0,n=void 0,r=void 0,a=void 0;ge("beforeSanitizeAttributes",t,null);var s=t.attributes;if(s){var o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:xt};for(a=s.length;a--;){var l=e=s[a],h=l.name,c=l.namespaceURI;if(n=y(e.value),r=ie(h),o.attrName=r,o.attrValue=n,o.keepAttr=!0,o.forceKeepAttr=void 0,ge("uponSanitizeAttribute",t,o),n=o.attrValue,!o.forceKeepAttr&&(de(h,t),o.keepAttr))if(b(/\/>/i,n))de(h,t);else{At&&(n=g(n,pt," "),n=g(n,_t," "));var u=ie(t.nodeName);if(ye(u,r,n))try{c?t.setAttributeNS(c,h,n):t.setAttribute(h,n),f(i.removed)}catch(t){}}}ge("afterSanitizeAttributes",t,null)}},we=function t(e){var i=void 0,n=pe(e);for(ge("beforeSanitizeShadowDOM",e,null);i=n.nextNode();)ge("uponSanitizeShadowNode",i,null),ve(i)||(i.content instanceof s&&t(i.content),be(i));ge("afterSanitizeShadowDOM",e,null)};return i.sanitize=function(t,r){var a=void 0,o=void 0,h=void 0,c=void 0,u=void 0;if((Kt=!t)&&(t="\x3c!--\x3e"),"string"!=typeof t&&!me(t)){if("function"!=typeof t.toString)throw w("toString is not a function");if("string"!=typeof(t=t.toString()))throw w("dirty is not a string, aborting")}if(!i.isSupported){if("object"===U(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof t)return e.toStaticHTML(t);if(me(t))return e.toStaticHTML(t.outerHTML)}return t}if(Ot||ae(r),i.removed=[],"string"==typeof t&&(Ht=!1),Ht);else if(t instanceof l)1===(o=(a=fe("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===o.nodeName||"HTML"===o.nodeName?a=o:a.appendChild(o);else{if(!It&&!At&&!jt&&-1===t.indexOf("<"))return rt&&Rt?rt.createHTML(t):t;if(!(a=fe(t)))return It?null:at}a&&Ct&&ue(a.firstChild);for(var d=pe(Ht?t:a);h=d.nextNode();)3===h.nodeType&&h===c||ve(h)||(h.content instanceof s&&we(h.content),be(h),c=h);if(c=null,Ht)return t;if(It){if(Nt)for(u=ht.call(a.ownerDocument);a.firstChild;)u.appendChild(a.firstChild);else u=a;return Pt&&(u=ut.call(n,u,!0)),u}var f=jt?a.outerHTML:a.innerHTML;return At&&(f=g(f,pt," "),f=g(f,_t," ")),rt&&Rt?rt.createHTML(f):f},i.setConfig=function(t){ae(t),Ot=!0},i.clearConfig=function(){ne=null,Ot=!1},i.isValidAttribute=function(t,e,i){ne||ae({});var n=ie(t),r=ie(e);return ye(n,r,i)},i.addHook=function(t,e){"function"==typeof e&&(ft[t]=ft[t]||[],p(ft[t],e))},i.removeHook=function(t){ft[t]&&f(ft[t])},i.removeHooks=function(t){ft[t]&&(ft[t]=[])},i.removeAllHooks=function(){ft={}},i}()}()},875:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>n});const n=i.p+"timeline.css"},486:function(t,e,i){var n;t=i.nmd(t),function(){var r,a="Expected a function",s="__lodash_hash_undefined__",o="__lodash_placeholder__",l=32,h=128,c=1/0,u=9007199254740991,d=NaN,f=4294967295,p=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",l],["partialRight",64],["rearg",256]],_="[object Arguments]",m="[object Array]",g="[object Boolean]",v="[object Date]",y="[object Error]",b="[object Function]",w="[object GeneratorFunction]",k="[object Map]",x="[object Number]",T="[object Object]",M="[object Promise]",E="[object RegExp]",S="[object Set]",L="[object String]",D="[object Symbol]",A="[object WeakMap]",j="[object ArrayBuffer]",O="[object DataView]",C="[object Float32Array]",I="[object Float64Array]",N="[object Int8Array]",P="[object Int16Array]",R="[object Int32Array]",z="[object Uint8Array]",q="[object Uint8ClampedArray]",H="[object Uint16Array]",F="[object Uint32Array]",$=/\b__p \+= '';/g,B=/\b(__p \+=) '' \+/g,U=/(__e\(.*?\)|\b__t\)) \+\n'';/g,W=/&(?:amp|lt|gt|quot|#39);/g,Z=/[&<>"']/g,G=RegExp(W.source),Y=RegExp(Z.source),V=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,K=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,it=RegExp(et.source),nt=/^\s+/,rt=/\s/,at=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,st=/\{\n\/\* \[wrapped with (.+)\] \*/,ot=/,? & /,lt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ht=/[()=,{}\[\]\/\s]/,ct=/\\(\\)?/g,ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dt=/\w*$/,ft=/^[-+]0x[0-9a-f]+$/i,pt=/^0b[01]+$/i,_t=/^\[object .+?Constructor\]$/,mt=/^0o[0-7]+$/i,gt=/^(?:0|[1-9]\d*)$/,vt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yt=/($^)/,bt=/['\n\r\u2028\u2029\\]/g,wt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",kt="a-z\\xdf-\\xf6\\xf8-\\xff",xt="A-Z\\xc0-\\xd6\\xd8-\\xde",Tt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Mt="["+Tt+"]",Et="["+wt+"]",St="\\d+",Lt="["+kt+"]",Dt="[^\\ud800-\\udfff"+Tt+St+"\\u2700-\\u27bf"+kt+xt+"]",At="\\ud83c[\\udffb-\\udfff]",jt="[^\\ud800-\\udfff]",Ot="(?:\\ud83c[\\udde6-\\uddff]){2}",Ct="[\\ud800-\\udbff][\\udc00-\\udfff]",It="["+xt+"]",Nt="(?:"+Lt+"|"+Dt+")",Pt="(?:"+It+"|"+Dt+")",Rt="(?:['’](?:d|ll|m|re|s|t|ve))?",zt="(?:['’](?:D|LL|M|RE|S|T|VE))?",qt="(?:"+Et+"|"+At+")?",Ht="[\\ufe0e\\ufe0f]?",Ft=Ht+qt+"(?:\\u200d(?:"+[jt,Ot,Ct].join("|")+")"+Ht+qt+")*",$t="(?:"+["[\\u2700-\\u27bf]",Ot,Ct].join("|")+")"+Ft,Bt="(?:"+[jt+Et+"?",Et,Ot,Ct,"[\\ud800-\\udfff]"].join("|")+")",Ut=RegExp("['’]","g"),Wt=RegExp(Et,"g"),Zt=RegExp(At+"(?="+At+")|"+Bt+Ft,"g"),Gt=RegExp([It+"?"+Lt+"+"+Rt+"(?="+[Mt,It,"$"].join("|")+")",Pt+"+"+zt+"(?="+[Mt,It+Nt,"$"].join("|")+")",It+"?"+Nt+"+"+Rt,It+"+"+zt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",St,$t].join("|"),"g"),Yt=RegExp("[\\u200d\\ud800-\\udfff"+wt+"\\ufe0e\\ufe0f]"),Vt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Jt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xt=-1,Kt={};Kt[C]=Kt[I]=Kt[N]=Kt[P]=Kt[R]=Kt[z]=Kt[q]=Kt[H]=Kt[F]=!0,Kt[_]=Kt[m]=Kt[j]=Kt[g]=Kt[O]=Kt[v]=Kt[y]=Kt[b]=Kt[k]=Kt[x]=Kt[T]=Kt[E]=Kt[S]=Kt[L]=Kt[A]=!1;var Qt={};Qt[_]=Qt[m]=Qt[j]=Qt[O]=Qt[g]=Qt[v]=Qt[C]=Qt[I]=Qt[N]=Qt[P]=Qt[R]=Qt[k]=Qt[x]=Qt[T]=Qt[E]=Qt[S]=Qt[L]=Qt[D]=Qt[z]=Qt[q]=Qt[H]=Qt[F]=!0,Qt[y]=Qt[b]=Qt[A]=!1;var te={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ee=parseFloat,ie=parseInt,ne="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,re="object"==typeof self&&self&&self.Object===Object&&self,ae=ne||re||Function("return this")(),se=e&&!e.nodeType&&e,oe=se&&t&&!t.nodeType&&t,le=oe&&oe.exports===se,he=le&&ne.process,ce=function(){try{return oe&&oe.require&&oe.require("util").types||he&&he.binding&&he.binding("util")}catch(t){}}(),ue=ce&&ce.isArrayBuffer,de=ce&&ce.isDate,fe=ce&&ce.isMap,pe=ce&&ce.isRegExp,_e=ce&&ce.isSet,me=ce&&ce.isTypedArray;function ge(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function ve(t,e,i,n){for(var r=-1,a=null==t?0:t.length;++r<a;){var s=t[r];e(n,s,i(s),t)}return n}function ye(t,e){for(var i=-1,n=null==t?0:t.length;++i<n&&!1!==e(t[i],i,t););return t}function be(t,e){for(var i=null==t?0:t.length;i--&&!1!==e(t[i],i,t););return t}function we(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(!e(t[i],i,t))return!1;return!0}function ke(t,e){for(var i=-1,n=null==t?0:t.length,r=0,a=[];++i<n;){var s=t[i];e(s,i,t)&&(a[r++]=s)}return a}function xe(t,e){return!(null==t||!t.length)&&Ce(t,e,0)>-1}function Te(t,e,i){for(var n=-1,r=null==t?0:t.length;++n<r;)if(i(e,t[n]))return!0;return!1}function Me(t,e){for(var i=-1,n=null==t?0:t.length,r=Array(n);++i<n;)r[i]=e(t[i],i,t);return r}function Ee(t,e){for(var i=-1,n=e.length,r=t.length;++i<n;)t[r+i]=e[i];return t}function Se(t,e,i,n){var r=-1,a=null==t?0:t.length;for(n&&a&&(i=t[++r]);++r<a;)i=e(i,t[r],r,t);return i}function Le(t,e,i,n){var r=null==t?0:t.length;for(n&&r&&(i=t[--r]);r--;)i=e(i,t[r],r,t);return i}function De(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}var Ae=Re("length");function je(t,e,i){var n;return i(t,(function(t,i,r){if(e(t,i,r))return n=i,!1})),n}function Oe(t,e,i,n){for(var r=t.length,a=i+(n?1:-1);n?a--:++a<r;)if(e(t[a],a,t))return a;return-1}function Ce(t,e,i){return e==e?function(t,e,i){for(var n=i-1,r=t.length;++n<r;)if(t[n]===e)return n;return-1}(t,e,i):Oe(t,Ne,i)}function Ie(t,e,i,n){for(var r=i-1,a=t.length;++r<a;)if(n(t[r],e))return r;return-1}function Ne(t){return t!=t}function Pe(t,e){var i=null==t?0:t.length;return i?He(t,e)/i:d}function Re(t){return function(e){return null==e?r:e[t]}}function ze(t){return function(e){return null==t?r:t[e]}}function qe(t,e,i,n,r){return r(t,(function(t,r,a){i=n?(n=!1,t):e(i,t,r,a)})),i}function He(t,e){for(var i,n=-1,a=t.length;++n<a;){var s=e(t[n]);s!==r&&(i=i===r?s:i+s)}return i}function Fe(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}function $e(t){return t?t.slice(0,si(t)+1).replace(nt,""):t}function Be(t){return function(e){return t(e)}}function Ue(t,e){return Me(e,(function(e){return t[e]}))}function We(t,e){return t.has(e)}function Ze(t,e){for(var i=-1,n=t.length;++i<n&&Ce(e,t[i],0)>-1;);return i}function Ge(t,e){for(var i=t.length;i--&&Ce(e,t[i],0)>-1;);return i}function Ye(t,e){for(var i=t.length,n=0;i--;)t[i]===e&&++n;return n}var Ve=ze({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Je=ze({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Xe(t){return"\\"+te[t]}function Ke(t){return Yt.test(t)}function Qe(t){var e=-1,i=Array(t.size);return t.forEach((function(t,n){i[++e]=[n,t]})),i}function ti(t,e){return function(i){return t(e(i))}}function ei(t,e){for(var i=-1,n=t.length,r=0,a=[];++i<n;){var s=t[i];s!==e&&s!==o||(t[i]=o,a[r++]=i)}return a}function ii(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=t})),i}function ni(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=[t,t]})),i}function ri(t){return Ke(t)?function(t){for(var e=Zt.lastIndex=0;Zt.test(t);)++e;return e}(t):Ae(t)}function ai(t){return Ke(t)?function(t){return t.match(Zt)||[]}(t):function(t){return t.split("")}(t)}function si(t){for(var e=t.length;e--&&rt.test(t.charAt(e)););return e}var oi=ze({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),li=function t(e){var i,n=(e=null==e?ae:li.defaults(ae.Object(),e,li.pick(ae,Jt))).Array,rt=e.Date,wt=e.Error,kt=e.Function,xt=e.Math,Tt=e.Object,Mt=e.RegExp,Et=e.String,St=e.TypeError,Lt=n.prototype,Dt=kt.prototype,At=Tt.prototype,jt=e["__core-js_shared__"],Ot=Dt.toString,Ct=At.hasOwnProperty,It=0,Nt=(i=/[^.]+$/.exec(jt&&jt.keys&&jt.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",Pt=At.toString,Rt=Ot.call(Tt),zt=ae._,qt=Mt("^"+Ot.call(Ct).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ht=le?e.Buffer:r,Ft=e.Symbol,$t=e.Uint8Array,Bt=Ht?Ht.allocUnsafe:r,Zt=ti(Tt.getPrototypeOf,Tt),Yt=Tt.create,te=At.propertyIsEnumerable,ne=Lt.splice,re=Ft?Ft.isConcatSpreadable:r,se=Ft?Ft.iterator:r,oe=Ft?Ft.toStringTag:r,he=function(){try{var t=ha(Tt,"defineProperty");return t({},"",{}),t}catch(t){}}(),ce=e.clearTimeout!==ae.clearTimeout&&e.clearTimeout,Ae=rt&&rt.now!==ae.Date.now&&rt.now,ze=e.setTimeout!==ae.setTimeout&&e.setTimeout,hi=xt.ceil,ci=xt.floor,ui=Tt.getOwnPropertySymbols,di=Ht?Ht.isBuffer:r,fi=e.isFinite,pi=Lt.join,_i=ti(Tt.keys,Tt),mi=xt.max,gi=xt.min,vi=rt.now,yi=e.parseInt,bi=xt.random,wi=Lt.reverse,ki=ha(e,"DataView"),xi=ha(e,"Map"),Ti=ha(e,"Promise"),Mi=ha(e,"Set"),Ei=ha(e,"WeakMap"),Si=ha(Tt,"create"),Li=Ei&&new Ei,Di={},Ai=za(ki),ji=za(xi),Oi=za(Ti),Ci=za(Mi),Ii=za(Ei),Ni=Ft?Ft.prototype:r,Pi=Ni?Ni.valueOf:r,Ri=Ni?Ni.toString:r;function zi(t){if(eo(t)&&!Us(t)&&!(t instanceof $i)){if(t instanceof Fi)return t;if(Ct.call(t,"__wrapped__"))return qa(t)}return new Fi(t)}var qi=function(){function t(){}return function(e){if(!to(e))return{};if(Yt)return Yt(e);t.prototype=e;var i=new t;return t.prototype=r,i}}();function Hi(){}function Fi(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function $i(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function Bi(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Ui(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Wi(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Zi(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new Wi;++e<i;)this.add(t[e])}function Gi(t){var e=this.__data__=new Ui(t);this.size=e.size}function Yi(t,e){var i=Us(t),n=!i&&Bs(t),r=!i&&!n&&Ys(t),a=!i&&!n&&!r&&ho(t),s=i||n||r||a,o=s?Fe(t.length,Et):[],l=o.length;for(var h in t)!e&&!Ct.call(t,h)||s&&("length"==h||r&&("offset"==h||"parent"==h)||a&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||ma(h,l))||o.push(h);return o}function Vi(t){var e=t.length;return e?t[Zn(0,e-1)]:r}function Ji(t,e){return Ca(Sr(t),sn(e,0,t.length))}function Xi(t){return Ca(Sr(t))}function Ki(t,e,i){(i!==r&&!Hs(t[e],i)||i===r&&!(e in t))&&rn(t,e,i)}function Qi(t,e,i){var n=t[e];Ct.call(t,e)&&Hs(n,i)&&(i!==r||e in t)||rn(t,e,i)}function tn(t,e){for(var i=t.length;i--;)if(Hs(t[i][0],e))return i;return-1}function en(t,e,i,n){return un(t,(function(t,r,a){e(n,t,i(t),a)})),n}function nn(t,e){return t&&Lr(e,Oo(e),t)}function rn(t,e,i){"__proto__"==e&&he?he(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function an(t,e){for(var i=-1,a=e.length,s=n(a),o=null==t;++i<a;)s[i]=o?r:So(t,e[i]);return s}function sn(t,e,i){return t==t&&(i!==r&&(t=t<=i?t:i),e!==r&&(t=t>=e?t:e)),t}function on(t,e,i,n,a,s){var o,l=1&e,h=2&e,c=4&e;if(i&&(o=a?i(t,n,a,s):i(t)),o!==r)return o;if(!to(t))return t;var u=Us(t);if(u){if(o=function(t){var e=t.length,i=new t.constructor(e);return e&&"string"==typeof t[0]&&Ct.call(t,"index")&&(i.index=t.index,i.input=t.input),i}(t),!l)return Sr(t,o)}else{var d=da(t),f=d==b||d==w;if(Ys(t))return wr(t,l);if(d==T||d==_||f&&!a){if(o=h||f?{}:pa(t),!l)return h?function(t,e){return Lr(t,ua(t),e)}(t,function(t,e){return t&&Lr(e,Co(e),t)}(o,t)):function(t,e){return Lr(t,ca(t),e)}(t,nn(o,t))}else{if(!Qt[d])return a?t:{};o=function(t,e,i){var n,r=t.constructor;switch(e){case j:return kr(t);case g:case v:return new r(+t);case O:return function(t,e){var i=e?kr(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}(t,i);case C:case I:case N:case P:case R:case z:case q:case H:case F:return xr(t,i);case k:case S:return new r;case x:case L:return new r(t);case E:return function(t){var e=new t.constructor(t.source,dt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case D:return n=t,Pi?Tt(Pi.call(n)):{}}}(t,d,l)}}s||(s=new Gi);var p=s.get(t);if(p)return p;s.set(t,o),so(t)?t.forEach((function(n){o.add(on(n,e,i,n,t,s))})):io(t)&&t.forEach((function(n,r){o.set(r,on(n,e,i,r,t,s))}));var m=u?r:(c?h?ia:ea:h?Co:Oo)(t);return ye(m||t,(function(n,r){m&&(n=t[r=n]),Qi(o,r,on(n,e,i,r,t,s))})),o}function ln(t,e,i){var n=i.length;if(null==t)return!n;for(t=Tt(t);n--;){var a=i[n],s=e[a],o=t[a];if(o===r&&!(a in t)||!s(o))return!1}return!0}function hn(t,e,i){if("function"!=typeof t)throw new St(a);return Da((function(){t.apply(r,i)}),e)}function cn(t,e,i,n){var r=-1,a=xe,s=!0,o=t.length,l=[],h=e.length;if(!o)return l;i&&(e=Me(e,Be(i))),n?(a=Te,s=!1):e.length>=200&&(a=We,s=!1,e=new Zi(e));t:for(;++r<o;){var c=t[r],u=null==i?c:i(c);if(c=n||0!==c?c:0,s&&u==u){for(var d=h;d--;)if(e[d]===u)continue t;l.push(c)}else a(e,u,n)||l.push(c)}return l}zi.templateSettings={escape:V,evaluate:J,interpolate:X,variable:"",imports:{_:zi}},zi.prototype=Hi.prototype,zi.prototype.constructor=zi,Fi.prototype=qi(Hi.prototype),Fi.prototype.constructor=Fi,$i.prototype=qi(Hi.prototype),$i.prototype.constructor=$i,Bi.prototype.clear=function(){this.__data__=Si?Si(null):{},this.size=0},Bi.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Bi.prototype.get=function(t){var e=this.__data__;if(Si){var i=e[t];return i===s?r:i}return Ct.call(e,t)?e[t]:r},Bi.prototype.has=function(t){var e=this.__data__;return Si?e[t]!==r:Ct.call(e,t)},Bi.prototype.set=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=Si&&e===r?s:e,this},Ui.prototype.clear=function(){this.__data__=[],this.size=0},Ui.prototype.delete=function(t){var e=this.__data__,i=tn(e,t);return!(i<0||(i==e.length-1?e.pop():ne.call(e,i,1),--this.size,0))},Ui.prototype.get=function(t){var e=this.__data__,i=tn(e,t);return i<0?r:e[i][1]},Ui.prototype.has=function(t){return tn(this.__data__,t)>-1},Ui.prototype.set=function(t,e){var i=this.__data__,n=tn(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this},Wi.prototype.clear=function(){this.size=0,this.__data__={hash:new Bi,map:new(xi||Ui),string:new Bi}},Wi.prototype.delete=function(t){var e=oa(this,t).delete(t);return this.size-=e?1:0,e},Wi.prototype.get=function(t){return oa(this,t).get(t)},Wi.prototype.has=function(t){return oa(this,t).has(t)},Wi.prototype.set=function(t,e){var i=oa(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this},Zi.prototype.add=Zi.prototype.push=function(t){return this.__data__.set(t,s),this},Zi.prototype.has=function(t){return this.__data__.has(t)},Gi.prototype.clear=function(){this.__data__=new Ui,this.size=0},Gi.prototype.delete=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i},Gi.prototype.get=function(t){return this.__data__.get(t)},Gi.prototype.has=function(t){return this.__data__.has(t)},Gi.prototype.set=function(t,e){var i=this.__data__;if(i instanceof Ui){var n=i.__data__;if(!xi||n.length<199)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new Wi(n)}return i.set(t,e),this.size=i.size,this};var un=jr(yn),dn=jr(bn,!0);function fn(t,e){var i=!0;return un(t,(function(t,n,r){return i=!!e(t,n,r)})),i}function pn(t,e,i){for(var n=-1,a=t.length;++n<a;){var s=t[n],o=e(s);if(null!=o&&(l===r?o==o&&!lo(o):i(o,l)))var l=o,h=s}return h}function _n(t,e){var i=[];return un(t,(function(t,n,r){e(t,n,r)&&i.push(t)})),i}function mn(t,e,i,n,r){var a=-1,s=t.length;for(i||(i=_a),r||(r=[]);++a<s;){var o=t[a];e>0&&i(o)?e>1?mn(o,e-1,i,n,r):Ee(r,o):n||(r[r.length]=o)}return r}var gn=Or(),vn=Or(!0);function yn(t,e){return t&&gn(t,e,Oo)}function bn(t,e){return t&&vn(t,e,Oo)}function wn(t,e){return ke(e,(function(e){return Xs(t[e])}))}function kn(t,e){for(var i=0,n=(e=gr(e,t)).length;null!=t&&i<n;)t=t[Ra(e[i++])];return i&&i==n?t:r}function xn(t,e,i){var n=e(t);return Us(t)?n:Ee(n,i(t))}function Tn(t){return null==t?t===r?"[object Undefined]":"[object Null]":oe&&oe in Tt(t)?function(t){var e=Ct.call(t,oe),i=t[oe];try{t[oe]=r;var n=!0}catch(t){}var a=Pt.call(t);return n&&(e?t[oe]=i:delete t[oe]),a}(t):function(t){return Pt.call(t)}(t)}function Mn(t,e){return t>e}function En(t,e){return null!=t&&Ct.call(t,e)}function Sn(t,e){return null!=t&&e in Tt(t)}function Ln(t,e,i){for(var a=i?Te:xe,s=t[0].length,o=t.length,l=o,h=n(o),c=1/0,u=[];l--;){var d=t[l];l&&e&&(d=Me(d,Be(e))),c=gi(d.length,c),h[l]=!i&&(e||s>=120&&d.length>=120)?new Zi(l&&d):r}d=t[0];var f=-1,p=h[0];t:for(;++f<s&&u.length<c;){var _=d[f],m=e?e(_):_;if(_=i||0!==_?_:0,!(p?We(p,m):a(u,m,i))){for(l=o;--l;){var g=h[l];if(!(g?We(g,m):a(t[l],m,i)))continue t}p&&p.push(m),u.push(_)}}return u}function Dn(t,e,i){var n=null==(t=Ma(t,e=gr(e,t)))?t:t[Ra(Ja(e))];return null==n?r:ge(n,t,i)}function An(t){return eo(t)&&Tn(t)==_}function jn(t,e,i,n,a){return t===e||(null==t||null==e||!eo(t)&&!eo(e)?t!=t&&e!=e:function(t,e,i,n,a,s){var o=Us(t),l=Us(e),h=o?m:da(t),c=l?m:da(e),u=(h=h==_?T:h)==T,d=(c=c==_?T:c)==T,f=h==c;if(f&&Ys(t)){if(!Ys(e))return!1;o=!0,u=!1}if(f&&!u)return s||(s=new Gi),o||ho(t)?Qr(t,e,i,n,a,s):function(t,e,i,n,r,a,s){switch(i){case O:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case j:return!(t.byteLength!=e.byteLength||!a(new $t(t),new $t(e)));case g:case v:case x:return Hs(+t,+e);case y:return t.name==e.name&&t.message==e.message;case E:case L:return t==e+"";case k:var o=Qe;case S:var l=1&n;if(o||(o=ii),t.size!=e.size&&!l)return!1;var h=s.get(t);if(h)return h==e;n|=2,s.set(t,e);var c=Qr(o(t),o(e),n,r,a,s);return s.delete(t),c;case D:if(Pi)return Pi.call(t)==Pi.call(e)}return!1}(t,e,h,i,n,a,s);if(!(1&i)){var p=u&&Ct.call(t,"__wrapped__"),b=d&&Ct.call(e,"__wrapped__");if(p||b){var w=p?t.value():t,M=b?e.value():e;return s||(s=new Gi),a(w,M,i,n,s)}}return!!f&&(s||(s=new Gi),function(t,e,i,n,a,s){var o=1&i,l=ea(t),h=l.length;if(h!=ea(e).length&&!o)return!1;for(var c=h;c--;){var u=l[c];if(!(o?u in e:Ct.call(e,u)))return!1}var d=s.get(t),f=s.get(e);if(d&&f)return d==e&&f==t;var p=!0;s.set(t,e),s.set(e,t);for(var _=o;++c<h;){var m=t[u=l[c]],g=e[u];if(n)var v=o?n(g,m,u,e,t,s):n(m,g,u,t,e,s);if(!(v===r?m===g||a(m,g,i,n,s):v)){p=!1;break}_||(_="constructor"==u)}if(p&&!_){var y=t.constructor,b=e.constructor;y==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return s.delete(t),s.delete(e),p}(t,e,i,n,a,s))}(t,e,i,n,jn,a))}function On(t,e,i,n){var a=i.length,s=a,o=!n;if(null==t)return!s;for(t=Tt(t);a--;){var l=i[a];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<s;){var h=(l=i[a])[0],c=t[h],u=l[1];if(o&&l[2]){if(c===r&&!(h in t))return!1}else{var d=new Gi;if(n)var f=n(c,u,h,t,e,d);if(!(f===r?jn(u,c,3,n,d):f))return!1}}return!0}function Cn(t){return!(!to(t)||(e=t,Nt&&Nt in e))&&(Xs(t)?qt:_t).test(za(t));var e}function In(t){return"function"==typeof t?t:null==t?rl:"object"==typeof t?Us(t)?qn(t[0],t[1]):zn(t):fl(t)}function Nn(t){if(!wa(t))return _i(t);var e=[];for(var i in Tt(t))Ct.call(t,i)&&"constructor"!=i&&e.push(i);return e}function Pn(t,e){return t<e}function Rn(t,e){var i=-1,r=Zs(t)?n(t.length):[];return un(t,(function(t,n,a){r[++i]=e(t,n,a)})),r}function zn(t){var e=la(t);return 1==e.length&&e[0][2]?xa(e[0][0],e[0][1]):function(i){return i===t||On(i,t,e)}}function qn(t,e){return va(t)&&ka(e)?xa(Ra(t),e):function(i){var n=So(i,t);return n===r&&n===e?Lo(i,t):jn(e,n,3)}}function Hn(t,e,i,n,a){t!==e&&gn(e,(function(s,o){if(a||(a=new Gi),to(s))!function(t,e,i,n,a,s,o){var l=Sa(t,i),h=Sa(e,i),c=o.get(h);if(c)Ki(t,i,c);else{var u=s?s(l,h,i+"",t,e,o):r,d=u===r;if(d){var f=Us(h),p=!f&&Ys(h),_=!f&&!p&&ho(h);u=h,f||p||_?Us(l)?u=l:Gs(l)?u=Sr(l):p?(d=!1,u=wr(h,!0)):_?(d=!1,u=xr(h,!0)):u=[]:ro(h)||Bs(h)?(u=l,Bs(l)?u=vo(l):to(l)&&!Xs(l)||(u=pa(h))):d=!1}d&&(o.set(h,u),a(u,h,n,s,o),o.delete(h)),Ki(t,i,u)}}(t,e,o,i,Hn,n,a);else{var l=n?n(Sa(t,o),s,o+"",t,e,a):r;l===r&&(l=s),Ki(t,o,l)}}),Co)}function Fn(t,e){var i=t.length;if(i)return ma(e+=e<0?i:0,i)?t[e]:r}function $n(t,e,i){e=e.length?Me(e,(function(t){return Us(t)?function(e){return kn(e,1===t.length?t[0]:t)}:t})):[rl];var n=-1;e=Me(e,Be(sa()));var r=Rn(t,(function(t,i,r){var a=Me(e,(function(e){return e(t)}));return{criteria:a,index:++n,value:t}}));return function(t,e){var n=t.length;for(t.sort((function(t,e){return function(t,e,i){for(var n=-1,r=t.criteria,a=e.criteria,s=r.length,o=i.length;++n<s;){var l=Tr(r[n],a[n]);if(l)return n>=o?l:l*("desc"==i[n]?-1:1)}return t.index-e.index}(t,e,i)}));n--;)t[n]=t[n].value;return t}(r)}function Bn(t,e,i){for(var n=-1,r=e.length,a={};++n<r;){var s=e[n],o=kn(t,s);i(o,s)&&Xn(a,gr(s,t),o)}return a}function Un(t,e,i,n){var r=n?Ie:Ce,a=-1,s=e.length,o=t;for(t===e&&(e=Sr(e)),i&&(o=Me(t,Be(i)));++a<s;)for(var l=0,h=e[a],c=i?i(h):h;(l=r(o,c,l,n))>-1;)o!==t&&ne.call(o,l,1),ne.call(t,l,1);return t}function Wn(t,e){for(var i=t?e.length:0,n=i-1;i--;){var r=e[i];if(i==n||r!==a){var a=r;ma(r)?ne.call(t,r,1):hr(t,r)}}return t}function Zn(t,e){return t+ci(bi()*(e-t+1))}function Gn(t,e){var i="";if(!t||e<1||e>u)return i;do{e%2&&(i+=t),(e=ci(e/2))&&(t+=t)}while(e);return i}function Yn(t,e){return Aa(Ta(t,e,rl),t+"")}function Vn(t){return Vi(Fo(t))}function Jn(t,e){var i=Fo(t);return Ca(i,sn(e,0,i.length))}function Xn(t,e,i,n){if(!to(t))return t;for(var a=-1,s=(e=gr(e,t)).length,o=s-1,l=t;null!=l&&++a<s;){var h=Ra(e[a]),c=i;if("__proto__"===h||"constructor"===h||"prototype"===h)return t;if(a!=o){var u=l[h];(c=n?n(u,h,l):r)===r&&(c=to(u)?u:ma(e[a+1])?[]:{})}Qi(l,h,c),l=l[h]}return t}var Kn=Li?function(t,e){return Li.set(t,e),t}:rl,Qn=he?function(t,e){return he(t,"toString",{configurable:!0,enumerable:!1,value:el(e),writable:!0})}:rl;function tr(t){return Ca(Fo(t))}function er(t,e,i){var r=-1,a=t.length;e<0&&(e=-e>a?0:a+e),(i=i>a?a:i)<0&&(i+=a),a=e>i?0:i-e>>>0,e>>>=0;for(var s=n(a);++r<a;)s[r]=t[r+e];return s}function ir(t,e){var i;return un(t,(function(t,n,r){return!(i=e(t,n,r))})),!!i}function nr(t,e,i){var n=0,r=null==t?n:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;n<r;){var a=n+r>>>1,s=t[a];null!==s&&!lo(s)&&(i?s<=e:s<e)?n=a+1:r=a}return r}return rr(t,e,rl,i)}function rr(t,e,i,n){var a=0,s=null==t?0:t.length;if(0===s)return 0;for(var o=(e=i(e))!=e,l=null===e,h=lo(e),c=e===r;a<s;){var u=ci((a+s)/2),d=i(t[u]),f=d!==r,p=null===d,_=d==d,m=lo(d);if(o)var g=n||_;else g=c?_&&(n||f):l?_&&f&&(n||!p):h?_&&f&&!p&&(n||!m):!p&&!m&&(n?d<=e:d<e);g?a=u+1:s=u}return gi(s,4294967294)}function ar(t,e){for(var i=-1,n=t.length,r=0,a=[];++i<n;){var s=t[i],o=e?e(s):s;if(!i||!Hs(o,l)){var l=o;a[r++]=0===s?0:s}}return a}function sr(t){return"number"==typeof t?t:lo(t)?d:+t}function or(t){if("string"==typeof t)return t;if(Us(t))return Me(t,or)+"";if(lo(t))return Ri?Ri.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function lr(t,e,i){var n=-1,r=xe,a=t.length,s=!0,o=[],l=o;if(i)s=!1,r=Te;else if(a>=200){var h=e?null:Gr(t);if(h)return ii(h);s=!1,r=We,l=new Zi}else l=e?[]:o;t:for(;++n<a;){var c=t[n],u=e?e(c):c;if(c=i||0!==c?c:0,s&&u==u){for(var d=l.length;d--;)if(l[d]===u)continue t;e&&l.push(u),o.push(c)}else r(l,u,i)||(l!==o&&l.push(u),o.push(c))}return o}function hr(t,e){return null==(t=Ma(t,e=gr(e,t)))||delete t[Ra(Ja(e))]}function cr(t,e,i,n){return Xn(t,e,i(kn(t,e)),n)}function ur(t,e,i,n){for(var r=t.length,a=n?r:-1;(n?a--:++a<r)&&e(t[a],a,t););return i?er(t,n?0:a,n?a+1:r):er(t,n?a+1:0,n?r:a)}function dr(t,e){var i=t;return i instanceof $i&&(i=i.value()),Se(e,(function(t,e){return e.func.apply(e.thisArg,Ee([t],e.args))}),i)}function fr(t,e,i){var r=t.length;if(r<2)return r?lr(t[0]):[];for(var a=-1,s=n(r);++a<r;)for(var o=t[a],l=-1;++l<r;)l!=a&&(s[a]=cn(s[a]||o,t[l],e,i));return lr(mn(s,1),e,i)}function pr(t,e,i){for(var n=-1,a=t.length,s=e.length,o={};++n<a;){var l=n<s?e[n]:r;i(o,t[n],l)}return o}function _r(t){return Gs(t)?t:[]}function mr(t){return"function"==typeof t?t:rl}function gr(t,e){return Us(t)?t:va(t,e)?[t]:Pa(yo(t))}var vr=Yn;function yr(t,e,i){var n=t.length;return i=i===r?n:i,!e&&i>=n?t:er(t,e,i)}var br=ce||function(t){return ae.clearTimeout(t)};function wr(t,e){if(e)return t.slice();var i=t.length,n=Bt?Bt(i):new t.constructor(i);return t.copy(n),n}function kr(t){var e=new t.constructor(t.byteLength);return new $t(e).set(new $t(t)),e}function xr(t,e){var i=e?kr(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function Tr(t,e){if(t!==e){var i=t!==r,n=null===t,a=t==t,s=lo(t),o=e!==r,l=null===e,h=e==e,c=lo(e);if(!l&&!c&&!s&&t>e||s&&o&&h&&!l&&!c||n&&o&&h||!i&&h||!a)return 1;if(!n&&!s&&!c&&t<e||c&&i&&a&&!n&&!s||l&&i&&a||!o&&a||!h)return-1}return 0}function Mr(t,e,i,r){for(var a=-1,s=t.length,o=i.length,l=-1,h=e.length,c=mi(s-o,0),u=n(h+c),d=!r;++l<h;)u[l]=e[l];for(;++a<o;)(d||a<s)&&(u[i[a]]=t[a]);for(;c--;)u[l++]=t[a++];return u}function Er(t,e,i,r){for(var a=-1,s=t.length,o=-1,l=i.length,h=-1,c=e.length,u=mi(s-l,0),d=n(u+c),f=!r;++a<u;)d[a]=t[a];for(var p=a;++h<c;)d[p+h]=e[h];for(;++o<l;)(f||a<s)&&(d[p+i[o]]=t[a++]);return d}function Sr(t,e){var i=-1,r=t.length;for(e||(e=n(r));++i<r;)e[i]=t[i];return e}function Lr(t,e,i,n){var a=!i;i||(i={});for(var s=-1,o=e.length;++s<o;){var l=e[s],h=n?n(i[l],t[l],l,i,t):r;h===r&&(h=t[l]),a?rn(i,l,h):Qi(i,l,h)}return i}function Dr(t,e){return function(i,n){var r=Us(i)?ve:en,a=e?e():{};return r(i,t,sa(n,2),a)}}function Ar(t){return Yn((function(e,i){var n=-1,a=i.length,s=a>1?i[a-1]:r,o=a>2?i[2]:r;for(s=t.length>3&&"function"==typeof s?(a--,s):r,o&&ga(i[0],i[1],o)&&(s=a<3?r:s,a=1),e=Tt(e);++n<a;){var l=i[n];l&&t(e,l,n,s)}return e}))}function jr(t,e){return function(i,n){if(null==i)return i;if(!Zs(i))return t(i,n);for(var r=i.length,a=e?r:-1,s=Tt(i);(e?a--:++a<r)&&!1!==n(s[a],a,s););return i}}function Or(t){return function(e,i,n){for(var r=-1,a=Tt(e),s=n(e),o=s.length;o--;){var l=s[t?o:++r];if(!1===i(a[l],l,a))break}return e}}function Cr(t){return function(e){var i=Ke(e=yo(e))?ai(e):r,n=i?i[0]:e.charAt(0),a=i?yr(i,1).join(""):e.slice(1);return n[t]()+a}}function Ir(t){return function(e){return Se(Ko(Uo(e).replace(Ut,"")),t,"")}}function Nr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=qi(t.prototype),n=t.apply(i,e);return to(n)?n:i}}function Pr(t){return function(e,i,n){var a=Tt(e);if(!Zs(e)){var s=sa(i,3);e=Oo(e),i=function(t){return s(a[t],t,a)}}var o=t(e,i,n);return o>-1?a[s?e[o]:o]:r}}function Rr(t){return ta((function(e){var i=e.length,n=i,s=Fi.prototype.thru;for(t&&e.reverse();n--;){var o=e[n];if("function"!=typeof o)throw new St(a);if(s&&!l&&"wrapper"==ra(o))var l=new Fi([],!0)}for(n=l?n:i;++n<i;){var h=ra(o=e[n]),c="wrapper"==h?na(o):r;l=c&&ya(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[ra(c[0])].apply(l,c[3]):1==o.length&&ya(o)?l[h]():l.thru(o)}return function(){var t=arguments,n=t[0];if(l&&1==t.length&&Us(n))return l.plant(n).value();for(var r=0,a=i?e[r].apply(this,t):n;++r<i;)a=e[r].call(this,a);return a}}))}function zr(t,e,i,a,s,o,l,c,u,d){var f=e&h,p=1&e,_=2&e,m=24&e,g=512&e,v=_?r:Nr(t);return function r(){for(var h=arguments.length,y=n(h),b=h;b--;)y[b]=arguments[b];if(m)var w=aa(r),k=Ye(y,w);if(a&&(y=Mr(y,a,s,m)),o&&(y=Er(y,o,l,m)),h-=k,m&&h<d){var x=ei(y,w);return Wr(t,e,zr,r.placeholder,i,y,x,c,u,d-h)}var T=p?i:this,M=_?T[t]:t;return h=y.length,c?y=Ea(y,c):g&&h>1&&y.reverse(),f&&u<h&&(y.length=u),this&&this!==ae&&this instanceof r&&(M=v||Nr(M)),M.apply(T,y)}}function qr(t,e){return function(i,n){return function(t,e,i,n){return yn(t,(function(t,r,a){e(n,i(t),r,a)})),n}(i,t,e(n),{})}}function Hr(t,e){return function(i,n){var a;if(i===r&&n===r)return e;if(i!==r&&(a=i),n!==r){if(a===r)return n;"string"==typeof i||"string"==typeof n?(i=or(i),n=or(n)):(i=sr(i),n=sr(n)),a=t(i,n)}return a}}function Fr(t){return ta((function(e){return e=Me(e,Be(sa())),Yn((function(i){var n=this;return t(e,(function(t){return ge(t,n,i)}))}))}))}function $r(t,e){var i=(e=e===r?" ":or(e)).length;if(i<2)return i?Gn(e,t):e;var n=Gn(e,hi(t/ri(e)));return Ke(e)?yr(ai(n),0,t).join(""):n.slice(0,t)}function Br(t){return function(e,i,a){return a&&"number"!=typeof a&&ga(e,i,a)&&(i=a=r),e=po(e),i===r?(i=e,e=0):i=po(i),function(t,e,i,r){for(var a=-1,s=mi(hi((e-t)/(i||1)),0),o=n(s);s--;)o[r?s:++a]=t,t+=i;return o}(e,i,a=a===r?e<i?1:-1:po(a),t)}}function Ur(t){return function(e,i){return"string"==typeof e&&"string"==typeof i||(e=go(e),i=go(i)),t(e,i)}}function Wr(t,e,i,n,a,s,o,h,c,u){var d=8&e;e|=d?l:64,4&(e&=~(d?64:l))||(e&=-4);var f=[t,e,a,d?s:r,d?o:r,d?r:s,d?r:o,h,c,u],p=i.apply(r,f);return ya(t)&&La(p,f),p.placeholder=n,ja(p,t,e)}function Zr(t){var e=xt[t];return function(t,i){if(t=go(t),(i=null==i?0:gi(_o(i),292))&&fi(t)){var n=(yo(t)+"e").split("e");return+((n=(yo(e(n[0]+"e"+(+n[1]+i)))+"e").split("e"))[0]+"e"+(+n[1]-i))}return e(t)}}var Gr=Mi&&1/ii(new Mi([,-0]))[1]==c?function(t){return new Mi(t)}:hl;function Yr(t){return function(e){var i=da(e);return i==k?Qe(e):i==S?ni(e):function(t,e){return Me(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Vr(t,e,i,s,c,u,d,f){var p=2&e;if(!p&&"function"!=typeof t)throw new St(a);var _=s?s.length:0;if(_||(e&=-97,s=c=r),d=d===r?d:mi(_o(d),0),f=f===r?f:_o(f),_-=c?c.length:0,64&e){var m=s,g=c;s=c=r}var v=p?r:na(t),y=[t,e,i,s,c,m,g,u,d,f];if(v&&function(t,e){var i=t[1],n=e[1],r=i|n,a=r<131,s=n==h&&8==i||n==h&&256==i&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==i;if(!a&&!s)return t;1&n&&(t[2]=e[2],r|=1&i?0:4);var l=e[3];if(l){var c=t[3];t[3]=c?Mr(c,l,e[4]):l,t[4]=c?ei(t[3],o):e[4]}(l=e[5])&&(c=t[5],t[5]=c?Er(c,l,e[6]):l,t[6]=c?ei(t[5],o):e[6]),(l=e[7])&&(t[7]=l),n&h&&(t[8]=null==t[8]?e[8]:gi(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r}(y,v),t=y[0],e=y[1],i=y[2],s=y[3],c=y[4],!(f=y[9]=y[9]===r?p?0:t.length:mi(y[9]-_,0))&&24&e&&(e&=-25),e&&1!=e)b=8==e||16==e?function(t,e,i){var a=Nr(t);return function s(){for(var o=arguments.length,l=n(o),h=o,c=aa(s);h--;)l[h]=arguments[h];var u=o<3&&l[0]!==c&&l[o-1]!==c?[]:ei(l,c);return(o-=u.length)<i?Wr(t,e,zr,s.placeholder,r,l,u,r,r,i-o):ge(this&&this!==ae&&this instanceof s?a:t,this,l)}}(t,e,f):e!=l&&33!=e||c.length?zr.apply(r,y):function(t,e,i,r){var a=1&e,s=Nr(t);return function e(){for(var o=-1,l=arguments.length,h=-1,c=r.length,u=n(c+l),d=this&&this!==ae&&this instanceof e?s:t;++h<c;)u[h]=r[h];for(;l--;)u[h++]=arguments[++o];return ge(d,a?i:this,u)}}(t,e,i,s);else var b=function(t,e,i){var n=1&e,r=Nr(t);return function e(){return(this&&this!==ae&&this instanceof e?r:t).apply(n?i:this,arguments)}}(t,e,i);return ja((v?Kn:La)(b,y),t,e)}function Jr(t,e,i,n){return t===r||Hs(t,At[i])&&!Ct.call(n,i)?e:t}function Xr(t,e,i,n,a,s){return to(t)&&to(e)&&(s.set(e,t),Hn(t,e,r,Xr,s),s.delete(e)),t}function Kr(t){return ro(t)?r:t}function Qr(t,e,i,n,a,s){var o=1&i,l=t.length,h=e.length;if(l!=h&&!(o&&h>l))return!1;var c=s.get(t),u=s.get(e);if(c&&u)return c==e&&u==t;var d=-1,f=!0,p=2&i?new Zi:r;for(s.set(t,e),s.set(e,t);++d<l;){var _=t[d],m=e[d];if(n)var g=o?n(m,_,d,e,t,s):n(_,m,d,t,e,s);if(g!==r){if(g)continue;f=!1;break}if(p){if(!De(e,(function(t,e){if(!We(p,e)&&(_===t||a(_,t,i,n,s)))return p.push(e)}))){f=!1;break}}else if(_!==m&&!a(_,m,i,n,s)){f=!1;break}}return s.delete(t),s.delete(e),f}function ta(t){return Aa(Ta(t,r,Wa),t+"")}function ea(t){return xn(t,Oo,ca)}function ia(t){return xn(t,Co,ua)}var na=Li?function(t){return Li.get(t)}:hl;function ra(t){for(var e=t.name+"",i=Di[e],n=Ct.call(Di,e)?i.length:0;n--;){var r=i[n],a=r.func;if(null==a||a==t)return r.name}return e}function aa(t){return(Ct.call(zi,"placeholder")?zi:t).placeholder}function sa(){var t=zi.iteratee||al;return t=t===al?In:t,arguments.length?t(arguments[0],arguments[1]):t}function oa(t,e){var i,n,r=t.__data__;return("string"==(n=typeof(i=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?r["string"==typeof e?"string":"hash"]:r.map}function la(t){for(var e=Oo(t),i=e.length;i--;){var n=e[i],r=t[n];e[i]=[n,r,ka(r)]}return e}function ha(t,e){var i=function(t,e){return null==t?r:t[e]}(t,e);return Cn(i)?i:r}var ca=ui?function(t){return null==t?[]:(t=Tt(t),ke(ui(t),(function(e){return te.call(t,e)})))}:ml,ua=ui?function(t){for(var e=[];t;)Ee(e,ca(t)),t=Zt(t);return e}:ml,da=Tn;function fa(t,e,i){for(var n=-1,r=(e=gr(e,t)).length,a=!1;++n<r;){var s=Ra(e[n]);if(!(a=null!=t&&i(t,s)))break;t=t[s]}return a||++n!=r?a:!!(r=null==t?0:t.length)&&Qs(r)&&ma(s,r)&&(Us(t)||Bs(t))}function pa(t){return"function"!=typeof t.constructor||wa(t)?{}:qi(Zt(t))}function _a(t){return Us(t)||Bs(t)||!!(re&&t&&t[re])}function ma(t,e){var i=typeof t;return!!(e=null==e?u:e)&&("number"==i||"symbol"!=i&&gt.test(t))&&t>-1&&t%1==0&&t<e}function ga(t,e,i){if(!to(i))return!1;var n=typeof e;return!!("number"==n?Zs(i)&&ma(e,i.length):"string"==n&&e in i)&&Hs(i[e],t)}function va(t,e){if(Us(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!lo(t))||Q.test(t)||!K.test(t)||null!=e&&t in Tt(e)}function ya(t){var e=ra(t),i=zi[e];if("function"!=typeof i||!(e in $i.prototype))return!1;if(t===i)return!0;var n=na(i);return!!n&&t===n[0]}(ki&&da(new ki(new ArrayBuffer(1)))!=O||xi&&da(new xi)!=k||Ti&&da(Ti.resolve())!=M||Mi&&da(new Mi)!=S||Ei&&da(new Ei)!=A)&&(da=function(t){var e=Tn(t),i=e==T?t.constructor:r,n=i?za(i):"";if(n)switch(n){case Ai:return O;case ji:return k;case Oi:return M;case Ci:return S;case Ii:return A}return e});var ba=jt?Xs:gl;function wa(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||At)}function ka(t){return t==t&&!to(t)}function xa(t,e){return function(i){return null!=i&&i[t]===e&&(e!==r||t in Tt(i))}}function Ta(t,e,i){return e=mi(e===r?t.length-1:e,0),function(){for(var r=arguments,a=-1,s=mi(r.length-e,0),o=n(s);++a<s;)o[a]=r[e+a];a=-1;for(var l=n(e+1);++a<e;)l[a]=r[a];return l[e]=i(o),ge(t,this,l)}}function Ma(t,e){return e.length<2?t:kn(t,er(e,0,-1))}function Ea(t,e){for(var i=t.length,n=gi(e.length,i),a=Sr(t);n--;){var s=e[n];t[n]=ma(s,i)?a[s]:r}return t}function Sa(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var La=Oa(Kn),Da=ze||function(t,e){return ae.setTimeout(t,e)},Aa=Oa(Qn);function ja(t,e,i){var n=e+"";return Aa(t,function(t,e){var i=e.length;if(!i)return t;var n=i-1;return e[n]=(i>1?"& ":"")+e[n],e=e.join(i>2?", ":" "),t.replace(at,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return ye(p,(function(i){var n="_."+i[0];e&i[1]&&!xe(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(st);return e?e[1].split(ot):[]}(n),i)))}function Oa(t){var e=0,i=0;return function(){var n=vi(),a=16-(n-i);if(i=n,a>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(r,arguments)}}function Ca(t,e){var i=-1,n=t.length,a=n-1;for(e=e===r?n:e;++i<e;){var s=Zn(i,a),o=t[s];t[s]=t[i],t[i]=o}return t.length=e,t}var Ia,Na,Pa=(Ia=Is((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tt,(function(t,i,n,r){e.push(n?r.replace(ct,"$1"):i||t)})),e}),(function(t){return 500===Na.size&&Na.clear(),t})),Na=Ia.cache,Ia);function Ra(t){if("string"==typeof t||lo(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function za(t){if(null!=t){try{return Ot.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function qa(t){if(t instanceof $i)return t.clone();var e=new Fi(t.__wrapped__,t.__chain__);return e.__actions__=Sr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Ha=Yn((function(t,e){return Gs(t)?cn(t,mn(e,1,Gs,!0)):[]})),Fa=Yn((function(t,e){var i=Ja(e);return Gs(i)&&(i=r),Gs(t)?cn(t,mn(e,1,Gs,!0),sa(i,2)):[]})),$a=Yn((function(t,e){var i=Ja(e);return Gs(i)&&(i=r),Gs(t)?cn(t,mn(e,1,Gs,!0),r,i):[]}));function Ba(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var r=null==i?0:_o(i);return r<0&&(r=mi(n+r,0)),Oe(t,sa(e,3),r)}function Ua(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var a=n-1;return i!==r&&(a=_o(i),a=i<0?mi(n+a,0):gi(a,n-1)),Oe(t,sa(e,3),a,!0)}function Wa(t){return null!=t&&t.length?mn(t,1):[]}function Za(t){return t&&t.length?t[0]:r}var Ga=Yn((function(t){var e=Me(t,_r);return e.length&&e[0]===t[0]?Ln(e):[]})),Ya=Yn((function(t){var e=Ja(t),i=Me(t,_r);return e===Ja(i)?e=r:i.pop(),i.length&&i[0]===t[0]?Ln(i,sa(e,2)):[]})),Va=Yn((function(t){var e=Ja(t),i=Me(t,_r);return(e="function"==typeof e?e:r)&&i.pop(),i.length&&i[0]===t[0]?Ln(i,r,e):[]}));function Ja(t){var e=null==t?0:t.length;return e?t[e-1]:r}var Xa=Yn(Ka);function Ka(t,e){return t&&t.length&&e&&e.length?Un(t,e):t}var Qa=ta((function(t,e){var i=null==t?0:t.length,n=an(t,e);return Wn(t,Me(e,(function(t){return ma(t,i)?+t:t})).sort(Tr)),n}));function ts(t){return null==t?t:wi.call(t)}var es=Yn((function(t){return lr(mn(t,1,Gs,!0))})),is=Yn((function(t){var e=Ja(t);return Gs(e)&&(e=r),lr(mn(t,1,Gs,!0),sa(e,2))})),ns=Yn((function(t){var e=Ja(t);return e="function"==typeof e?e:r,lr(mn(t,1,Gs,!0),r,e)}));function rs(t){if(!t||!t.length)return[];var e=0;return t=ke(t,(function(t){if(Gs(t))return e=mi(t.length,e),!0})),Fe(e,(function(e){return Me(t,Re(e))}))}function as(t,e){if(!t||!t.length)return[];var i=rs(t);return null==e?i:Me(i,(function(t){return ge(e,r,t)}))}var ss=Yn((function(t,e){return Gs(t)?cn(t,e):[]})),os=Yn((function(t){return fr(ke(t,Gs))})),ls=Yn((function(t){var e=Ja(t);return Gs(e)&&(e=r),fr(ke(t,Gs),sa(e,2))})),hs=Yn((function(t){var e=Ja(t);return e="function"==typeof e?e:r,fr(ke(t,Gs),r,e)})),cs=Yn(rs),us=Yn((function(t){var e=t.length,i=e>1?t[e-1]:r;return i="function"==typeof i?(t.pop(),i):r,as(t,i)}));function ds(t){var e=zi(t);return e.__chain__=!0,e}function fs(t,e){return e(t)}var ps=ta((function(t){var e=t.length,i=e?t[0]:0,n=this.__wrapped__,a=function(e){return an(e,t)};return!(e>1||this.__actions__.length)&&n instanceof $i&&ma(i)?((n=n.slice(i,+i+(e?1:0))).__actions__.push({func:fs,args:[a],thisArg:r}),new Fi(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push(r),t}))):this.thru(a)})),_s=Dr((function(t,e,i){Ct.call(t,i)?++t[i]:rn(t,i,1)})),ms=Pr(Ba),gs=Pr(Ua);function vs(t,e){return(Us(t)?ye:un)(t,sa(e,3))}function ys(t,e){return(Us(t)?be:dn)(t,sa(e,3))}var bs=Dr((function(t,e,i){Ct.call(t,i)?t[i].push(e):rn(t,i,[e])})),ws=Yn((function(t,e,i){var r=-1,a="function"==typeof e,s=Zs(t)?n(t.length):[];return un(t,(function(t){s[++r]=a?ge(e,t,i):Dn(t,e,i)})),s})),ks=Dr((function(t,e,i){rn(t,i,e)}));function xs(t,e){return(Us(t)?Me:Rn)(t,sa(e,3))}var Ts=Dr((function(t,e,i){t[i?0:1].push(e)}),(function(){return[[],[]]})),Ms=Yn((function(t,e){if(null==t)return[];var i=e.length;return i>1&&ga(t,e[0],e[1])?e=[]:i>2&&ga(e[0],e[1],e[2])&&(e=[e[0]]),$n(t,mn(e,1),[])})),Es=Ae||function(){return ae.Date.now()};function Ss(t,e,i){return e=i?r:e,e=t&&null==e?t.length:e,Vr(t,h,r,r,r,r,e)}function Ls(t,e){var i;if("function"!=typeof e)throw new St(a);return t=_o(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=r),i}}var Ds=Yn((function(t,e,i){var n=1;if(i.length){var r=ei(i,aa(Ds));n|=l}return Vr(t,n,e,i,r)})),As=Yn((function(t,e,i){var n=3;if(i.length){var r=ei(i,aa(As));n|=l}return Vr(e,n,t,i,r)}));function js(t,e,i){var n,s,o,l,h,c,u=0,d=!1,f=!1,p=!0;if("function"!=typeof t)throw new St(a);function _(e){var i=n,a=s;return n=s=r,u=e,l=t.apply(a,i)}function m(t){return u=t,h=Da(v,e),d?_(t):l}function g(t){var i=t-c;return c===r||i>=e||i<0||f&&t-u>=o}function v(){var t=Es();if(g(t))return y(t);h=Da(v,function(t){var i=e-(t-c);return f?gi(i,o-(t-u)):i}(t))}function y(t){return h=r,p&&n?_(t):(n=s=r,l)}function b(){var t=Es(),i=g(t);if(n=arguments,s=this,c=t,i){if(h===r)return m(c);if(f)return br(h),h=Da(v,e),_(c)}return h===r&&(h=Da(v,e)),l}return e=go(e)||0,to(i)&&(d=!!i.leading,o=(f="maxWait"in i)?mi(go(i.maxWait)||0,e):o,p="trailing"in i?!!i.trailing:p),b.cancel=function(){h!==r&&br(h),u=0,n=c=s=h=r},b.flush=function(){return h===r?l:y(Es())},b}var Os=Yn((function(t,e){return hn(t,1,e)})),Cs=Yn((function(t,e,i){return hn(t,go(e)||0,i)}));function Is(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new St(a);var i=function(){var n=arguments,r=e?e.apply(this,n):n[0],a=i.cache;if(a.has(r))return a.get(r);var s=t.apply(this,n);return i.cache=a.set(r,s)||a,s};return i.cache=new(Is.Cache||Wi),i}function Ns(t){if("function"!=typeof t)throw new St(a);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Is.Cache=Wi;var Ps=vr((function(t,e){var i=(e=1==e.length&&Us(e[0])?Me(e[0],Be(sa())):Me(mn(e,1),Be(sa()))).length;return Yn((function(n){for(var r=-1,a=gi(n.length,i);++r<a;)n[r]=e[r].call(this,n[r]);return ge(t,this,n)}))})),Rs=Yn((function(t,e){var i=ei(e,aa(Rs));return Vr(t,l,r,e,i)})),zs=Yn((function(t,e){var i=ei(e,aa(zs));return Vr(t,64,r,e,i)})),qs=ta((function(t,e){return Vr(t,256,r,r,r,e)}));function Hs(t,e){return t===e||t!=t&&e!=e}var Fs=Ur(Mn),$s=Ur((function(t,e){return t>=e})),Bs=An(function(){return arguments}())?An:function(t){return eo(t)&&Ct.call(t,"callee")&&!te.call(t,"callee")},Us=n.isArray,Ws=ue?Be(ue):function(t){return eo(t)&&Tn(t)==j};function Zs(t){return null!=t&&Qs(t.length)&&!Xs(t)}function Gs(t){return eo(t)&&Zs(t)}var Ys=di||gl,Vs=de?Be(de):function(t){return eo(t)&&Tn(t)==v};function Js(t){if(!eo(t))return!1;var e=Tn(t);return e==y||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!ro(t)}function Xs(t){if(!to(t))return!1;var e=Tn(t);return e==b||e==w||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ks(t){return"number"==typeof t&&t==_o(t)}function Qs(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=u}function to(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function eo(t){return null!=t&&"object"==typeof t}var io=fe?Be(fe):function(t){return eo(t)&&da(t)==k};function no(t){return"number"==typeof t||eo(t)&&Tn(t)==x}function ro(t){if(!eo(t)||Tn(t)!=T)return!1;var e=Zt(t);if(null===e)return!0;var i=Ct.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&Ot.call(i)==Rt}var ao=pe?Be(pe):function(t){return eo(t)&&Tn(t)==E},so=_e?Be(_e):function(t){return eo(t)&&da(t)==S};function oo(t){return"string"==typeof t||!Us(t)&&eo(t)&&Tn(t)==L}function lo(t){return"symbol"==typeof t||eo(t)&&Tn(t)==D}var ho=me?Be(me):function(t){return eo(t)&&Qs(t.length)&&!!Kt[Tn(t)]},co=Ur(Pn),uo=Ur((function(t,e){return t<=e}));function fo(t){if(!t)return[];if(Zs(t))return oo(t)?ai(t):Sr(t);if(se&&t[se])return function(t){for(var e,i=[];!(e=t.next()).done;)i.push(e.value);return i}(t[se]());var e=da(t);return(e==k?Qe:e==S?ii:Fo)(t)}function po(t){return t?(t=go(t))===c||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function _o(t){var e=po(t),i=e%1;return e==e?i?e-i:e:0}function mo(t){return t?sn(_o(t),0,f):0}function go(t){if("number"==typeof t)return t;if(lo(t))return d;if(to(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=to(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=$e(t);var i=pt.test(t);return i||mt.test(t)?ie(t.slice(2),i?2:8):ft.test(t)?d:+t}function vo(t){return Lr(t,Co(t))}function yo(t){return null==t?"":or(t)}var bo=Ar((function(t,e){if(wa(e)||Zs(e))Lr(e,Oo(e),t);else for(var i in e)Ct.call(e,i)&&Qi(t,i,e[i])})),wo=Ar((function(t,e){Lr(e,Co(e),t)})),ko=Ar((function(t,e,i,n){Lr(e,Co(e),t,n)})),xo=Ar((function(t,e,i,n){Lr(e,Oo(e),t,n)})),To=ta(an),Mo=Yn((function(t,e){t=Tt(t);var i=-1,n=e.length,a=n>2?e[2]:r;for(a&&ga(e[0],e[1],a)&&(n=1);++i<n;)for(var s=e[i],o=Co(s),l=-1,h=o.length;++l<h;){var c=o[l],u=t[c];(u===r||Hs(u,At[c])&&!Ct.call(t,c))&&(t[c]=s[c])}return t})),Eo=Yn((function(t){return t.push(r,Xr),ge(No,r,t)}));function So(t,e,i){var n=null==t?r:kn(t,e);return n===r?i:n}function Lo(t,e){return null!=t&&fa(t,e,Sn)}var Do=qr((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=Pt.call(e)),t[e]=i}),el(rl)),Ao=qr((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=Pt.call(e)),Ct.call(t,e)?t[e].push(i):t[e]=[i]}),sa),jo=Yn(Dn);function Oo(t){return Zs(t)?Yi(t):Nn(t)}function Co(t){return Zs(t)?Yi(t,!0):function(t){if(!to(t))return function(t){var e=[];if(null!=t)for(var i in Tt(t))e.push(i);return e}(t);var e=wa(t),i=[];for(var n in t)("constructor"!=n||!e&&Ct.call(t,n))&&i.push(n);return i}(t)}var Io=Ar((function(t,e,i){Hn(t,e,i)})),No=Ar((function(t,e,i,n){Hn(t,e,i,n)})),Po=ta((function(t,e){var i={};if(null==t)return i;var n=!1;e=Me(e,(function(e){return e=gr(e,t),n||(n=e.length>1),e})),Lr(t,ia(t),i),n&&(i=on(i,7,Kr));for(var r=e.length;r--;)hr(i,e[r]);return i})),Ro=ta((function(t,e){return null==t?{}:function(t,e){return Bn(t,e,(function(e,i){return Lo(t,i)}))}(t,e)}));function zo(t,e){if(null==t)return{};var i=Me(ia(t),(function(t){return[t]}));return e=sa(e),Bn(t,i,(function(t,i){return e(t,i[0])}))}var qo=Yr(Oo),Ho=Yr(Co);function Fo(t){return null==t?[]:Ue(t,Oo(t))}var $o=Ir((function(t,e,i){return e=e.toLowerCase(),t+(i?Bo(e):e)}));function Bo(t){return Xo(yo(t).toLowerCase())}function Uo(t){return(t=yo(t))&&t.replace(vt,Ve).replace(Wt,"")}var Wo=Ir((function(t,e,i){return t+(i?"-":"")+e.toLowerCase()})),Zo=Ir((function(t,e,i){return t+(i?" ":"")+e.toLowerCase()})),Go=Cr("toLowerCase"),Yo=Ir((function(t,e,i){return t+(i?"_":"")+e.toLowerCase()})),Vo=Ir((function(t,e,i){return t+(i?" ":"")+Xo(e)})),Jo=Ir((function(t,e,i){return t+(i?" ":"")+e.toUpperCase()})),Xo=Cr("toUpperCase");function Ko(t,e,i){return t=yo(t),(e=i?r:e)===r?function(t){return Vt.test(t)}(t)?function(t){return t.match(Gt)||[]}(t):function(t){return t.match(lt)||[]}(t):t.match(e)||[]}var Qo=Yn((function(t,e){try{return ge(t,r,e)}catch(t){return Js(t)?t:new wt(t)}})),tl=ta((function(t,e){return ye(e,(function(e){e=Ra(e),rn(t,e,Ds(t[e],t))})),t}));function el(t){return function(){return t}}var il=Rr(),nl=Rr(!0);function rl(t){return t}function al(t){return In("function"==typeof t?t:on(t,1))}var sl=Yn((function(t,e){return function(i){return Dn(i,t,e)}})),ol=Yn((function(t,e){return function(i){return Dn(t,i,e)}}));function ll(t,e,i){var n=Oo(e),r=wn(e,n);null!=i||to(e)&&(r.length||!n.length)||(i=e,e=t,t=this,r=wn(e,Oo(e)));var a=!(to(i)&&"chain"in i&&!i.chain),s=Xs(t);return ye(r,(function(i){var n=e[i];t[i]=n,s&&(t.prototype[i]=function(){var e=this.__chain__;if(a||e){var i=t(this.__wrapped__),r=i.__actions__=Sr(this.__actions__);return r.push({func:n,args:arguments,thisArg:t}),i.__chain__=e,i}return n.apply(t,Ee([this.value()],arguments))})})),t}function hl(){}var cl=Fr(Me),ul=Fr(we),dl=Fr(De);function fl(t){return va(t)?Re(Ra(t)):function(t){return function(e){return kn(e,t)}}(t)}var pl=Br(),_l=Br(!0);function ml(){return[]}function gl(){return!1}var vl,yl=Hr((function(t,e){return t+e}),0),bl=Zr("ceil"),wl=Hr((function(t,e){return t/e}),1),kl=Zr("floor"),xl=Hr((function(t,e){return t*e}),1),Tl=Zr("round"),Ml=Hr((function(t,e){return t-e}),0);return zi.after=function(t,e){if("function"!=typeof e)throw new St(a);return t=_o(t),function(){if(--t<1)return e.apply(this,arguments)}},zi.ary=Ss,zi.assign=bo,zi.assignIn=wo,zi.assignInWith=ko,zi.assignWith=xo,zi.at=To,zi.before=Ls,zi.bind=Ds,zi.bindAll=tl,zi.bindKey=As,zi.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Us(t)?t:[t]},zi.chain=ds,zi.chunk=function(t,e,i){e=(i?ga(t,e,i):e===r)?1:mi(_o(e),0);var a=null==t?0:t.length;if(!a||e<1)return[];for(var s=0,o=0,l=n(hi(a/e));s<a;)l[o++]=er(t,s,s+=e);return l},zi.compact=function(t){for(var e=-1,i=null==t?0:t.length,n=0,r=[];++e<i;){var a=t[e];a&&(r[n++]=a)}return r},zi.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),i=arguments[0],r=t;r--;)e[r-1]=arguments[r];return Ee(Us(i)?Sr(i):[i],mn(e,1))},zi.cond=function(t){var e=null==t?0:t.length,i=sa();return t=e?Me(t,(function(t){if("function"!=typeof t[1])throw new St(a);return[i(t[0]),t[1]]})):[],Yn((function(i){for(var n=-1;++n<e;){var r=t[n];if(ge(r[0],this,i))return ge(r[1],this,i)}}))},zi.conforms=function(t){return function(t){var e=Oo(t);return function(i){return ln(i,t,e)}}(on(t,1))},zi.constant=el,zi.countBy=_s,zi.create=function(t,e){var i=qi(t);return null==e?i:nn(i,e)},zi.curry=function t(e,i,n){var a=Vr(e,8,r,r,r,r,r,i=n?r:i);return a.placeholder=t.placeholder,a},zi.curryRight=function t(e,i,n){var a=Vr(e,16,r,r,r,r,r,i=n?r:i);return a.placeholder=t.placeholder,a},zi.debounce=js,zi.defaults=Mo,zi.defaultsDeep=Eo,zi.defer=Os,zi.delay=Cs,zi.difference=Ha,zi.differenceBy=Fa,zi.differenceWith=$a,zi.drop=function(t,e,i){var n=null==t?0:t.length;return n?er(t,(e=i||e===r?1:_o(e))<0?0:e,n):[]},zi.dropRight=function(t,e,i){var n=null==t?0:t.length;return n?er(t,0,(e=n-(e=i||e===r?1:_o(e)))<0?0:e):[]},zi.dropRightWhile=function(t,e){return t&&t.length?ur(t,sa(e,3),!0,!0):[]},zi.dropWhile=function(t,e){return t&&t.length?ur(t,sa(e,3),!0):[]},zi.fill=function(t,e,i,n){var a=null==t?0:t.length;return a?(i&&"number"!=typeof i&&ga(t,e,i)&&(i=0,n=a),function(t,e,i,n){var a=t.length;for((i=_o(i))<0&&(i=-i>a?0:a+i),(n=n===r||n>a?a:_o(n))<0&&(n+=a),n=i>n?0:mo(n);i<n;)t[i++]=e;return t}(t,e,i,n)):[]},zi.filter=function(t,e){return(Us(t)?ke:_n)(t,sa(e,3))},zi.flatMap=function(t,e){return mn(xs(t,e),1)},zi.flatMapDeep=function(t,e){return mn(xs(t,e),c)},zi.flatMapDepth=function(t,e,i){return i=i===r?1:_o(i),mn(xs(t,e),i)},zi.flatten=Wa,zi.flattenDeep=function(t){return null!=t&&t.length?mn(t,c):[]},zi.flattenDepth=function(t,e){return null!=t&&t.length?mn(t,e=e===r?1:_o(e)):[]},zi.flip=function(t){return Vr(t,512)},zi.flow=il,zi.flowRight=nl,zi.fromPairs=function(t){for(var e=-1,i=null==t?0:t.length,n={};++e<i;){var r=t[e];n[r[0]]=r[1]}return n},zi.functions=function(t){return null==t?[]:wn(t,Oo(t))},zi.functionsIn=function(t){return null==t?[]:wn(t,Co(t))},zi.groupBy=bs,zi.initial=function(t){return null!=t&&t.length?er(t,0,-1):[]},zi.intersection=Ga,zi.intersectionBy=Ya,zi.intersectionWith=Va,zi.invert=Do,zi.invertBy=Ao,zi.invokeMap=ws,zi.iteratee=al,zi.keyBy=ks,zi.keys=Oo,zi.keysIn=Co,zi.map=xs,zi.mapKeys=function(t,e){var i={};return e=sa(e,3),yn(t,(function(t,n,r){rn(i,e(t,n,r),t)})),i},zi.mapValues=function(t,e){var i={};return e=sa(e,3),yn(t,(function(t,n,r){rn(i,n,e(t,n,r))})),i},zi.matches=function(t){return zn(on(t,1))},zi.matchesProperty=function(t,e){return qn(t,on(e,1))},zi.memoize=Is,zi.merge=Io,zi.mergeWith=No,zi.method=sl,zi.methodOf=ol,zi.mixin=ll,zi.negate=Ns,zi.nthArg=function(t){return t=_o(t),Yn((function(e){return Fn(e,t)}))},zi.omit=Po,zi.omitBy=function(t,e){return zo(t,Ns(sa(e)))},zi.once=function(t){return Ls(2,t)},zi.orderBy=function(t,e,i,n){return null==t?[]:(Us(e)||(e=null==e?[]:[e]),Us(i=n?r:i)||(i=null==i?[]:[i]),$n(t,e,i))},zi.over=cl,zi.overArgs=Ps,zi.overEvery=ul,zi.overSome=dl,zi.partial=Rs,zi.partialRight=zs,zi.partition=Ts,zi.pick=Ro,zi.pickBy=zo,zi.property=fl,zi.propertyOf=function(t){return function(e){return null==t?r:kn(t,e)}},zi.pull=Xa,zi.pullAll=Ka,zi.pullAllBy=function(t,e,i){return t&&t.length&&e&&e.length?Un(t,e,sa(i,2)):t},zi.pullAllWith=function(t,e,i){return t&&t.length&&e&&e.length?Un(t,e,r,i):t},zi.pullAt=Qa,zi.range=pl,zi.rangeRight=_l,zi.rearg=qs,zi.reject=function(t,e){return(Us(t)?ke:_n)(t,Ns(sa(e,3)))},zi.remove=function(t,e){var i=[];if(!t||!t.length)return i;var n=-1,r=[],a=t.length;for(e=sa(e,3);++n<a;){var s=t[n];e(s,n,t)&&(i.push(s),r.push(n))}return Wn(t,r),i},zi.rest=function(t,e){if("function"!=typeof t)throw new St(a);return Yn(t,e=e===r?e:_o(e))},zi.reverse=ts,zi.sampleSize=function(t,e,i){return e=(i?ga(t,e,i):e===r)?1:_o(e),(Us(t)?Ji:Jn)(t,e)},zi.set=function(t,e,i){return null==t?t:Xn(t,e,i)},zi.setWith=function(t,e,i,n){return n="function"==typeof n?n:r,null==t?t:Xn(t,e,i,n)},zi.shuffle=function(t){return(Us(t)?Xi:tr)(t)},zi.slice=function(t,e,i){var n=null==t?0:t.length;return n?(i&&"number"!=typeof i&&ga(t,e,i)?(e=0,i=n):(e=null==e?0:_o(e),i=i===r?n:_o(i)),er(t,e,i)):[]},zi.sortBy=Ms,zi.sortedUniq=function(t){return t&&t.length?ar(t):[]},zi.sortedUniqBy=function(t,e){return t&&t.length?ar(t,sa(e,2)):[]},zi.split=function(t,e,i){return i&&"number"!=typeof i&&ga(t,e,i)&&(e=i=r),(i=i===r?f:i>>>0)?(t=yo(t))&&("string"==typeof e||null!=e&&!ao(e))&&!(e=or(e))&&Ke(t)?yr(ai(t),0,i):t.split(e,i):[]},zi.spread=function(t,e){if("function"!=typeof t)throw new St(a);return e=null==e?0:mi(_o(e),0),Yn((function(i){var n=i[e],r=yr(i,0,e);return n&&Ee(r,n),ge(t,this,r)}))},zi.tail=function(t){var e=null==t?0:t.length;return e?er(t,1,e):[]},zi.take=function(t,e,i){return t&&t.length?er(t,0,(e=i||e===r?1:_o(e))<0?0:e):[]},zi.takeRight=function(t,e,i){var n=null==t?0:t.length;return n?er(t,(e=n-(e=i||e===r?1:_o(e)))<0?0:e,n):[]},zi.takeRightWhile=function(t,e){return t&&t.length?ur(t,sa(e,3),!1,!0):[]},zi.takeWhile=function(t,e){return t&&t.length?ur(t,sa(e,3)):[]},zi.tap=function(t,e){return e(t),t},zi.throttle=function(t,e,i){var n=!0,r=!0;if("function"!=typeof t)throw new St(a);return to(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),js(t,e,{leading:n,maxWait:e,trailing:r})},zi.thru=fs,zi.toArray=fo,zi.toPairs=qo,zi.toPairsIn=Ho,zi.toPath=function(t){return Us(t)?Me(t,Ra):lo(t)?[t]:Sr(Pa(yo(t)))},zi.toPlainObject=vo,zi.transform=function(t,e,i){var n=Us(t),r=n||Ys(t)||ho(t);if(e=sa(e,4),null==i){var a=t&&t.constructor;i=r?n?new a:[]:to(t)&&Xs(a)?qi(Zt(t)):{}}return(r?ye:yn)(t,(function(t,n,r){return e(i,t,n,r)})),i},zi.unary=function(t){return Ss(t,1)},zi.union=es,zi.unionBy=is,zi.unionWith=ns,zi.uniq=function(t){return t&&t.length?lr(t):[]},zi.uniqBy=function(t,e){return t&&t.length?lr(t,sa(e,2)):[]},zi.uniqWith=function(t,e){return e="function"==typeof e?e:r,t&&t.length?lr(t,r,e):[]},zi.unset=function(t,e){return null==t||hr(t,e)},zi.unzip=rs,zi.unzipWith=as,zi.update=function(t,e,i){return null==t?t:cr(t,e,mr(i))},zi.updateWith=function(t,e,i,n){return n="function"==typeof n?n:r,null==t?t:cr(t,e,mr(i),n)},zi.values=Fo,zi.valuesIn=function(t){return null==t?[]:Ue(t,Co(t))},zi.without=ss,zi.words=Ko,zi.wrap=function(t,e){return Rs(mr(e),t)},zi.xor=os,zi.xorBy=ls,zi.xorWith=hs,zi.zip=cs,zi.zipObject=function(t,e){return pr(t||[],e||[],Qi)},zi.zipObjectDeep=function(t,e){return pr(t||[],e||[],Xn)},zi.zipWith=us,zi.entries=qo,zi.entriesIn=Ho,zi.extend=wo,zi.extendWith=ko,ll(zi,zi),zi.add=yl,zi.attempt=Qo,zi.camelCase=$o,zi.capitalize=Bo,zi.ceil=bl,zi.clamp=function(t,e,i){return i===r&&(i=e,e=r),i!==r&&(i=(i=go(i))==i?i:0),e!==r&&(e=(e=go(e))==e?e:0),sn(go(t),e,i)},zi.clone=function(t){return on(t,4)},zi.cloneDeep=function(t){return on(t,5)},zi.cloneDeepWith=function(t,e){return on(t,5,e="function"==typeof e?e:r)},zi.cloneWith=function(t,e){return on(t,4,e="function"==typeof e?e:r)},zi.conformsTo=function(t,e){return null==e||ln(t,e,Oo(e))},zi.deburr=Uo,zi.defaultTo=function(t,e){return null==t||t!=t?e:t},zi.divide=wl,zi.endsWith=function(t,e,i){t=yo(t),e=or(e);var n=t.length,a=i=i===r?n:sn(_o(i),0,n);return(i-=e.length)>=0&&t.slice(i,a)==e},zi.eq=Hs,zi.escape=function(t){return(t=yo(t))&&Y.test(t)?t.replace(Z,Je):t},zi.escapeRegExp=function(t){return(t=yo(t))&&it.test(t)?t.replace(et,"\\$&"):t},zi.every=function(t,e,i){var n=Us(t)?we:fn;return i&&ga(t,e,i)&&(e=r),n(t,sa(e,3))},zi.find=ms,zi.findIndex=Ba,zi.findKey=function(t,e){return je(t,sa(e,3),yn)},zi.findLast=gs,zi.findLastIndex=Ua,zi.findLastKey=function(t,e){return je(t,sa(e,3),bn)},zi.floor=kl,zi.forEach=vs,zi.forEachRight=ys,zi.forIn=function(t,e){return null==t?t:gn(t,sa(e,3),Co)},zi.forInRight=function(t,e){return null==t?t:vn(t,sa(e,3),Co)},zi.forOwn=function(t,e){return t&&yn(t,sa(e,3))},zi.forOwnRight=function(t,e){return t&&bn(t,sa(e,3))},zi.get=So,zi.gt=Fs,zi.gte=$s,zi.has=function(t,e){return null!=t&&fa(t,e,En)},zi.hasIn=Lo,zi.head=Za,zi.identity=rl,zi.includes=function(t,e,i,n){t=Zs(t)?t:Fo(t),i=i&&!n?_o(i):0;var r=t.length;return i<0&&(i=mi(r+i,0)),oo(t)?i<=r&&t.indexOf(e,i)>-1:!!r&&Ce(t,e,i)>-1},zi.indexOf=function(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var r=null==i?0:_o(i);return r<0&&(r=mi(n+r,0)),Ce(t,e,r)},zi.inRange=function(t,e,i){return e=po(e),i===r?(i=e,e=0):i=po(i),function(t,e,i){return t>=gi(e,i)&&t<mi(e,i)}(t=go(t),e,i)},zi.invoke=jo,zi.isArguments=Bs,zi.isArray=Us,zi.isArrayBuffer=Ws,zi.isArrayLike=Zs,zi.isArrayLikeObject=Gs,zi.isBoolean=function(t){return!0===t||!1===t||eo(t)&&Tn(t)==g},zi.isBuffer=Ys,zi.isDate=Vs,zi.isElement=function(t){return eo(t)&&1===t.nodeType&&!ro(t)},zi.isEmpty=function(t){if(null==t)return!0;if(Zs(t)&&(Us(t)||"string"==typeof t||"function"==typeof t.splice||Ys(t)||ho(t)||Bs(t)))return!t.length;var e=da(t);if(e==k||e==S)return!t.size;if(wa(t))return!Nn(t).length;for(var i in t)if(Ct.call(t,i))return!1;return!0},zi.isEqual=function(t,e){return jn(t,e)},zi.isEqualWith=function(t,e,i){var n=(i="function"==typeof i?i:r)?i(t,e):r;return n===r?jn(t,e,r,i):!!n},zi.isError=Js,zi.isFinite=function(t){return"number"==typeof t&&fi(t)},zi.isFunction=Xs,zi.isInteger=Ks,zi.isLength=Qs,zi.isMap=io,zi.isMatch=function(t,e){return t===e||On(t,e,la(e))},zi.isMatchWith=function(t,e,i){return i="function"==typeof i?i:r,On(t,e,la(e),i)},zi.isNaN=function(t){return no(t)&&t!=+t},zi.isNative=function(t){if(ba(t))throw new wt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Cn(t)},zi.isNil=function(t){return null==t},zi.isNull=function(t){return null===t},zi.isNumber=no,zi.isObject=to,zi.isObjectLike=eo,zi.isPlainObject=ro,zi.isRegExp=ao,zi.isSafeInteger=function(t){return Ks(t)&&t>=-9007199254740991&&t<=u},zi.isSet=so,zi.isString=oo,zi.isSymbol=lo,zi.isTypedArray=ho,zi.isUndefined=function(t){return t===r},zi.isWeakMap=function(t){return eo(t)&&da(t)==A},zi.isWeakSet=function(t){return eo(t)&&"[object WeakSet]"==Tn(t)},zi.join=function(t,e){return null==t?"":pi.call(t,e)},zi.kebabCase=Wo,zi.last=Ja,zi.lastIndexOf=function(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var a=n;return i!==r&&(a=(a=_o(i))<0?mi(n+a,0):gi(a,n-1)),e==e?function(t,e,i){for(var n=i+1;n--;)if(t[n]===e)return n;return n}(t,e,a):Oe(t,Ne,a,!0)},zi.lowerCase=Zo,zi.lowerFirst=Go,zi.lt=co,zi.lte=uo,zi.max=function(t){return t&&t.length?pn(t,rl,Mn):r},zi.maxBy=function(t,e){return t&&t.length?pn(t,sa(e,2),Mn):r},zi.mean=function(t){return Pe(t,rl)},zi.meanBy=function(t,e){return Pe(t,sa(e,2))},zi.min=function(t){return t&&t.length?pn(t,rl,Pn):r},zi.minBy=function(t,e){return t&&t.length?pn(t,sa(e,2),Pn):r},zi.stubArray=ml,zi.stubFalse=gl,zi.stubObject=function(){return{}},zi.stubString=function(){return""},zi.stubTrue=function(){return!0},zi.multiply=xl,zi.nth=function(t,e){return t&&t.length?Fn(t,_o(e)):r},zi.noConflict=function(){return ae._===this&&(ae._=zt),this},zi.noop=hl,zi.now=Es,zi.pad=function(t,e,i){t=yo(t);var n=(e=_o(e))?ri(t):0;if(!e||n>=e)return t;var r=(e-n)/2;return $r(ci(r),i)+t+$r(hi(r),i)},zi.padEnd=function(t,e,i){t=yo(t);var n=(e=_o(e))?ri(t):0;return e&&n<e?t+$r(e-n,i):t},zi.padStart=function(t,e,i){t=yo(t);var n=(e=_o(e))?ri(t):0;return e&&n<e?$r(e-n,i)+t:t},zi.parseInt=function(t,e,i){return i||null==e?e=0:e&&(e=+e),yi(yo(t).replace(nt,""),e||0)},zi.random=function(t,e,i){if(i&&"boolean"!=typeof i&&ga(t,e,i)&&(e=i=r),i===r&&("boolean"==typeof e?(i=e,e=r):"boolean"==typeof t&&(i=t,t=r)),t===r&&e===r?(t=0,e=1):(t=po(t),e===r?(e=t,t=0):e=po(e)),t>e){var n=t;t=e,e=n}if(i||t%1||e%1){var a=bi();return gi(t+a*(e-t+ee("1e-"+((a+"").length-1))),e)}return Zn(t,e)},zi.reduce=function(t,e,i){var n=Us(t)?Se:qe,r=arguments.length<3;return n(t,sa(e,4),i,r,un)},zi.reduceRight=function(t,e,i){var n=Us(t)?Le:qe,r=arguments.length<3;return n(t,sa(e,4),i,r,dn)},zi.repeat=function(t,e,i){return e=(i?ga(t,e,i):e===r)?1:_o(e),Gn(yo(t),e)},zi.replace=function(){var t=arguments,e=yo(t[0]);return t.length<3?e:e.replace(t[1],t[2])},zi.result=function(t,e,i){var n=-1,a=(e=gr(e,t)).length;for(a||(a=1,t=r);++n<a;){var s=null==t?r:t[Ra(e[n])];s===r&&(n=a,s=i),t=Xs(s)?s.call(t):s}return t},zi.round=Tl,zi.runInContext=t,zi.sample=function(t){return(Us(t)?Vi:Vn)(t)},zi.size=function(t){if(null==t)return 0;if(Zs(t))return oo(t)?ri(t):t.length;var e=da(t);return e==k||e==S?t.size:Nn(t).length},zi.snakeCase=Yo,zi.some=function(t,e,i){var n=Us(t)?De:ir;return i&&ga(t,e,i)&&(e=r),n(t,sa(e,3))},zi.sortedIndex=function(t,e){return nr(t,e)},zi.sortedIndexBy=function(t,e,i){return rr(t,e,sa(i,2))},zi.sortedIndexOf=function(t,e){var i=null==t?0:t.length;if(i){var n=nr(t,e);if(n<i&&Hs(t[n],e))return n}return-1},zi.sortedLastIndex=function(t,e){return nr(t,e,!0)},zi.sortedLastIndexBy=function(t,e,i){return rr(t,e,sa(i,2),!0)},zi.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var i=nr(t,e,!0)-1;if(Hs(t[i],e))return i}return-1},zi.startCase=Vo,zi.startsWith=function(t,e,i){return t=yo(t),i=null==i?0:sn(_o(i),0,t.length),e=or(e),t.slice(i,i+e.length)==e},zi.subtract=Ml,zi.sum=function(t){return t&&t.length?He(t,rl):0},zi.sumBy=function(t,e){return t&&t.length?He(t,sa(e,2)):0},zi.template=function(t,e,i){var n=zi.templateSettings;i&&ga(t,e,i)&&(e=r),t=yo(t),e=ko({},e,n,Jr);var a,s,o=ko({},e.imports,n.imports,Jr),l=Oo(o),h=Ue(o,l),c=0,u=e.interpolate||yt,d="__p += '",f=Mt((e.escape||yt).source+"|"+u.source+"|"+(u===X?ut:yt).source+"|"+(e.evaluate||yt).source+"|$","g"),p="//# sourceURL="+(Ct.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xt+"]")+"\n";t.replace(f,(function(e,i,n,r,o,l){return n||(n=r),d+=t.slice(c,l).replace(bt,Xe),i&&(a=!0,d+="' +\n__e("+i+") +\n'"),o&&(s=!0,d+="';\n"+o+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=l+e.length,e})),d+="';\n";var _=Ct.call(e,"variable")&&e.variable;if(_){if(ht.test(_))throw new wt("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace($,""):d).replace(B,"$1").replace(U,"$1;"),d="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Qo((function(){return kt(l,p+"return "+d).apply(r,h)}));if(m.source=d,Js(m))throw m;return m},zi.times=function(t,e){if((t=_o(t))<1||t>u)return[];var i=f,n=gi(t,f);e=sa(e),t-=f;for(var r=Fe(n,e);++i<t;)e(i);return r},zi.toFinite=po,zi.toInteger=_o,zi.toLength=mo,zi.toLower=function(t){return yo(t).toLowerCase()},zi.toNumber=go,zi.toSafeInteger=function(t){return t?sn(_o(t),-9007199254740991,u):0===t?t:0},zi.toString=yo,zi.toUpper=function(t){return yo(t).toUpperCase()},zi.trim=function(t,e,i){if((t=yo(t))&&(i||e===r))return $e(t);if(!t||!(e=or(e)))return t;var n=ai(t),a=ai(e);return yr(n,Ze(n,a),Ge(n,a)+1).join("")},zi.trimEnd=function(t,e,i){if((t=yo(t))&&(i||e===r))return t.slice(0,si(t)+1);if(!t||!(e=or(e)))return t;var n=ai(t);return yr(n,0,Ge(n,ai(e))+1).join("")},zi.trimStart=function(t,e,i){if((t=yo(t))&&(i||e===r))return t.replace(nt,"");if(!t||!(e=or(e)))return t;var n=ai(t);return yr(n,Ze(n,ai(e))).join("")},zi.truncate=function(t,e){var i=30,n="...";if(to(e)){var a="separator"in e?e.separator:a;i="length"in e?_o(e.length):i,n="omission"in e?or(e.omission):n}var s=(t=yo(t)).length;if(Ke(t)){var o=ai(t);s=o.length}if(i>=s)return t;var l=i-ri(n);if(l<1)return n;var h=o?yr(o,0,l).join(""):t.slice(0,l);if(a===r)return h+n;if(o&&(l+=h.length-l),ao(a)){if(t.slice(l).search(a)){var c,u=h;for(a.global||(a=Mt(a.source,yo(dt.exec(a))+"g")),a.lastIndex=0;c=a.exec(u);)var d=c.index;h=h.slice(0,d===r?l:d)}}else if(t.indexOf(or(a),l)!=l){var f=h.lastIndexOf(a);f>-1&&(h=h.slice(0,f))}return h+n},zi.unescape=function(t){return(t=yo(t))&&G.test(t)?t.replace(W,oi):t},zi.uniqueId=function(t){var e=++It;return yo(t)+e},zi.upperCase=Jo,zi.upperFirst=Xo,zi.each=vs,zi.eachRight=ys,zi.first=Za,ll(zi,(vl={},yn(zi,(function(t,e){Ct.call(zi.prototype,e)||(vl[e]=t)})),vl),{chain:!1}),zi.VERSION="4.17.21",ye(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){zi[t].placeholder=zi})),ye(["drop","take"],(function(t,e){$i.prototype[t]=function(i){i=i===r?1:mi(_o(i),0);var n=this.__filtered__&&!e?new $i(this):this.clone();return n.__filtered__?n.__takeCount__=gi(i,n.__takeCount__):n.__views__.push({size:gi(i,f),type:t+(n.__dir__<0?"Right":"")}),n},$i.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ye(["filter","map","takeWhile"],(function(t,e){var i=e+1,n=1==i||3==i;$i.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:sa(t,3),type:i}),e.__filtered__=e.__filtered__||n,e}})),ye(["head","last"],(function(t,e){var i="take"+(e?"Right":"");$i.prototype[t]=function(){return this[i](1).value()[0]}})),ye(["initial","tail"],(function(t,e){var i="drop"+(e?"":"Right");$i.prototype[t]=function(){return this.__filtered__?new $i(this):this[i](1)}})),$i.prototype.compact=function(){return this.filter(rl)},$i.prototype.find=function(t){return this.filter(t).head()},$i.prototype.findLast=function(t){return this.reverse().find(t)},$i.prototype.invokeMap=Yn((function(t,e){return"function"==typeof t?new $i(this):this.map((function(i){return Dn(i,t,e)}))})),$i.prototype.reject=function(t){return this.filter(Ns(sa(t)))},$i.prototype.slice=function(t,e){t=_o(t);var i=this;return i.__filtered__&&(t>0||e<0)?new $i(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),e!==r&&(i=(e=_o(e))<0?i.dropRight(-e):i.take(e-t)),i)},$i.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},$i.prototype.toArray=function(){return this.take(f)},yn($i.prototype,(function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),a=zi[n?"take"+("last"==e?"Right":""):e],s=n||/^find/.test(e);a&&(zi.prototype[e]=function(){var e=this.__wrapped__,o=n?[1]:arguments,l=e instanceof $i,h=o[0],c=l||Us(e),u=function(t){var e=a.apply(zi,Ee([t],o));return n&&d?e[0]:e};c&&i&&"function"==typeof h&&1!=h.length&&(l=c=!1);var d=this.__chain__,f=!!this.__actions__.length,p=s&&!d,_=l&&!f;if(!s&&c){e=_?e:new $i(this);var m=t.apply(e,o);return m.__actions__.push({func:fs,args:[u],thisArg:r}),new Fi(m,d)}return p&&_?t.apply(this,o):(m=this.thru(u),p?n?m.value()[0]:m.value():m)})})),ye(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Lt[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);zi.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var r=this.value();return e.apply(Us(r)?r:[],t)}return this[i]((function(i){return e.apply(Us(i)?i:[],t)}))}})),yn($i.prototype,(function(t,e){var i=zi[e];if(i){var n=i.name+"";Ct.call(Di,n)||(Di[n]=[]),Di[n].push({name:e,func:i})}})),Di[zr(r,2).name]=[{name:"wrapper",func:r}],$i.prototype.clone=function(){var t=new $i(this.__wrapped__);return t.__actions__=Sr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Sr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Sr(this.__views__),t},$i.prototype.reverse=function(){if(this.__filtered__){var t=new $i(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},$i.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,i=Us(t),n=e<0,r=i?t.length:0,a=function(t,e,i){for(var n=-1,r=i.length;++n<r;){var a=i[n],s=a.size;switch(a.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=gi(e,t+s);break;case"takeRight":t=mi(t,e-s)}}return{start:t,end:e}}(0,r,this.__views__),s=a.start,o=a.end,l=o-s,h=n?o:s-1,c=this.__iteratees__,u=c.length,d=0,f=gi(l,this.__takeCount__);if(!i||!n&&r==l&&f==l)return dr(t,this.__actions__);var p=[];t:for(;l--&&d<f;){for(var _=-1,m=t[h+=e];++_<u;){var g=c[_],v=g.iteratee,y=g.type,b=v(m);if(2==y)m=b;else if(!b){if(1==y)continue t;break t}}p[d++]=m}return p},zi.prototype.at=ps,zi.prototype.chain=function(){return ds(this)},zi.prototype.commit=function(){return new Fi(this.value(),this.__chain__)},zi.prototype.next=function(){this.__values__===r&&(this.__values__=fo(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?r:this.__values__[this.__index__++]}},zi.prototype.plant=function(t){for(var e,i=this;i instanceof Hi;){var n=qa(i);n.__index__=0,n.__values__=r,e?a.__wrapped__=n:e=n;var a=n;i=i.__wrapped__}return a.__wrapped__=t,e},zi.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof $i){var e=t;return this.__actions__.length&&(e=new $i(this)),(e=e.reverse()).__actions__.push({func:fs,args:[ts],thisArg:r}),new Fi(e,this.__chain__)}return this.thru(ts)},zi.prototype.toJSON=zi.prototype.valueOf=zi.prototype.value=function(){return dr(this.__wrapped__,this.__actions__)},zi.prototype.first=zi.prototype.head,se&&(zi.prototype[se]=function(){return this}),zi}();ae._=li,(n=function(){return li}.call(e,i,e,t))===r||(t.exports=n)}.call(this)}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var a=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t})(),(()=>{"use strict";const t=navigator?navigator.userAgent.toLowerCase():"no-user-agent-specified",e=document?document.documentElement:null,r=!!t&&-1!==t.indexOf("phantom"),a=window&&"ActiveXObject"in window,s=(Boolean(a&&t.match(/MSIE 9/i)),a&&document&&document.addEventListener,-1!==t.indexOf("webkit")),o=(t.indexOf("android"),-1!==t.search("android [23]")),l=!!window&&void 0!==window.orientation,h=!(!navigator||!window)&&navigator.msPointerEnabled&&navigator.msMaxTouchPoints&&!window.PointerEvent,c=navigator&&window?window.PointerEvent&&navigator.pointerEnabled&&navigator.maxTouchPoints:h,u=!!window&&window.opera,d=(t.indexOf("gecko"),-1!==t.indexOf("gecko")&&!s&&!u&&!a),f=(t.indexOf("chrome"),-1!==t.indexOf("edge/"));!!e&&a&&e.style,!!window&&"WebKitCSSMatrix"in window&&new window.WebKitCSSMatrix,!!e&&e.style,!!e&&e.style;window&&window.L_DISABLE_3D,l&&window.opera;let p=!!window&&"devicePixelRatio"in window&&window.devicePixelRatio>1;if(!p&&window&&"matchMedia"in window){let t=window.matchMedia("(min-resolution:144dpi)");p=t&&t.matches}const _=window&&!window.L_NO_TOUCH&&!r&&(c||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch);function m(t){return"string"==typeof t?document.getElementById(t):t}function g(t,e,i){var n=document.createElement(t);return n.className=e,i&&i.appendChild(n),n}function v(t){for(var e={x:0,y:0};t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)e.x+=t.offsetLeft,e.y+=t.offsetTop,t=t.offsetParent;return e}function y(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function b(t,e){(function(t,e){return t.className.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)})(t,e)||(t.className+=(t.className?" ":"")+e)}function w(t,e){t.className=t.className.replace(/(\S+)\s*/g,(function(t,i){return i===e?"":t})).replace(/^\s+/,"")}y(["transition","webkitTransition","OTransition","MozTransition","msTransition"]),y(["transformProperty","WebkitTransform","OTransform","MozTransform","msTransform"]);class x extends Error{constructor(t,e){super(),this.name="TLError",this.message=t||"error",this.message_key=this.message,this.detail=e||""}}const T={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function M(t){T[t.toLowerCase()]&&(t=T[t.toLowerCase()]),t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,i,n){return e+e+i+i+n+n}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function E(t,e){var i;for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}function S(t){for(var e=Array.prototype.slice.call(arguments,1),i=0,n=e.length;i<n;i++)E(t,e[i]||{});return t}const L=[];function D(t){L.forEach((e=>{try{e(t)}catch(t){console&&console.log&&console.log("Error handling trace",t)}}))}function A(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}const j=(O=0,C="_tl_id",function(t){return t[C]=t[C]||++O,t[C]});var O,C;function I(t){return t&&"function"==typeof t.replace?t.replace(/^\s+|\s+$/g,""):""}function N(t,...e){for(let n of e)for(var i of Object.getOwnPropertyNames(n.prototype))t.prototype[i]=n.prototype[i]}function P(t){t=(t=I(t)).toLowerCase();for(var e="ãàáäâẽèéëêìíïîõòóöôùúüûñç·/_,:;",i=0,n=e.length;i<n;i++)t=t.replace(new RegExp(e.charAt(i),"g"),"aaaaaeeeeeiiiiooooouuuunc------".charAt(i));return(t=t.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")).replace(/^([0-9])/,"_$1")}function R(t,e){var i=function(t){for(var e="",i=0;i<t;i++)e+="abcdefghijklmnopqurstuvwxyz".substr(Math.floor(32*Math.random()),1);return e};return e?e+"-"+i(t):"tl-"+i(t)}function z(t){return t==parseFloat(t)?!(t%2):void 0}function q(t,e,i,n){for(var r=n||0,a=0;a<e.length;a++)e[a].data[i]==t&&(r=a);return r}function H(t){return t?t=(t=t.replace(/<a\b[^>]*>/i,"")).replace(/<\/a>/i,""):t}function F(t){return(t=t.replace(/(<[^>]*>)+/g,"")).replace('"',"'")}function $(t,e,i){var n=function(t,e,i){return i||(i=""),e&&e.length>30&&(e=e.substring(0,30)+"…"),i+"<a class='tl-makelink' href='"+t+"' onclick='void(0)'>"+e+"</a>"};return t.replace(/\b(?:https?|ftp):\/\/([a-z0-9-+&@#\/%?=~_|!:,.;]*[a-z0-9-+&@#\/%=~_|])/gim,(function(t,e,i,r){if(i>0){var a=r[i-1];if('"'==a||"'"==a||"="==a)return t}return n(t,e)})).replace(/(^|[^\/>])(www\.[\S]+(\b|$))/gim,(function(t,e,i,r,a){return n("http://"+i,i,e)})).replace(/([a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+)/gim,(function(t,e,i,r){return n("mailto:"+e,e)}))}function B(t){return t.replace(/(.*)www.dropbox.com\/(.*)/,"$1dl.dropboxusercontent.com/$2")}const U=t=>{var e={w:0,h:0};return t.w>t.h&&t.h>0?(e.h=t.h,e.w=t.h):(e.w=t.w,e.h=t.w),e},W=t=>null!==t.w&&""!==t.w?Math.round(t.w/16*9):null!==t.h&&""!==t.h?Math.round(t.h/9*16):0;let Z=(Y=(G="123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ").length,{encode:function(t){if("number"!=typeof t||t!==parseInt(t))throw'"encode" only accepts integers.';for(var e="";t;){var i=t%Y;t=Math.floor(t/Y),e=G[i].toString()+e}return e},decode:function(t){if("string"!=typeof t)throw'"decode" only accepts strings.';for(var e=0;t;){var i=G.indexOf(t[0]);if(i<0)throw'"decode" can\'t find "'+t[0]+'" in the alphabet: "'+G+'"';var n=t.length-1;e+=i*Math.pow(Y,n),t=t.substring(1)}return e}});var G,Y;function V(t){if("string"==typeof t){let n=t.match(/^\s*(\d+h)?(\d+m)?(\d+s)?\s*/i);if(n){var e=parseInt(n[1])||0,i=parseInt(n[2])||0;return(parseInt(n[3])||0)+60*i+60*e*60}}else if("number"==typeof t)return t;return 0}function J(t){return(new DOMParser).parseFromString(t,"text/html").body.textContent||""}const X=[.42,0,1,1];function K(t){}function Q(t){return new K(X).get(t)}function tt(t){return 1==t?1:1-Math.pow(2,-10*t)}function et(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}let it=function(){};it.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments)},i=function(){};i.prototype=this.prototype;var n=new i;for(var r in n.constructor=e,e.prototype=n,e.superclass=this.prototype,this)this.hasOwnProperty(r)&&"prototype"!==r&&"superclass"!==r&&(e[r]=this[r]);return t.statics&&(S(e,t.statics),delete t.statics),t.includes&&(S.apply(null,[n].concat(t.includes)),delete t.includes),t.options&&n.options&&(t.options=S({},n.options,t.options)),S(n,t),e.extend=it.extend,e.include=function(t){S(this.prototype,t)},e};class nt{on(t,e,i){if(!e)throw new x("No callback function provided");var n=this._tl_events=this._tl_events||{};return n[t]=n[t]||[],n[t].push({action:e,context:i||this}),this}addEventListener(t,e,i){return this.on(t,e,i)}hasEventListeners(t){var e="_tl_events";return e in this&&t in this[e]&&this[e][t].length>0}removeEventListener(t,e,i){if(!this.hasEventListeners(t))return this;for(var n=0,r=this._tl_events,a=r[t].length;n<a;n++)if(r[t][n].action===e&&(!i||r[t][n].context===i))return r[t].splice(n,1),this;return this}off(t,e,i){return this.removeEventListener(t,e,i)}fire(t,e){if(!this.hasEventListeners(t))return this;for(var i=E({type:t,target:this},e),n=this._tl_events[t].slice(),r=0,a=n.length;r<a;r++)n[r].action?n[r].action.call(n[r].context||this,i):D(`no action defined for ${t} listener`);return this}}function rt(t,e){return at(t,e)}const at=function(){var t=document,e=window,i=e.performance,n=i&&(i.now||i.webkitNow||i.msNow||i.mozNow),r=n?function(){return n.call(i)}:function(){return+new Date},a=t.documentElement,s=!1,o=1e3,l=/^rgb\(|#/,h=/^([+\-])=([\d\.]+)/,c=/^(?:[\+\-]=?)?\d+(?:\.\d+)?(%|in|cm|mm|em|ex|pt|pc|px)$/,u=/rotate\(((?:[+\-]=)?([\-\d\.]+))deg\)/,d=/scale\(((?:[+\-]=)?([\d\.]+))\)/,f=/skew\(((?:[+\-]=)?([\-\d\.]+))deg, ?((?:[+\-]=)?([\-\d\.]+))deg\)/,p=/translate\(((?:[+\-]=)?([\-\d\.]+))px, ?((?:[+\-]=)?([\-\d\.]+))px\)/,_={lineHeight:1,zoom:1,zIndex:1,opacity:1,transform:1},m=function(){var e,i=t.createElement("a").style,n=["webkitTransform","MozTransform","OTransform","msTransform","Transform"];for(e=0;e<n.length;e++)if(n[e]in i)return n[e]}(),g=void 0!==t.createElement("a").style.opacity,v=t.defaultView&&t.defaultView.getComputedStyle?function(e,i){i=M(i="transform"==i?m:i);var n=null,r=t.defaultView.getComputedStyle(e,"");return r&&(n=r[i]),e.style[i]||n}:a.currentStyle?function(t,e){if("opacity"==(e=M(e))){var i=100;try{i=t.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(e){try{i=t.filters("alpha").opacity}catch(t){}}return i/100}var n=t.currentStyle?t.currentStyle[e]:null;return t.style[e]||n}:function(t,e){return t.style[M(e)]},y=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||e.oRequestAnimationFrame||function(t){e.setTimeout((function(){t(+new Date)}),17)},b=[];function w(t){var e,i=b.length;for(n&&t>1e12&&(t=r()),s&&(t=r()),e=i;e--;)b[e](t);b.length&&y(w)}function k(t,e){var i,n={};return(i=t.match(u))&&(n.rotate=j(i[1],e?e.rotate:null)),(i=t.match(d))&&(n.scale=j(i[1],e?e.scale:null)),(i=t.match(f))&&(n.skewx=j(i[1],e?e.skewx:null),n.skewy=j(i[3],e?e.skewy:null)),(i=t.match(p))&&(n.translatex=j(i[1],e?e.translatex:null),n.translatey=j(i[3],e?e.translatey:null)),n}function x(t){var e="";return"rotate"in t&&(e+="rotate("+t.rotate+"deg) "),"scale"in t&&(e+="scale("+t.scale+") "),"translatex"in t&&(e+="translate("+t.translatex+"px,"+t.translatey+"px) "),"skewx"in t&&(e+="skew("+t.skewx+"deg,"+t.skewy+"deg)"),e}function T(t){var e,i,n,r=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);return(r?(e=r[1],i=r[2],n=r[3],"#"+(1<<24|e<<16|i<<8|n).toString(16).slice(1)):t).replace(/#(\w)(\w)(\w)$/,"#$1$1$2$2$3$3")}function M(t){return t.replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))}function E(t){return"function"==typeof t}function S(t){return Math.sin(t*Math.PI/2)}function L(t,e,i,n,a,s){n=E(n)?n:O.easings[n]||S;var l,h=t||o,c=this,u=s-a,d=r(),f=0,p=0;return l=function t(r){var o=r-d;if(o>h||f)return s=isFinite(s)?s:1,f?p&&e(s):e(s),function(t){var e,i=function(t,e,i){if(Array.prototype.indexOf)return t.indexOf(e);for(i=0;i<t.length;++i)if(t[i]===e)return i}(b,t);i>=0&&(e=b.slice(i+1),b.length=i,b=b.concat(e))}(t),i&&i.apply(c);isFinite(s)?e(u*n(o/h)+a):e(n(o/h))},1===b.push(l)&&y(w),{stop:function(t){f=1,p=t,t||(i=null)}}}function D(t,e){var i,n,r=t.length,a=[];for(i=0;i<r;++i)a[i]=[t[i][0],t[i][1]];for(n=1;n<r;++n)for(i=0;i<r-n;++i)a[i][0]=(1-e)*a[i][0]+e*a[parseInt(i+1,10)][0],a[i][1]=(1-e)*a[i][1]+e*a[parseInt(i+1,10)][1];return[a[0][0],a[0][1]]}function A(t,e,i,n,r,a,s){if("transform"==r){for(var l in s={},i[a][r])s[l]=l in n[a][r]?Math.round(((n[a][r][l]-i[a][r][l])*t+i[a][r][l])*o)/o:i[a][r][l];return s}return"string"==typeof i[a][r]?function(t,e,i){var n,r,a,s,o=[];for(n=0;n<6;n++)a=Math.min(15,parseInt(e.charAt(n),16)),s=Math.min(15,parseInt(i.charAt(n),16)),r=(r=Math.floor((s-a)*t+a))>15?15:r<0?0:r,o[n]=r.toString(16);return"#"+o.join("")}(t,i[a][r],n[a][r]):(s=Math.round(((n[a][r]-i[a][r])*t+i[a][r])*o)/o,r in _||(s+=e[a][r]||"px"),s)}function j(t,e,i,n,r){return(i=h.exec(t))?(r=parseFloat(i[2]))&&e+("+"==i[1]?1:-1)*r:parseFloat(t)}function O(t,e){var i,n,r,a=t?a=isFinite(t.length)?t:[t]:[],s=e.complete,o=e.duration,h=e.easing,u=e.bezier,d=[],f=[],p=[],_=[];for(u&&(n=e.left,r=e.top,delete e.right,delete e.bottom,delete e.left,delete e.top),i=a.length;i--;){if(d[i]={},f[i]={},p[i]={},u){var y=v(a[i],"left"),b=v(a[i],"top"),w=[j(E(n)?n(a[i]):n||0,parseFloat(y)),j(E(r)?r(a[i]):r||0,parseFloat(b))];_[i]=E(u)?u(a[i],w):u,_[i].push(w),_[i].unshift([parseInt(y,10),parseInt(b,10)])}for(var S in e){switch(S){case"complete":case"duration":case"easing":case"bezier":continue}var O,C=v(a[i],S),I=E(e[S])?e[S](a[i]):e[S];"string"!=typeof I||!l.test(I)||l.test(C)?(d[i][S]="transform"==S?k(C):"string"==typeof I&&l.test(I)?T(C).slice(1):parseFloat(C),f[i][S]="transform"==S?k(I,d[i][S]):"string"==typeof I&&"#"==I.charAt(0)?T(I).slice(1):j(I,parseFloat(C)),"string"==typeof I&&(O=I.match(c))&&(p[i][S]=O[1])):delete e[S]}}return L.apply(a,[o,function(t,n,r){for(i=a.length;i--;)for(var s in u&&(r=D(_[i],t),a[i].style.left=r[0]+"px",a[i].style.top=r[1]+"px"),e)n=A(t,p,d,f,s,i),"transform"==s?a[i].style[m]=x(n):"opacity"!=s||g?a[i].style[M(s)]=n:a[i].style.filter="alpha(opacity="+100*n+")"},s,h])}return y((function(t){s=t>1e12!=r()>1e12})),O.tween=L,O.getStyle=v,O.bezier=D,O.transform=m,O.parseTransform=k,O.formatTransform=x,O.easings={},O}();class st{show(t){t||(this._el.container.style.display="block")}hide(t){this._el.container.style.display="none"}addTo(t){t.appendChild(this._el.container),this.onAdd()}removeFrom(t){t.removeChild(this._el.container),this.onRemove()}animatePosition(t,e){var i={duration:this.options.duration,easing:this.options.ease};for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n]+"px");this.animator&&this.animator.stop(),this.animator=rt(e,i)}onLoaded(){this.fire("loaded",this.data)}onAdd(){this.fire("added",this.data)}onRemove(){this.fire("removed",this.data)}setPosition(t,e){for(var i in t)t.hasOwnProperty(i)&&(e?e.style[i]=t[i]+"px":this._el.container.style[i]=t[i]+"px")}getPosition(){return v(this._el.container)}}class ot{constructor(t,e,i){this._el={drag:t,move:t},this.mousedrag={down:"mousedown",up:"mouseup",leave:"mouseleave",move:"mousemove"},this.touchdrag={down:"touchstart",up:"touchend",leave:"mouseleave",move:"touchmove"},i&&(this._el.move=i),this.options={enable:{x:!0,y:!0},constraint:{top:!1,bottom:!1,left:!1,right:!1},momentum_multiplier:2e3,duration:1e3,ease:et},this.animator=null,this.dragevent=this.mousedrag,_&&(this.dragevent=this.touchdrag),this.data={sliding:!1,direction:"none",pagex:{start:0,end:0},pagey:{start:0,end:0},pos:{start:{x:0,y:0},end:{x:0,y:0}},new_pos:{x:0,y:0},new_pos_parent:{x:0,y:0},time:{start:0,end:0},touch:!1},E(this.options,e)}enable(t){this.data.pos.start=0,this._el.move.style.left=this.data.pos.start.x+"px",this._el.move.style.top=this.data.pos.start.y+"px",this._el.move.style.position="absolute"}disable(){ht.removeListener(this._el.drag,this.dragevent.down,this._onDragStart,this),ht.removeListener(this._el.drag,this.dragevent.up,this._onDragEnd,this)}stopMomentum(){this.animator&&this.animator.stop()}updateConstraint(t){this.options.constraint=t}_onDragStart(t){_?t.originalEvent?(this.data.pagex.start=t.originalEvent.touches[0].screenX,this.data.pagey.start=t.originalEvent.touches[0].screenY):(this.data.pagex.start=t.targetTouches[0].screenX,this.data.pagey.start=t.targetTouches[0].screenY):(this.data.pagex.start=t.pageX,this.data.pagey.start=t.pageY),this.options.enable.x&&(this._el.move.style.left=this.data.pagex.start-this._el.move.offsetWidth/2+"px"),this.options.enable.y&&(this._el.move.style.top=this.data.pagey.start-this._el.move.offsetHeight/2+"px"),this.data.pos.start=v(this._el.drag),this.data.time.start=(new Date).getTime(),this.fire("dragstart",this.data),ht.addListener(this._el.drag,this.dragevent.move,this._onDragMove,this),ht.addListener(this._el.drag,this.dragevent.leave,this._onDragEnd,this)}_onDragEnd(t){this.data.sliding=!1,ht.removeListener(this._el.drag,this.dragevent.move,this._onDragMove,this),ht.removeListener(this._el.drag,this.dragevent.leave,this._onDragEnd,this),this.fire("dragend",this.data),this._momentum()}_onDragMove(t){t.preventDefault(),this.data.sliding=!0,_?t.originalEvent?(this.data.pagex.end=t.originalEvent.touches[0].screenX,this.data.pagey.end=t.originalEvent.touches[0].screenY):(this.data.pagex.end=t.targetTouches[0].screenX,this.data.pagey.end=t.targetTouches[0].screenY):(this.data.pagex.end=t.pageX,this.data.pagey.end=t.pageY),this.data.pos.end=v(this._el.drag),this.data.new_pos.x=-(this.data.pagex.start-this.data.pagex.end-this.data.pos.start.x),this.data.new_pos.y=-(this.data.pagey.start-this.data.pagey.end-this.data.pos.start.y),this.options.enable.x&&(this._el.move.style.left=this.data.new_pos.x+"px"),this.options.enable.y&&(this._el.move.style.top=this.data.new_pos.y+"px"),this.fire("dragmove",this.data)}_momentum(){var t={x:0,y:0,time:0},e={x:0,y:0,time:0},i=!1;t.time=10*((new Date).getTime()-this.data.time.start),e.time=10*((new Date).getTime()-this.data.time.start),e.x=this.options.momentum_multiplier*(Math.abs(this.data.pagex.end)-Math.abs(this.data.pagex.start)),e.y=this.options.momentum_multiplier*(Math.abs(this.data.pagey.end)-Math.abs(this.data.pagey.start)),t.x=Math.round(e.x/e.time),t.y=Math.round(e.y/e.time),this.data.new_pos.x=Math.min(this.data.pos.end.x+t.x),this.data.new_pos.y=Math.min(this.data.pos.end.y+t.y),this.options.enable.x?this.data.new_pos.x<0&&(this.data.new_pos.x=0):this.data.new_pos.x=this.data.pos.start.x,this.options.enable.y?this.data.new_pos.y<0&&(this.data.new_pos.y=0):this.data.new_pos.y=this.data.pos.start.y,e.time<3e3&&(i=!0),Math.abs(e.x)>1e4&&(this.data.direction="left",e.x>0&&(this.data.direction="right")),Math.abs(e.y)>1e4&&(this.data.direction="up",e.y>0&&(this.data.direction="down")),this._animateMomentum(),i&&this.fire("swipe_"+this.data.direction,this.data)}_animateMomentum(){var t={x:this.data.new_pos.x,y:this.data.new_pos.y},e={duration:this.options.duration,easing:tt};this.options.enable.y&&((this.options.constraint.top||this.options.constraint.bottom)&&(t.y>this.options.constraint.bottom?t.y=this.options.constraint.bottom:t.y<this.options.constraint.top&&(t.y=this.options.constraint.top)),e.top=Math.floor(t.y)+"px"),this.options.enable.x&&((this.options.constraint.left||this.options.constraint.right)&&(t.x>this.options.constraint.left?t.x=this.options.constraint.left:t.x<this.options.constraint.right&&(t.x=this.options.constraint.right)),e.left=Math.floor(t.x)+"px"),this.animator=rt(this._el.move,e),this.fire("momentum",this.data)}}N(nt);var lt,ht={addListener:function(t,e,i,n){var r=j(i),a="_tl_"+e+r;if(!t[a]){var s=function(e){return i.call(n||t,e||ht._getEvent())};if(_&&"dblclick"===e&&this.addDoubleTapListener)this.addDoubleTapListener(t,s,r);else if("addEventListener"in t)if("mousewheel"===e)t.addEventListener("DOMMouseScroll",s,!1),t.addEventListener(e,s,!1);else if("mouseenter"===e||"mouseleave"===e){var o=s,l="mouseenter"===e?"mouseover":"mouseout";s=function(e){if(ht._checkMouse(t,e))return o(e)},t.addEventListener(l,s,!1)}else t.addEventListener(e,s,!1);else"attachEvent"in t&&t.attachEvent("on"+e,s);t[a]=s}},removeListener:function(t,e,i){var n=j(i),r="_tl_"+e+n,a=t[r];a&&(_&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,n):"removeEventListener"in t?"mousewheel"===e?(t.removeEventListener("DOMMouseScroll",a,!1),t.removeEventListener(e,a,!1)):"mouseenter"===e||"mouseleave"===e?t.removeEventListener("mouseenter"===e?"mouseover":"mouseout",a,!1):t.removeEventListener(e,a,!1):"detachEvent"in t&&t.detachEvent("on"+e,a),t[r]=null)},_checkMouse:function(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(t){return!1}return i!==t},_getEvent:function(){var t=window.event;if(!t)for(var e=arguments.callee.caller;e&&(!(t=e.arguments[0])||window.Event!==t.constructor);)e=e.caller;return t},stopPropagation:function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},disableClickPropagation:function(t){ht.addListener(t,ot.START,ht.stopPropagation),ht.addListener(t,"click",ht.stopPropagation),ht.addListener(t,"dblclick",ht.stopPropagation)},preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},stop:function(t){ht.preventDefault(t),ht.stopPropagation(t)},getWheelDelta:function(t){var e=0;return t.wheelDelta&&(e=t.wheelDelta/120),t.detail&&(e=-t.detail/3),e}},ct=function(){var t,e,i,n,r,a,s=[],o=s.slice,l=s.filter,h=window.document,c={},u={},d={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},f=/^\s*<(\w+|!)[^>]*>/,p=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,_=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,m=/^(?:body|html)$/i,g=/([A-Z])/g,v=["val","css","html","text","data","width","height","offset"],y=h.createElement("table"),b=h.createElement("tr"),w={tr:h.createElement("tbody"),tbody:y,thead:y,tfoot:y,td:b,th:b,"*":h.createElement("div")},k=/complete|loaded|interactive/,x=/^[\w-]*$/,T={},M=T.toString,E={},S=h.createElement("div"),L={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},D=Array.isArray||function(t){return t instanceof Array};function A(t){return null==t?String(t):T[M.call(t)]||"object"}function j(t){return"function"==A(t)}function O(t){return null!=t&&t==t.window}function C(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function I(t){return"object"==A(t)}function N(t){return I(t)&&!O(t)&&Object.getPrototypeOf(t)==Object.prototype}function P(t){return"number"==typeof t.length}function R(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function z(t){return t in u?u[t]:u[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function q(t,e){return"number"!=typeof e||d[R(t)]?e:e+"px"}function H(t){return"children"in t?o.call(t.children):i.map(t.childNodes,(function(t){if(1==t.nodeType)return t}))}function F(i,n,r){for(e in n)r&&(N(n[e])||D(n[e]))?(N(n[e])&&!N(i[e])&&(i[e]={}),D(n[e])&&!D(i[e])&&(i[e]=[]),F(i[e],n[e],r)):n[e]!==t&&(i[e]=n[e])}function $(t,e){return null==e?i(t):i(t).filter(e)}function B(t,e,i,n){return j(e)?e.call(t,i,n):e}function U(t,e,i){null==i?t.removeAttribute(e):t.setAttribute(e,i)}function W(e,i){var n=e.className,r=n&&n.baseVal!==t;if(i===t)return r?n.baseVal:n;r?n.baseVal=i:e.className=i}function Z(t){var e;try{return t?"true"==t||"false"!=t&&("null"==t?null:/^0/.test(t)||isNaN(e=Number(t))?/^[\[\{]/.test(t)?i.parseJSON(t):t:e):t}catch(e){return t}}function G(t,e){for(var i in e(t),t.childNodes)G(t.childNodes[i],e)}return E.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var i=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(i)return i.call(t,e);var n,r=t.parentNode,a=!r;return a&&(r=S).appendChild(t),n=~E.qsa(r,e).indexOf(t),a&&S.removeChild(t),n},r=function(t){return t.replace(/-+(.)?/g,(function(t,e){return e?e.toUpperCase():""}))},a=function(t){return l.call(t,(function(e,i){return t.indexOf(e)==i}))},E.fragment=function(e,n,r){var a,s,l;return p.test(e)&&(a=i(h.createElement(RegExp.$1))),a||(e.replace&&(e=e.replace(_,"<$1></$2>")),n===t&&(n=f.test(e)&&RegExp.$1),n in w||(n="*"),(l=w[n]).innerHTML=""+e,a=i.each(o.call(l.childNodes),(function(){l.removeChild(this)}))),N(r)&&(s=i(a),i.each(r,(function(t,e){v.indexOf(t)>-1?s[t](e):s.attr(t,e)}))),a},E.Z=function(t,e){return(t=t||[]).__proto__=i.fn,t.selector=e||"",t},E.isZ=function(t){return t instanceof E.Z},E.init=function(e,n){var r,a;if(!e)return E.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&f.test(e))r=E.fragment(e,RegExp.$1,n),e=null;else{if(n!==t)return i(n).find(e);r=E.qsa(h,e)}else{if(j(e))return i(h).ready(e);if(E.isZ(e))return e;if(D(e))a=e,r=l.call(a,(function(t){return null!=t}));else if(I(e))r=[e],e=null;else if(f.test(e))r=E.fragment(e.trim(),RegExp.$1,n),e=null;else{if(n!==t)return i(n).find(e);r=E.qsa(h,e)}}return E.Z(r,e)},(i=function(t,e){return E.init(t,e)}).extend=function(t){var e,i=o.call(arguments,1);return"boolean"==typeof t&&(e=t,t=i.shift()),i.forEach((function(i){F(t,i,e)})),t},E.qsa=function(t,e){var i,n="#"==e[0],r=!n&&"."==e[0],a=n||r?e.slice(1):e,s=x.test(a);return C(t)&&s&&n?(i=t.getElementById(a))?[i]:[]:1!==t.nodeType&&9!==t.nodeType?[]:o.call(s&&!n?r?t.getElementsByClassName(a):t.getElementsByTagName(e):t.querySelectorAll(e))},i.contains=function(t,e){return t!==e&&t.contains(e)},i.type=A,i.isFunction=j,i.isWindow=O,i.isArray=D,i.isPlainObject=N,i.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},i.inArray=function(t,e,i){return s.indexOf.call(e,t,i)},i.camelCase=r,i.trim=function(t){return null==t?"":String.prototype.trim.call(t)},i.uuid=0,i.support={},i.expr={},i.map=function(t,e){var n,r,a,s,o=[];if(P(t))for(r=0;r<t.length;r++)null!=(n=e(t[r],r))&&o.push(n);else for(a in t)null!=(n=e(t[a],a))&&o.push(n);return(s=o).length>0?i.fn.concat.apply([],s):s},i.each=function(t,e){var i,n;if(P(t)){for(i=0;i<t.length;i++)if(!1===e.call(t[i],i,t[i]))return t}else for(n in t)if(!1===e.call(t[n],n,t[n]))return t;return t},i.grep=function(t,e){return l.call(t,e)},window.JSON&&(i.parseJSON=JSON.parse),i.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(t,e){T["[object "+e+"]"]=e.toLowerCase()})),i.fn={forEach:s.forEach,reduce:s.reduce,push:s.push,sort:s.sort,indexOf:s.indexOf,concat:s.concat,map:function(t){return i(i.map(this,(function(e,i){return t.call(e,i,e)})))},slice:function(){return i(o.apply(this,arguments))},ready:function(t){return k.test(h.readyState)&&h.body?t(i):h.addEventListener("DOMContentLoaded",(function(){t(i)}),!1),this},get:function(e){return e===t?o.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each((function(){null!=this.parentNode&&this.parentNode.removeChild(this)}))},each:function(t){return s.every.call(this,(function(e,i){return!1!==t.call(e,i,e)})),this},filter:function(t){return j(t)?this.not(this.not(t)):i(l.call(this,(function(e){return E.matches(e,t)})))},add:function(t,e){return i(a(this.concat(i(t,e))))},is:function(t){return this.length>0&&E.matches(this[0],t)},not:function(e){var n=[];if(j(e)&&e.call!==t)this.each((function(t){e.call(this,t)||n.push(this)}));else{var r="string"==typeof e?this.filter(e):P(e)&&j(e.item)?o.call(e):i(e);this.forEach((function(t){r.indexOf(t)<0&&n.push(t)}))}return i(n)},has:function(t){return this.filter((function(){return I(t)?i.contains(this,t):i(this).find(t).size()}))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!I(t)?t:i(t)},last:function(){var t=this[this.length-1];return t&&!I(t)?t:i(t)},find:function(t){var e=this;return"object"==typeof t?i(t).filter((function(){var t=this;return s.some.call(e,(function(e){return i.contains(e,t)}))})):1==this.length?i(E.qsa(this[0],t)):this.map((function(){return E.qsa(this,t)}))},closest:function(t,e){var n=this[0],r=!1;for("object"==typeof t&&(r=i(t));n&&!(r?r.indexOf(n)>=0:E.matches(n,t));)n=n!==e&&!C(n)&&n.parentNode;return i(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=i.map(n,(function(t){if((t=t.parentNode)&&!C(t)&&e.indexOf(t)<0)return e.push(t),t}));return $(e,t)},parent:function(t){return $(a(this.pluck("parentNode")),t)},children:function(t){return $(this.map((function(){return H(this)})),t)},contents:function(){return this.map((function(){return o.call(this.childNodes)}))},siblings:function(t){return $(this.map((function(t,e){return l.call(H(e.parentNode),(function(t){return t!==e}))})),t)},empty:function(){return this.each((function(){this.innerHTML=""}))},pluck:function(t){return i.map(this,(function(e){return e[t]}))},show:function(){return this.each((function(){var t,e,i;"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=(t=this.nodeName,c[t]||(e=h.createElement(t),h.body.appendChild(e),i=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==i&&(i="block"),c[t]=i),c[t]))}))},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var e=j(t);if(this[0]&&!e)var n=i(t).get(0),r=n.parentNode||this.length>1;return this.each((function(a){i(this).wrapAll(e?t.call(this,a):r?n.cloneNode(!0):n)}))},wrapAll:function(t){if(this[0]){var e;for(i(this[0]).before(t=i(t));(e=t.children()).length;)t=e.first();i(t).append(this)}return this},wrapInner:function(t){var e=j(t);return this.each((function(n){var r=i(this),a=r.contents(),s=e?t.call(this,n):t;a.length?a.wrapAll(s):r.append(s)}))},unwrap:function(){return this.parent().each((function(){i(this).replaceWith(i(this).children())})),this},clone:function(){return this.map((function(){return this.cloneNode(!0)}))},hide:function(){return this.css("display","none")},toggle:function(e){return this.each((function(){var n=i(this);(e===t?"none"==n.css("display"):e)?n.show():n.hide()}))},prev:function(t){return i(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return i(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0===arguments.length?this.length>0?this[0].innerHTML:null:this.each((function(e){var n=this.innerHTML;i(this).empty().append(B(this,t,e,n))}))},text:function(e){return 0===arguments.length?this.length>0?this[0].textContent:null:this.each((function(){this.textContent=e===t?"":""+e}))},attr:function(i,n){var r;return"string"==typeof i&&n===t?0==this.length||1!==this[0].nodeType?t:"value"==i&&"INPUT"==this[0].nodeName?this.val():!(r=this[0].getAttribute(i))&&i in this[0]?this[0][i]:r:this.each((function(t){if(1===this.nodeType)if(I(i))for(e in i)U(this,e,i[e]);else U(this,i,B(this,n,t,this.getAttribute(i)))}))},removeAttr:function(t){return this.each((function(){1===this.nodeType&&U(this,t)}))},prop:function(e,i){return e=L[e]||e,i===t?this[0]&&this[0][e]:this.each((function(t){this[e]=B(this,i,t,this[e])}))},data:function(e,i){var n=this.attr("data-"+e.replace(g,"-$1").toLowerCase(),i);return null!==n?Z(n):t},val:function(t){return 0===arguments.length?this[0]&&(this[0].multiple?i(this[0]).find("option").filter((function(){return this.selected})).pluck("value"):this[0].value):this.each((function(e){this.value=B(this,t,e,this.value)}))},offset:function(t){if(t)return this.each((function(e){var n=i(this),r=B(this,t,e,n.offset()),a=n.offsetParent().offset(),s={top:r.top-a.top,left:r.left-a.left};"static"==n.css("position")&&(s.position="relative"),n.css(s)}));if(0==this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(t,n){if(arguments.length<2){var a=this[0],s=getComputedStyle(a,"");if(!a)return;if("string"==typeof t)return a.style[r(t)]||s.getPropertyValue(t);if(D(t)){var o={};return i.each(D(t)?t:[t],(function(t,e){o[e]=a.style[r(e)]||s.getPropertyValue(e)})),o}}var l="";if("string"==A(t))n||0===n?l=R(t)+":"+q(t,n):this.each((function(){this.style.removeProperty(R(t))}));else for(e in t)t[e]||0===t[e]?l+=R(e)+":"+q(e,t[e])+";":this.each((function(){this.style.removeProperty(R(e))}));return this.each((function(){this.style.cssText+=";"+l}))},index:function(t){return t?this.indexOf(i(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&s.some.call(this,(function(t){return this.test(W(t))}),z(t))},addClass:function(t){return t?this.each((function(e){n=[];var r=W(this);B(this,t,e,r).split(/\s+/g).forEach((function(t){i(this).hasClass(t)||n.push(t)}),this),n.length&&W(this,r+(r?" ":"")+n.join(" "))})):this},removeClass:function(e){return this.each((function(i){if(e===t)return W(this,"");n=W(this),B(this,e,i,n).split(/\s+/g).forEach((function(t){n=n.replace(z(t)," ")})),W(this,n.trim())}))},toggleClass:function(e,n){return e?this.each((function(r){var a=i(this);B(this,e,r,W(this)).split(/\s+/g).forEach((function(e){(n===t?!a.hasClass(e):n)?a.addClass(e):a.removeClass(e)}))})):this},scrollTop:function(e){if(this.length){var i="scrollTop"in this[0];return e===t?i?this[0].scrollTop:this[0].pageYOffset:this.each(i?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var i="scrollLeft"in this[0];return e===t?i?this[0].scrollLeft:this[0].pageXOffset:this.each(i?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),r=m.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(i(t).css("margin-top"))||0,n.left-=parseFloat(i(t).css("margin-left"))||0,r.top+=parseFloat(i(e[0]).css("border-top-width"))||0,r.left+=parseFloat(i(e[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent||h.body;t&&!m.test(t.nodeName)&&"static"==i(t).css("position");)t=t.offsetParent;return t}))}},i.fn.detach=i.fn.remove,["width","height"].forEach((function(e){var n=e.replace(/./,(function(t){return t[0].toUpperCase()}));i.fn[e]=function(r){var a,s=this[0];return r===t?O(s)?s["inner"+n]:C(s)?s.documentElement["scroll"+n]:(a=this.offset())&&a[e]:this.each((function(t){(s=i(this)).css(e,B(this,r,t,s[e]()))}))}})),["after","prepend","before","append"].forEach((function(t,e){var n=e%2;i.fn[t]=function(){var t,r,a=i.map(arguments,(function(e){return"object"==(t=A(e))||"array"==t||null==e?e:E.fragment(e)})),s=this.length>1;return a.length<1?this:this.each((function(t,o){r=n?o:o.parentNode,o=0==e?o.nextSibling:1==e?o.firstChild:2==e?o:null,a.forEach((function(t){if(s)t=t.cloneNode(!0);else if(!r)return i(t).remove();G(r.insertBefore(t,o),(function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)}))}))}))},i.fn[n?t+"To":"insert"+(e?"Before":"After")]=function(e){return i(e)[t](this),this}})),E.Z.prototype=i.fn,E.uniq=a,E.deserializeValue=Z,i.zepto=E,i}();window.Zepto=ct,void 0===window.$&&(window.$=ct),function(t){t.zepto.qsa;var e,i=1,n=Array.prototype.slice,r=t.isFunction,a=function(t){return"string"==typeof t},s={},o={},l="onfocusin"in window,h={focus:"focusin",blur:"focusout"},c={mouseenter:"mouseover",mouseleave:"mouseout"};function u(t){return t._zid||(t._zid=i++)}function d(t,e,i,n){if((e=f(e)).ns)var r=(a=e.ns,new RegExp("(?:^| )"+a.replace(" "," .* ?")+"(?: |$)"));var a;return(s[u(t)]||[]).filter((function(t){return t&&(!e.e||t.e==e.e)&&(!e.ns||r.test(t.ns))&&(!i||u(t.fn)===u(i))&&(!n||t.sel==n)}))}function f(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function p(t,e){return t.del&&!l&&t.e in h||!!e}function _(t){return c[t]||l&&h[t]||t}function m(i,n,r,a,o,l,h){var d=u(i),m=s[d]||(s[d]=[]);n.split(/\s/).forEach((function(n){if("ready"==n)return t(document).ready(r);var s=f(n);s.fn=r,s.sel=o,s.e in c&&(r=function(e){var i=e.relatedTarget;if(!i||i!==this&&!t.contains(this,i))return s.fn.apply(this,arguments)}),s.del=l;var u=l||r;s.proxy=function(t){if(!(t=k(t)).isImmediatePropagationStopped()){t.data=a;var n=u.apply(i,t._args==e?[t]:[t].concat(t._args));return!1===n&&(t.preventDefault(),t.stopPropagation()),n}},s.i=m.length,m.push(s),"addEventListener"in i&&i.addEventListener(_(s.e),s.proxy,p(s,h))}))}function g(t,e,i,n,r){var a=u(t);(e||"").split(/\s/).forEach((function(e){d(t,e,i,n).forEach((function(e){delete s[a][e.i],"removeEventListener"in t&&t.removeEventListener(_(e.e),e.proxy,p(e,r))}))}))}o.click=o.mousedown=o.mouseup=o.mousemove="MouseEvents",t.event={add:m,remove:g},t.proxy=function(e,i){if(r(e)){var n=function(){return e.apply(i,arguments)};return n._zid=u(e),n}if(a(i))return t.proxy(e[i],e);throw new TypeError("expected function")},t.fn.bind=function(t,e,i){return this.on(t,e,i)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,i,n){return this.on(t,e,i,n,1)};var v=function(){return!0},y=function(){return!1},b=/^([A-Z]|returnValue$|layer[XY]$)/,w={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function k(i,n){return!n&&i.isDefaultPrevented||(n||(n=i),t.each(w,(function(t,e){var r=n[t];i[t]=function(){return this[e]=v,r&&r.apply(n,arguments)},i[e]=y})),(n.defaultPrevented!==e?n.defaultPrevented:"returnValue"in n?!1===n.returnValue:n.getPreventDefault&&n.getPreventDefault())&&(i.isDefaultPrevented=v)),i}function x(t){var i,n={originalEvent:t};for(i in t)b.test(i)||t[i]===e||(n[i]=t[i]);return k(n,t)}t.fn.delegate=function(t,e,i){return this.on(e,t,i)},t.fn.undelegate=function(t,e,i){return this.off(e,t,i)},t.fn.live=function(e,i){return t(document.body).delegate(this.selector,e,i),this},t.fn.die=function(e,i){return t(document.body).undelegate(this.selector,e,i),this},t.fn.on=function(i,s,o,l,h){var c,u,d=this;return i&&!a(i)?(t.each(i,(function(t,e){d.on(t,s,o,e,h)})),d):(a(s)||r(l)||!1===l||(l=o,o=s,s=e),(r(o)||!1===o)&&(l=o,o=e),!1===l&&(l=y),d.each((function(e,r){h&&(c=function(t){return g(r,t.type,l),l.apply(this,arguments)}),s&&(u=function(e){var i,a=t(e.target).closest(s,r).get(0);if(a&&a!==r)return i=t.extend(x(e),{currentTarget:a,liveFired:r}),(c||l).apply(a,[i].concat(n.call(arguments,1)))}),m(r,i,l,o,s,u||c)})))},t.fn.off=function(i,n,s){var o=this;return i&&!a(i)?(t.each(i,(function(t,e){o.off(t,n,e)})),o):(a(n)||r(s)||!1===s||(s=n,n=e),!1===s&&(s=y),o.each((function(){g(this,i,s,n)})))},t.fn.trigger=function(e,i){return(e=a(e)||t.isPlainObject(e)?t.Event(e):k(e))._args=i,this.each((function(){"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,i)}))},t.fn.triggerHandler=function(e,i){var n,r;return this.each((function(s,o){(n=x(a(e)?t.Event(e):e))._args=i,n.target=o,t.each(d(o,e.type||e),(function(t,e){if(r=e.proxy(n),n.isImmediatePropagationStopped())return!1}))})),r},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach((function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.trigger(e)}})),["focus","blur"].forEach((function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.each((function(){try{this[e]()}catch(t){}})),this}})),t.Event=function(t,e){a(t)||(t=(e=t).type);var i=document.createEvent(o[t]||"Events"),n=!0;if(e)for(var r in e)"bubbles"==r?n=!!e[r]:i[r]=e[r];return i.initEvent(t,n,!0),k(i)}}(ct),function(t){var e,i,n=0,r=window.document,a=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,s=/^(?:text|application)\/javascript/i,o=/^(?:text|application)\/xml/i,l="application/json",h="text/html",c=/^\s*$/;function u(e,i,n,a){if(e.global)return function(e,i,n){var r=t.Event(i);return t(e).trigger(r,n),!r.isDefaultPrevented()}(i||r,n,a)}function d(t,e){var i=e.context;if(!1===e.beforeSend.call(i,t,e)||!1===u(e,i,"ajaxBeforeSend",[t,e]))return!1;u(e,i,"ajaxSend",[t,e])}function f(t,e,i,n){var r=i.context,a="success";i.success.call(r,t,a,e),n&&n.resolveWith(r,[t,a,e]),u(i,r,"ajaxSuccess",[e,i,t]),_(a,e,i)}function p(t,e,i,n,r){var a=n.context;n.error.call(a,i,e,t),r&&r.rejectWith(a,[i,e,t]),u(n,a,"ajaxError",[i,n,t||e]),_(e,i,n)}function _(e,i,n){var r=n.context;n.complete.call(r,i,e),u(n,r,"ajaxComplete",[i,n]),function(e){e.global&&!--t.active&&u(e,null,"ajaxStop")}(n)}function m(){}function g(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function v(e,i,n,r){var a=!t.isFunction(i);return{url:e,data:a?i:void 0,success:a?t.isFunction(n)?n:void 0:i,dataType:a&&r||n}}t.active=0,t.ajaxJSONP=function(e,i){if(!("type"in e))return t.ajax(e);var a,s,o=e.jsonpCallback,l=(t.isFunction(o)?o():o)||"jsonp"+ ++n,h=r.createElement("script"),c=window[l],u=function(e){t(h).triggerHandler("error",e||"abort")},_={abort:u};return i&&i.promise(_),t(h).on("load error",(function(n,r){clearTimeout(s),t(h).off().remove(),"error"!=n.type&&a?f(a[0],_,e,i):p(null,r||"error",_,e,i),window[l]=c,a&&t.isFunction(c)&&c(a[0]),c=a=void 0})),!1===d(_,e)?(u("abort"),_):(window[l]=function(){a=arguments},h.src=e.url.replace(/\?(.+)=\?/,"?$1="+l),r.head.appendChild(h),e.timeout>0&&(s=setTimeout((function(){u("timeout")}),e.timeout)),_)},t.ajaxSettings={type:"GET",beforeSend:m,success:m,error:m,complete:m,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:l,xml:"application/xml, text/xml",html:h,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(n){var r=t.extend({},n||{}),a=t.Deferred&&t.Deferred();for(e in t.ajaxSettings)void 0===r[e]&&(r[e]=t.ajaxSettings[e]);!function(e){e.global&&0==t.active++&&u(e,null,"ajaxStart")}(r),r.crossDomain||(r.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(r.url)&&RegExp.$2!=window.location.host),r.url||(r.url=window.location.toString()),function(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=g(e.url,e.data),e.data=void 0)}(r),!1===r.cache&&(r.url=g(r.url,"_="+Date.now()));var _=r.dataType,v=/\?.+=\?/.test(r.url);if("jsonp"==_||v)return v||(r.url=g(r.url,r.jsonp?r.jsonp+"=?":!1===r.jsonp?"":"callback=?")),t.ajaxJSONP(r,a);var y,b=r.accepts[_],w={},k=function(t,e){w[t.toLowerCase()]=[t,e]},x=/^([\w-]+:)\/\//.test(r.url)?RegExp.$1:window.location.protocol,T=r.xhr(),M=T.setRequestHeader;if(a&&a.promise(T),r.crossDomain||k("X-Requested-With","XMLHttpRequest"),k("Accept",b||"*/*"),(b=r.mimeType||b)&&(b.indexOf(",")>-1&&(b=b.split(",",2)[0]),T.overrideMimeType&&T.overrideMimeType(b)),(r.contentType||!1!==r.contentType&&r.data&&"GET"!=r.type.toUpperCase())&&k("Content-Type",r.contentType||"application/x-www-form-urlencoded"),r.headers)for(i in r.headers)k(i,r.headers[i]);if(T.setRequestHeader=k,T.onreadystatechange=function(){if(4==T.readyState){T.onreadystatechange=m,clearTimeout(y);var e,i=!1;if(T.status>=200&&T.status<300||304==T.status||0==T.status&&"file:"==x){_=_||function(t){return t&&(t=t.split(";",2)[0]),t&&(t==h?"html":t==l?"json":s.test(t)?"script":o.test(t)&&"xml")||"text"}(r.mimeType||T.getResponseHeader("content-type")),e=T.responseText;try{"script"==_?(0,eval)(e):"xml"==_?e=T.responseXML:"json"==_&&(e=c.test(e)?null:t.parseJSON(e))}catch(t){i=t}i?p(i,"parsererror",T,r,a):f(e,T,r,a)}else p(T.statusText||null,T.status?"error":"abort",T,r,a)}},!1===d(T,r))return T.abort(),p(null,"abort",T,r,a),T;if(r.xhrFields)for(i in r.xhrFields)T[i]=r.xhrFields[i];var E=!("async"in r)||r.async;for(i in T.open(r.type,r.url,E,r.username,r.password),w)M.apply(T,w[i]);return r.timeout>0&&(y=setTimeout((function(){T.onreadystatechange=m,T.abort(),p(null,"timeout",T,r,a)}),r.timeout)),T.send(r.data?r.data:null),T},t.get=function(e,i,n,r){return t.ajax(v.apply(null,arguments))},t.post=function(e,i,n,r){var a=v.apply(null,arguments);return a.type="POST",t.ajax(a)},t.getJSON=function(e,i,n){var r=v.apply(null,arguments);return r.dataType="json",t.ajax(r)},t.fetchJSON=function(t){var e=new XMLHttpRequest;return new Promise((function(i,n){e.onreadystatechange=function(){try{if(4!==e.readyState)return;if(e.status>=200&&e.status<300){var r=JSON.parse(e.responseText);i(r)}else n({status:e.status,statusText:e.statusText})}catch(e){n({status:400,statusText:`Error fetching JSON from ${t}: ${e}`})}},e.open("GET",t,!0),e.send()}))},t.fn.load=function(e,i,n){if(!this.length)return this;var r,s=this,o=e.split(/\s/),l=v(e,i,n),h=l.success;return o.length>1&&(l.url=o[0],r=o[1]),l.success=function(e){s.html(r?t("<div>").html(e.replace(a,"")).find(r):e),h&&h.apply(s,arguments)},t.ajax(l),this};var y=encodeURIComponent;function b(e,i,n,r){var a,s=t.isArray(i),o=t.isPlainObject(i);t.each(i,(function(i,l){a=t.type(l),r&&(i=n?r:r+"["+(o||"object"==a||"array"==a?i:"")+"]"),!r&&s?e.add(l.name,l.value):"array"==a||!n&&"object"==a?b(e,l,n,i):e.add(i,l)}))}t.param=function(t,e){var i=[];return i.add=function(t,e){this.push(y(t)+"="+y(e))},b(i,t,e),i.join("&").replace(/%20/g,"+")}}(ct),(lt=ct).fn.serializeArray=function(){var t,e=[];return lt([].slice.call(this.get(0).elements)).each((function(){var i=(t=lt(this)).attr("type");"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=i&&"reset"!=i&&"button"!=i&&("radio"!=i&&"checkbox"!=i||this.checked)&&e.push({name:t.attr("name"),value:t.val()})})),e},lt.fn.serialize=function(){var t=[];return this.serializeArray().forEach((function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))})),t.join("&")},lt.fn.submit=function(t){if(t)this.bind("submit",t);else if(this.length){var e=lt.Event("submit");this.eq(0).trigger(e),e.isDefaultPrevented()||this.get(0).submit()}return this},function(t){"__proto__"in{}||t.extend(t.zepto,{Z:function(e,i){return e=e||[],t.extend(e,t.fn),e.selector=i||"",e.__Z=!0,e},isZ:function(e){return"array"===t.type(e)&&"__Z"in e}});try{getComputedStyle(void 0)}catch(t){var e=getComputedStyle;window.getComputedStyle=function(t,i){try{return e(t,i)}catch(t){return null}}}}(ct);const ut=ct.getJSON,dt=ct.ajax,ft=ct.fetchJSON,pt=[["millisecond",1,function(t){}],["second",1e3,function(t){t.setMilliseconds(0)}],["minute",6e4,function(t){t.setSeconds(0)}],["hour",36e5,function(t){t.setMinutes(0)}],["day",864e5,function(t){t.setHours(0)}],["month",2592e6,function(t){t.setDate(1)}],["year",31536e6,function(t){t.setMonth(0)}],["decade",31536e7,function(t){var e=t.getFullYear();t.setFullYear(e-e%10)}],["century",31536e8,function(t){var e=t.getFullYear();t.setFullYear(e-e%100)}],["millennium",31536e9,function(t){var e=t.getFullYear();t.setFullYear(e-e%1e3)}]],_t=["millisecond","second","minute","hour","day","month","year"],mt=/^([\+-]?\d+?)(-\d{2}?)?(-\d{2}?)?$/,gt=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,vt={base:{millisecond:"time_short",second:"time",minute:"time_no_seconds_small_date",hour:"time_no_seconds_small_date",day:"full",month:"month",year:"year",decade:"year",century:"year",millennium:"year",age:"fallback",epoch:"fallback",era:"fallback",eon:"fallback",eon2:"fallback"},short:{millisecond:"time_short",second:"time_short",minute:"time_no_seconds_short",hour:"time_no_minutes_short",day:"full_short",month:"month_short",year:"year",decade:"year",century:"year",millennium:"year",age:"fallback",epoch:"fallback",era:"fallback",eon:"fallback",eon2:"fallback"}},yt=it.extend({initialize:function(t,e,i){"number"==typeof t?this.data={format:"yyyy mmmm",date_obj:new Date(t)}:Date==t.constructor?this.data={format:"yyyy mmmm",date_obj:t}:(this.data=JSON.parse(JSON.stringify(t)),this._createDateObj()),this._setFormat(e,i)},setDateFormat:function(t){this.data.format=t},getDisplayDate:function(t,e){if(this.data.display_date)return this.data.display_date;t||(t=Dt.fallback),t.constructor!=Dt&&(D("First argument to getDisplayDate must be type Language"),t=Dt.fallback);var i=e||this.data.format;return t.formatDate(this.data.date_obj,i)},getMillisecond:function(){return this.getTime()},getTime:function(){return this.data.date_obj.getTime()},isBefore:function(t){if(!this.data.date_obj.constructor==t.data.date_obj.constructor)throw new x("date_compare_err");return"isBefore"in this.data.date_obj?this.data.date_obj.isBefore(t.data.date_obj):this.data.date_obj<t.data.date_obj},isAfter:function(t){if(!this.data.date_obj.constructor==t.data.date_obj.constructor)throw new x("date_compare_err");return"isAfter"in this.data.date_obj?this.data.date_obj.isAfter(t.data.date_obj):this.data.date_obj>t.data.date_obj},floor:function(t){for(var e=new Date(this.data.date_obj.getTime()),i=0;i<pt.length;i++)if(pt[i][2](e),pt[i][0]==t)return new yt(e);throw new x("invalid_scale_err",t)},_getDateData:function(){var t={year:0,month:1,day:1,hour:0,minute:0,second:0,millisecond:0};for(var e in E(t,this.data),_t){if(!I(t[_t[e]]).match(/^-?\d*$/))throw new x("invalid_date_err",_t[e]+" = '"+t[_t[e]]+"'");var i=parseInt(t[_t[e]]);isNaN(i)&&(i=4==e||5==e?1:0),t[_t[e]]=i}return t.month>0&&t.month<=12&&(t.month=t.month-1),t},_createDateObj:function(){var t=this._getDateData();this.data.date_obj=new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond),this.data.date_obj.getFullYear()!=t.year&&this.data.date_obj.setFullYear(t.year)},findBestFormat:function(t){for(var e=_t,i=0;i<e.length;i++)if(this.data[e[i]])return t?t in vt||(t="short"):t="base",vt[t][e[i]];return""},_setFormat:function(t,e){t?this.data.format=t:this.data.format||(this.data.format=this.findBestFormat()),e?this.data.format_short=e:this.data.format_short||(this.data.format_short=this.findBestFormat(!0))}});function bt(t){if(t.match(mt)){var e=t.match(mt).slice(1),i={year:e[0].replace("+","")};return e[1]&&(i.month=e[1].replace("-","")),e[2]&&(i.day=e[2].replace("-","")),i}if(t.match(gt))return cls.parseISODate(t);if(t.match(/^\-?\d+$/))return{year:t};var n={};if(t.match(/\d+\/\d+\/\d+/)){var r=t.match(/\d+\/\d+\/\d+/)[0];t=I(t.replace(r,""));var a=r.split("/");n.month=a[0],n.day=a[1],n.year=a[2]}if(t.match(/\d+\/\d+/)&&(r=t.match(/\d+\/\d+/)[0],t=I(t.replace(r,"")),a=r.split("/"),n.month=a[0],n.year=a[1]),t.match(":")){var s=t.split(":");if(n.hour=s[0],n.minute=s[1],s[2]){let t=s[2].split(".");n.second=t[0],n.millisecond=t[1]}}return n}const wt=it.extend({initialize:function(t){if(this.year=parseInt(t),isNaN(this.year))throw new x("invalid_year_err",t)},isBefore:function(t){return this.year<t.year},isAfter:function(t){return this.year>t.year},getTime:function(){return this.year}}),kt=1e6,xt=10*kt,Tt=10*xt,Mt=10*Tt;function Et(t){return function(e){var i=e.getTime();return new wt(Math.floor(i/t)*t)}}const St=[["year",1,new Et(1)],["decade",10,new Et(10)],["century",100,new Et(100)],["millennium",1e3,new Et(1e3)],["age",kt,new Et(kt)],["epoch",xt,new Et(xt)],["era",Tt,new Et(Tt)],["eon",Mt,new Et(Mt)]],Lt=yt.extend({initialize:function(t,e,i){wt==t.constructor?this.data={date_obj:t}:(this.data=JSON.parse(JSON.stringify(t)),this._createDateObj()),this._setFormat(e,i)},_createDateObj:function(){var t=this._getDateData();this.data.date_obj=new wt(t.year)},floor:function(t){for(var e=0;e<St.length;e++)if(St[e][0]==t){var i=St[e][2](this.data.date_obj);return new Lt(i)}throw new x("invalid_scale_err",t)}});class Dt{constructor(t,e){for(let t in Ot.en)this[t]=Ot.en[t];if(t&&"string"==typeof t&&"en"!=t){var i=t;if(!(i in Ot)){console.log(`Expected language ${i} to be cached. Did you call the constructor directly?`);var n=At(i,e);ft(n).then((t=>{Ot[i]=t})).catch((t=>{console.log(`Error loading language [${n}] ${t.statusText} [${t.status}]`)}))}E(this,Ot[i])}}mergeData(t){for(k in Ot.en)t[k]&&("object"==typeof this[k]?E(t[k],this[k]):this[k]=t[k])}formatBigYear(t,e){var i=t.year,n=this.bigdateformats[e]||this.bigdateformats.fallback;if(n){for(var r=0;r<n.length;r++){var a=n[r];if(Math.abs(i/a[0])>1)return jt(Math.abs(i/a[0]),a[1])}return i.toString()}return D("Language file dateformats missing cosmological. Falling back."),jt(i,e)}_(t){return this.messages[t]||Dt.fallback.messages[t]||t}formatDate(t,e){return t.constructor==Date?this.formatJSDate(t,e):t.constructor==wt?this.formatBigYear(t,e):t.data&&t.data.date_obj?this.formatDate(t.data.date_obj,e):(D("Unfamiliar date presented for formatting"),t.toString())}formatJSDate(t,e){var i=this,n=function(t,e){var n=i.period_labels[t];return n&&(t=e<12?n[0]:n[1]),"<span class='tl-timeaxis-timesuffix'>"+t+"</span>"};e||(e="full");var r=this.dateformats[e]||Dt.fallback.dateformats[e];r||(r=e);var a=t.getDate(),s=t.getDay(),o=t.getMonth(),l=t.getFullYear(),h=t.getHours(),c=t.getMinutes(),u=t.getSeconds(),d=t.getMilliseconds(),f=t.getTimezoneOffset(),p={d:a,dd:A(a),ddd:this.date.day_abbr[s],dddd:this.date.day[s],m:o+1,mm:A(o+1),mmm:this.date.month_abbr[o],mmmm:this.date.month[o],yy:String(l).slice(2),yyyy:l<0&&this.has_negative_year_modifier()?Math.abs(l):l,h:h%12||12,hh:A(h%12||12),H:h,HH:A(h),M:c,MM:A(c),s:u,ss:A(u),l:A(d,3),L:A(d>99?Math.round(d/10):d),t:n("t",h),tt:n("tt",h),T:n("T",h),TT:n("TT",h),Z:(String(t).match(/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g)||[""]).pop().replace(/[^-+\dA-Z]/g,""),o:(f>0?"-":"+")+A(100*Math.floor(Math.abs(f)/60)+Math.abs(f)%60,4),S:["th","st","nd","rd"][a%10>3?0:(a%100-a%10!=10)*a%10]},_=r.replace(Dt.DATE_FORMAT_TOKENS,(function(t){return t in p?p[t]:t.slice(1,t.length-1)}));return this._applyEra(_,l)}has_negative_year_modifier(){return Boolean(this.era_labels.negative_year.prefix||this.era_labels.negative_year.suffix)}_applyEra(t,e){var i=e<0?this.era_labels.negative_year:this.era_labels.positive_year,n="";return i.prefix&&(n+="<span>"+i.prefix+"</span> "),n+=t,i.suffix&&(n+=" <span>"+i.suffix+"</span>"),n}}function At(t,e){if(/\.json$/.test(t))var i=t;else{var n="/locale/"+t+".json";/\/$/.test(e)&&(n=n.substr(1)),i=e+n}return i}function jt(t,e){if(e.match(/%(\.(\d+))?f/)){var i=e.match(/%(\.(\d+))?f/),n=i[0];return i[2]&&(t=t.toFixed(i[2])),e.replace(n,t)}return e}Dt.fallback={messages:{}},Dt.DATE_FORMAT_TOKENS=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g;var Ot={en:{name:"English (built-in)",lang:"en",api:{wikipedia:"en"},messages:{loading:"Loading",wikipedia:"From Wikipedia, the free encyclopedia",error:"Error",contract_timeline:"Contract Timeline",return_to_title:"Return to Title",loading_content:"Loading Content",expand_timeline:"Expand Timeline",loading_timeline:"Loading Timeline... ",swipe_to_navigate:"Swipe to Navigate<br><span class='tl-button'>OK</span>",unknown_read_err:"An unexpected error occurred trying to read your spreadsheet data",invalid_url_err:"Unable to read Timeline data. Make sure your URL is for a Google Spreadsheet or a Timeline JSON file.",invalid_url_share_required:"Because of unexpected changes to Google's data access API, the creator of this timeline must enable 'anyone with the url can read' access for this spreadsheet. See timeline.knightlab.com for more information.",network_err:"Unable to read your Google Spreadsheet. Make sure you have published it to the web.",empty_feed_err:"No data entries found",missing_start_date_err:"Missing start_date",invalid_data_format_err:"Header row has been modified.",invalid_start_time_without_date:"Invalid configuration: time cannot be used without date.",invalid_end_time_without_date:"Invalid configuration: end time cannot be used without end date.",date_compare_err:"Can't compare timeline date objects on different scales",invalid_scale_err:"Invalid scale",invalid_date_err:"Invalid date: month, day and year must be numbers.",invalid_separator_error:"Invalid time: misuse of : or . as separator.",invalid_hour_err:"Invalid time (hour)",invalid_minute_err:"Invalid time (minute)",invalid_second_err:"Invalid time (second)",invalid_fractional_err:"Invalid time (fractional seconds)",invalid_second_fractional_err:"Invalid time (seconds and fractional seconds)",invalid_year_err:"Invalid year",flickr_notfound_err:"Photo not found or private",flickr_invalidurl_err:"Invalid Flickr URL",imgur_invalidurl_err:"Invalid Imgur URL",twitter_invalidurl_err:"Invalid Twitter URL",twitter_load_err:"Unable to load Tweet",twitterembed_invalidurl_err:"Invalid Twitter Embed url",wikipedia_load_err:"Unable to load Wikipedia entry",youtube_invalidurl_err:"Invalid YouTube URL",spotify_invalid_url:"Invalid Spotify URL",template_value_err:"No value provided for variable",invalid_rgb_err:"Invalid RGB argument",time_scale_scale_err:"Don't know how to get date from time for scale",axis_helper_no_options_err:"Axis helper must be configured with options",axis_helper_scale_err:"No AxisHelper available for scale",invalid_integer_option:"Invalid option value—must be a whole number.",instagram_bad_request:"Invalid or private Instagram URL"},date:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],month_abbr:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_abbr:["Sun.","Mon.","Tues.","Wed.","Thurs.","Fri.","Sat."]},era_labels:{positive_year:{prefix:"",suffix:""},negative_year:{prefix:"",suffix:"BCE"}},period_labels:{t:["a","p"],tt:["am","pm"],T:["A","P"],TT:["AM","PM"]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time:"h:MM:ss TT' <small>'mmmm d',' yyyy'</small>'",time_short:"h:MM:ss TT",time_no_seconds_short:"h:MM TT",time_no_minutes_short:"h TT",time_no_seconds_small_date:"h:MM TT' <small>'mmmm d',' yyyy'</small>'",time_milliseconds:"l",full_long:"mmm d',' yyyy 'at' h:MM TT",full_long_small_date:"h:MM TT' <small>mmm d',' yyyy'</small>'"},bigdateformats:{fallback:[[1e9,"%.2f billion years ago"],[1e6,"%.1f million years ago"],[1e3,"%.1f thousand years ago"],[1,"%f years ago"]],compact:[[1e9,"%.2f bya"],[1e6,"%.1f mya"],[1e3,"%.1f kya"],[1,"%f years ago"]],verbose:[[1e9,"%.2f billion years ago"],[1e6,"%.1f million years ago"],[1e3,"%.1f thousand years ago"],[1,"%f years ago"]]}}};let Ct=new Dt;Dt.fallback=Ct;class It{setLanguage(t){this.language=t}getLanguage(){if(this.language){if("object"==typeof this.language)return this.language;D("I18NMixins.getLanguage: this.language should be object, but is "+typeof this.language)}return Ct}_(t){return this.getLanguage()._(t)}}class Nt{constructor(t,e,i){i&&this.setLanguage(i),this._el={parent:{},container:{},message_container:{},loading_icon:{},message:{}},this.options={width:600,height:600,message_class:"tl-message",message_icon_class:"tl-loading-icon"},this.container=t,E(this.options,e),this._el.container=g("div",this.options.message_class),t&&(t.appendChild(this._el.container),this._el.parent=t),this.animator={},this._initLayout(),this._initEvents()}updateMessage(t){this._el.message.innerHTML=t||this._("loading"),!this._el.parent.atributes&&this.container.attributes&&(this.container.appendChild(this._el.container),this._el.parent=this.container)}updateDisplay(t,e){}_onMouseClick(){this.fire("clicked",this.options)}_onRemove(){this._el.parent={}}_initLayout(){this._el.message_container=g("div","tl-message-container",this._el.container),this._el.loading_icon=g("div",this.options.message_icon_class,this._el.message_container),this._el.message=g("div","tl-message-content",this._el.message_container),this.updateMessage()}_initEvents(){ht.addListener(this._el.container,"click",this._onMouseClick,this),ht.addListener(this,"removed",this._onRemove,this)}}function Pt(t,e){e=e||"start_date",t.sort((function(t,i){return t[e].isBefore(i[e])?-1:t[e].isAfter(i[e])?1:0}))}function Rt(t){var e={hour:null,minute:null,second:null,millisecond:null},i=null,n=t.match(/(\s*[AaPp]\.?[Mm]\.?\s*)$/);n&&(i=I(n[0]),t=I(t.substring(0,t.lastIndexOf(i))));var r=[],a=t.match(/^\s*(\d{1,2})(\d{2})\s*$/);if(a?r=a.slice(1):1==(r=t.split(":")).length&&(r=t.split(".")),r.length>4)throw new x("invalid_separator_error");let s=r[0];if(e.hour=parseInt(s),i&&"p"==i.toLowerCase()[0]&&12!=e.hour?e.hour+=12:i&&"a"==i.toLowerCase()[0]&&12==e.hour&&(e.hour=0),isNaN(e.hour)||e.hour<0||e.hour>23)throw new x("invalid_hour_err",s);if(r.length>1){let t=r[1];if(e.minute=parseInt(t),isNaN(e.minute))throw new x("invalid_minute_err",t)}if(r.length>2){var o=r[2].split(/[\.,]/);if((r=o.concat(r.slice(3))).length>2)throw new x("invalid_second_fractional_err");if(e.second=parseInt(r[0]),isNaN(e.second))throw new x("invalid_second_err",r[0]);if(2==r.length){var l=parseInt(r[1]);if(isNaN(l))throw new x("invalid_fractional_err",r[1]);e.millisecond=100*l}}return e}N(Nt,It,nt,st);const zt=new RegExp("(^-?\\d+$|^$)");function qt(t){try{return Object.keys(t).forEach((e=>{let i=t[e];if(i&&i.match&&!i.match(zt))throw`invalid value ${i} for ${e}`})),!0}catch(t){return!1}}const Ht={human:yt,cosmological:Lt};var Ft=i(856),$t=i.n(Ft);const Bt={text:["headline","text"],media:["caption","credit"]},Ut={start_date:["display_date"],end_date:["display_date"],slide:["display_date","group"],date:["display_date"]};function Wt(t,e,i){Object.keys(i).forEach((n=>{var r="slide"==n?t:t[n];r&&i[n].forEach((t=>{void 0!==r[t]&&(r[t]=e(r[t]))}))}))}function Zt(t){return $t().sanitize(t,{ADD_TAGS:["iframe"],ADD_ATTR:["frameborder","target"]})}$t().addHook("afterSanitizeAttributes",(function(t){if("A"==t.nodeName&&"href"in t){"target"in t.attributes||t.setAttribute("target","_blank");let e=t.attributes.rel;e?-1==e.value.indexOf("noopener")&&t.setAttribute("rel",`noopener ${e.value}`):t.setAttribute("rel","noopener")}}));class Gt{constructor(t){if(this.title="",this.scale="",this.events=[],this.eras=[],this.event_dict={},this.messages={errors:[],warnings:[]},"object"==typeof t&&t.events){if(this.scale=t.scale,this.events=[],this._ensureValidScale(t.events),t.title){var e=this._assignID(t.title);this._tidyFields(t.title),this.title=t.title,this.event_dict[e]=this.title}for(var i=0;i<t.events.length;i++)try{this.addEvent(t.events[i],!0)}catch(t){this.logError(t)}t.eras&&t.eras.forEach(((t,e)=>{try{this.addEra(t)}catch(t){this.logError("Era "+e+": "+t)}})),Pt(this.events),Pt(this.eras)}}logError(t){D(`logError: ${t}`),this.messages.errors.push(t)}getErrors(t){return t?this.messages.errors.join(t):this.messages.errors}validate(){void 0!==this.events&&void 0!==this.events.length&&0!=this.events.length||this.logError("Timeline configuration has no events.");for(var t=0;t<this.eras.length;t++){var e;void 0!==this.eras[t].start_date&&void 0!==this.eras[t].end_date||(e=this.eras[t].headline?this.eras[t].headline:"era "+(t+1),this.logError("All eras must have start and end dates. ["+e+"]"))}}isValid(){return 0==this.messages.errors.length}addEvent(t,e){var i=this._assignID(t);return void 0===t.start_date?(D("Missing start date, skipping event"),console.log(t),null):(this._processDates(t),this._tidyFields(t),this.events.push(t),this.event_dict[i]=t,e||Pt(this.events),i)}addEra(t){var e=this._assignID(t);if(void 0===t.start_date)throw new x("missing_start_date_err",e);this._processDates(t),this._tidyFields(t),this.eras.push({start_date:t.start_date,end_date:t.end_date,headline:t.text.headline})}_assignID(t){var e=t.unique_id;return I(e)||(e=t.text?P(t.text.headline):null),t.unique_id=function(t,e){if(e||(e=R(6)),!(e in t))return e;var i=e.match(/^(.+)(-\d+)?$/)[1],n=[];for(let e in t)e.match(/^(.+?)(-\d+)?$/)[1]==i&&n.push(e);e=i+"-"+(n.length+1);for(var r=n.length;-1!=n.indexOf(e);r++)e=i+"-"+r;return e}(this.event_dict,e),t.unique_id}_makeUniqueIdentifiers(t,e){for(var i=[t],n=0;n<e.length;n++)I(e[n].unique_id)&&(e[n].unique_id=P(e[n].unique_id),-1==i.indexOf(e[n].unique_id)?i.push(e[n].unique_id):e[n].unique_id="");if(i.length!=e.length+1)for(n=0;n<e.length;n++)if(!e[n].unique_id){var r=e[n].text?P(e[n].text.headline):null;r||(r=R(6)),-1!=i.indexOf(r)&&(r=r+"-"+n),i.push(r),e[n].unique_id=r}}_ensureValidScale(t){if(!this.scale){this.scale="human";for(var e=0;e<t.length;e++){if("cosmological"==t[e].scale){this.scale="cosmological";break}if(t[e].start_date&&void 0!==t[e].start_date.year){var i=new Lt(t[e].start_date).data.date_obj.year;if(i<-271820||i>275759){this.scale="cosmological";break}}}D(`Determining scale dynamically: ${this.scale}`)}Ht[this.scale]||this.logError("Don't know how to process dates on scale "+this.scale)}_processDates(t){var e=Ht[this.scale];if(!(t.start_date instanceof e)){var i=t.start_date;if(t.start_date=new e(i),void 0!==t.end_date&&!(t.end_date instanceof e)){var n=t.end_date,r=!0;for(let t in i)r=r&&i[t]==n[t];r?(D("End date same as start date is redundant; dropping end date"),delete t.end_date):t.end_date=new e(n)}}}getEarliestDate(){var t=this.events[0].start_date;return this.eras&&this.eras.length>0&&this.eras[0].start_date.isBefore(t)?this.eras[0].start_date:t}getLatestDate(){for(var t=[],e=0;e<this.events.length;e++)this.events[e].end_date?t.push({date:this.events[e].end_date}):t.push({date:this.events[e].start_date});for(e=0;e<this.eras.length;e++)this.eras[e].end_date?t.push({date:this.eras[e].end_date}):t.push({date:this.eras[e].start_date});return Pt(t,"date"),t.slice(-1)[0].date}_tidyFields(t){function e(t,e,i){i||(i=""),t.hasOwnProperty(e)||(t[e]=i)}t.group&&(t.group=I(t.group)),t.text||(t.text={}),e(t.text,"text"),e(t.text,"headline"),Wt(t,Zt,Bt),Wt(t,J,Ut)}}function Yt(t,e){return!0!==(e=e||{}).noHeaderRow&&t.length>0?{fields:t[0].map(((t,e)=>t&&t.trim?t.trim():`untitled${e}`)),records:t.slice(1)}:{records:t}}function Vt(t,e){(!e||e&&!e.lineterminator)&&(t=function(t,e){return e&&!e.lineterminator?t.replace(/(\r\n|\n|\r)/gm,"\n"):t}(t,e));var i=function(t){var e={delimiter:",",doublequote:!0,lineterminator:"\n",quotechar:'"',skipinitialspace:!0,skipinitialrows:0};for(var i in t)"trim"===i?e.skipinitialspace=t.trim:e[i.toLowerCase()]=t[i];return e}(e);t=function(t,e){return null==t?"":(e=e||"\n",t.charAt(t.length-e.length)!==e?t:t.substring(0,t.length-e.length))}(t,i.lineterminator);var n,r,a="",s=!1,o=!1,l="",h=[],c=[];for(r=function(t){return!0!==o&&(""===t?t=null:!0===i.skipinitialspace&&(t=t.trim())),t},n=0;n<t.length;n+=1)a=t.charAt(n),!1!==s||a!==i.delimiter&&a!==i.lineterminator?a!==i.quotechar?l+=a:s?t.charAt(n+1)===i.quotechar?(l+=i.quotechar,n+=1):s=!1:(s=!0,o=!0):(l=r(l),h.push(l),a===i.lineterminator&&(c.push(h),h=[]),l="",o=!1);return l=r(l),h.push(l),c.push(h),i.skipinitialrows&&(c=c.slice(i.skipinitialrows)),c}function Jt(t){if(t)return t.replace(/[\s,]+/g,"")}async function Xt(t,e){let i=[];t=function(t){if((t=t.trim()).match(/^[a-zA-Z0-9-_]+$/))return`https://docs.google.com/spreadsheets/d/${t}/pub?output=csv`;if(t.startsWith("https://docs.google.com/spreadsheets/")){if(t.match(/\/pub\?output=csv$/))return t;let e=new URL(t),i=new URLSearchParams(e.search);i.set("output","csv"),i.get("gid")&&i.set("single","true"),e.search=`?${i.toString()}`;let n=e.pathname.substr(0,e.pathname.lastIndexOf("/"));return e.pathname=`${n}/pub`,e.toString()}throw new x("invalid_url_err",t)}(t),await async function(t){return new Promise(((e,i)=>{if(t.data){var n=Yt(Vt(t.data,t),t);n.useMemoryStore=!0,e(n)}else t.url&&window.fetch(t.url,{mode:"cors"}).then((function(t){if(200==t.status)return t.text?t.text():t;"application/json"==t.headers.get("content-type")?t.text().then((t=>{i(JSON.parse(t))})):i({status_code:t.status,message:`Error fetching CSV: [${t.status} ${t.statusText}]`})})).then((function(i){if(i){var n=function(t,e){let i=Yt(Vt(t,e)),n=[];return i.records.forEach((t=>{let e={};i.fields.forEach(((i,n)=>e[i]=t[n])),n.push(e)})),n}(i,t);n.useMemoryStore=!0,e(n)}})).catch((t=>{i({status_code:500,message:`Error fetching CSV: ${t}`})}))}))}({url:`${e}${t}`}).then((t=>{i=t})).catch((t=>{if("response_not_csv"==t.proxy_err_code)throw new x("Timeline could not read the data for your timeline. Make sure you have published it to the web.");throw new x(t.message)}));let n={events:[],errors:[],warnings:[],eras:[]};return i.forEach(((t,e)=>{try{if(!function(t){var e=[];if(Object.keys)e=Object.keys(t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(i);for(var n=0;n<e.length;n++){var r=e[n];if(null!=t[r]&&"string"!=typeof t[r])return!1;if(0!=I(t[r]).length)return!1}return!0}(t)){let e=function(t){let e={};Object.keys(t).forEach((i=>{e[i]=I(t[i])}));var i,n={media:{caption:e["Media Caption"]||"",credit:e["Media Credit"]||"",url:e.Media||"",thumbnail:e["Media Thumbnail"]||""},text:{headline:e.Headline||"",text:e.Text||""},display_date:e["Display Date"]||"",group:e.Group||e.Tag||"",background:(i=e.Background,"string"!=typeof i?"":i.match(/^(https?:)?\/\/?/)?{url:i}:{color:i}),type:e.Type||""};if(Object.keys(e).includes("Start Date")||Object.keys(e).includes("End Date"))e["Start Date"]&&(n.start_date=bt(e["Start Date"])),e["End Date"]&&(n.end_date=bt(e["End Date"]));else{if(e.Year&&(n.start_date={year:Jt(e.Year),month:Jt(e.Month)||"",day:Jt(e.Day)||""}),e["End Year"]&&(n.end_date={year:Jt(e["End Year"])||"",month:Jt(e["End Month"])||"",day:Jt(e["End Day"])||""}),e.Time){if(!n.start_date)throw new x("invalid_start_time_without_date");E(n.start_date,Rt(e.Time))}if(e["End Time"]){if(!n.end_date)throw new x("invalid_end_time_without_date");E(n.end_date,Rt(e["End Time"]))}if(n.start_date&&!qt(n.start_date))throw new x("invalid_date_err");if(n.end_date&&!qt(n.end_date))throw new x("invalid_date_err")}return n}(t);!function(t,e){var i="event";void 0!==t.type&&(i=t.type,delete t.type),"title"==i?e.title?(e.warnings.push("Multiple title slides detected."),e.events.push(t)):e.title=t:"era"==i?e.eras.push(t):e.events.push(t)}(e,n)}}catch(i){if(i.constructor==x)n.errors.push(i);else{i.message&&(i=i.message);let r=t.Headline||e;n.errors.push(i+`[${r}]`)}}})),n}class Kt{constructor(t){if(!t)throw new x("axis_helper_no_options_err");this.scale=t.scale,this.minor=t.minor,this.major=t.major}getPixelsPerTick(t){return t*this.minor.factor}getMajorTicks(t){return this._getTicks(t,this.major)}getMinorTicks(t){return this._getTicks(t,this.minor)}_getTicks(t,e){for(var i=t._scaled_padding*e.factor,n=t._earliest-i,r=t._latest+i,a=[],s=n;s<r;s+=e.factor)a.push(t.getDateFromTime(s).floor(e.name));return{name:e.name,ticks:a}}}var Qt={},te=function(t,e){Qt[t]=[];for(var i=0;i<e.length-1;i++){var n=e[i],r=e[i+1];Qt[t].push(new Kt({scale:n[3],minor:{name:n[0],factor:n[1]},major:{name:r[0],factor:r[1]}}))}};te("human",pt),te("cosmological",St);const ee={millisecond:"time_milliseconds",second:"time_short",minute:"time_no_seconds_short",hour:"time_no_minutes_short",day:"full_short",month:"month_short",year:"year",decade:"year",century:"year",millennium:"year",age:"compact",epoch:"compact",era:"compact",eon:"compact",eon2:"compact"};class ie{constructor(t,e){var i=t.events;this._scale=t.scale,e=E({display_width:500,screen_multiplier:3,max_rows:null},e),this._display_width=e.display_width,this._screen_multiplier=e.screen_multiplier,this._pixel_width=this._screen_multiplier*this._display_width,this._group_labels=void 0,this._positions=[],this._pixels_per_milli=0,this._earliest=t.getEarliestDate().getTime(),this._latest=t.getLatestDate().getTime(),this._span_in_millis=this._latest-this._earliest,this._span_in_millis<=0&&(this._span_in_millis=this._computeDefaultSpan(t)),this._average=this._span_in_millis/i.length,this._pixels_per_milli=this.getPixelWidth()/this._span_in_millis,this._axis_helper=function(t,e){"number"!=typeof e&&(e=100);var i=t.getScale(),n=Qt[i];if(!n)throw new x("axis_helper_scale_err",i);for(var r=null,a=0;a<n.length;a++){var s=n[a],o=s.getPixelsPerTick(t._pixels_per_milli);if(o>e)return null==r||Math.abs(e-o)<Math.abs(e-o)?s:r;r=s}return n[n.length-1]}(this),this._scaled_padding=1/this.getPixelsPerTick()*(this._display_width/2),this._computePositionInfo(i,e.max_rows)}_computeDefaultSpan(t){if("human"==t.scale){for(var e={},i=0;i<t.events.length;i++){var n=t.events[i].start_date.findBestFormat();e[n]=e[n]?e[n]+1:1}for(i=pt.length-1;i>=0;i--)if(e.hasOwnProperty(pt[i][0])){var r=pt[pt.length-1];return pt[i+1]&&(r=pt[i+1]),r[1]}return 31536e6}return 2e5}getGroupLabels(){return this._group_labels||[]}getScale(){return this._scale}getNumberOfRows(){return this._number_of_rows}getPixelWidth(){return this._pixel_width}getPosition(t){return(t-this._earliest)*this._pixels_per_milli}getPositionInfo(t){return this._positions[t]}getPixelsPerTick(){return this._axis_helper.getPixelsPerTick(this._pixels_per_milli)}getTicks(){return{major:this._axis_helper.getMajorTicks(this),minor:this._axis_helper.getMinorTicks(this)}}getDateFromTime(t){if("human"==this._scale)return new yt(t);if("cosmological"==this._scale)return new Lt(new wt(t));throw new x("time_scale_scale_err",this._scale)}getMajorScale(){return this._axis_helper.major.name}getMinorScale(){return this._axis_helper.minor.name}_assessGroups(t){for(var e=[],i=!1,n=0;n<t.length;n++)t[n].group&&(e.indexOf(t[n].group)<0?e.push(t[n].group):i=!0);return e.length&&i&&e.push(""),e}_computeRowInfo(t,e){for(var i=[],n=0,r=0;r<t.length;r++){var a=t[r],s=[];delete a.row;for(var o=0;o<i.length;o++)if(s.push(i[o].end-a.start),s[o]<=0){a.row=o,i[o]=a;break}if(void 0===a.row)if(null===e)a.row=i.length,i.push(a);else if(e>0)a.row=i.length,i.push(a),e--;else{var l=Math.min.apply(null,s),h=s.indexOf(l);a.row=h,a.end>i[h].end&&(i[h]=a),n++}}return{n_rows:i.length,n_overlaps:n}}_computePositionInfo(t,e,i){i=i||100;for(var n=[],r=!1,a=0;a<t.length;a++){var s={start:this.getPosition(t[a].start_date.getTime())};if(this._positions.push(s),void 0!==t[a].end_date){var o=this.getPosition(t[a].end_date.getTime());s.width=o-s.start,s.width>i?s.end=s.start+s.width:s.end=s.start+i}else s.width=i,s.end=s.start+i;t[a].group?n.indexOf(t[a].group)<0&&n.push(t[a].group):r=!0}if(n.length){r&&n.push("");var l=[];for(a=0;a<n.length;a++)l[a]={label:n[a],idx:a,positions:[],n_rows:1,n_overlaps:0};for(a=0;a<this._positions.length;a++){(s=this._positions[a]).group=n.indexOf(t[a].group||""),s.row=0;for(var h=(d=l[s.group]).positions.length-1;h>=0;h--)d.positions[h].end>s.start&&d.n_overlaps++;d.positions.push(s)}for(var c=n.length;;){var u=Math.max(0,e-c);if(!u)break;if(l.sort((function(t,e){return t.n_overlaps>e.n_overlaps?-1:t.n_overlaps<e.n_overlaps?1:t.idx-e.idx})),!l[0].n_overlaps)break;for(c=0,a=0;a<l.length;a++){var d;if((d=l[a]).n_overlaps&&u){var f=this._computeRowInfo(d.positions,d.n_rows+1);d.n_rows=f.n_rows,d.n_overlaps=f.n_overlaps,u--}c+=d.n_rows}}this._number_of_rows=c,this._group_labels=[],l.sort((function(t,e){return t.idx-e.idx})),a=0;for(var p=0;a<l.length;a++){for(this._group_labels.push({label:l[a].label,rows:l[a].n_rows}),h=0;h<l[a].positions.length;h++)(s=l[a].positions[h]).row+=p;p+=l[a].n_rows}}else{var _=this._computeRowInfo(this._positions,e);this._number_of_rows=_.n_rows}}getAxisTickDateFormat(t){return"cosmological"==this._scale?"compact":ee[t]}}class ne{constructor(t){this._el={parent:{},container:{},message:{}},this.options={width:600,height:600},this.data={label:"",rows:1},this._el.container=g("div","tl-timegroup"),E(this.data,t),this.animator={},this._initLayout(),this._initEvents()}updateDisplay(t,e){}setRowPosition(t,e){this.options.height=e*this.data.rows,this.setPosition({top:t}),this._el.container.style.height=this.options.height+"px"}setAlternateRowColor(t,e){var i="tl-timegroup";t&&(i+=" tl-timegroup-alternate"),e&&(i+=" tl-timegroup-hidden"),this._el.container.className=i}_onMouseClick(){this.fire("clicked",this.options)}_initLayout(){this._el.message=g("div","tl-timegroup-message",this._el.container),this._el.message.innerHTML=this.data.label}_initEvents(){ht.addListener(this._el.container,"click",this._onMouseClick,this)}_updateDisplay(t,e,i){}}N(ne,nt,st),i(486);class re{constructor(t,e,i,n){this.start_date=t,this.end_date=e,this.headline=i,this._el={container:{},background:{},content_container:{},content:{},text:{}},this._text={},this._state={loaded:!1},this.options={duration:1e3,ease:Q,width:600,height:600,marker_width_min:100},this.active=!1,this.animator={},this.has_end_date=!1,E(this.options,n),this._initLayout(),this._initEvents()}show(){}hide(){}setActive(t){}addTo(t){t.appendChild(this._el.container)}removeFrom(t){t.removeChild(this._el.container)}updateDisplay(t,e){this._updateDisplay(t,e)}getLeft(){return this._el.container.style.left.slice(0,-2)}getTime(){return this.start_date.getTime()}getEndTime(){return!!this.end_date&&this.end_date.getTime()}setHeight(t){var e=1;this._el.content_container.style.height=t+"px",this._el.content.className="tl-timeera-content",s?((e=Math.floor(t/14))<1&&(e=1),this._text.className="tl-headline",this._text.style.webkitLineClamp=e):(e=t/12,this._text.className=e>1?"tl-headline tl-headline-fadeout":"tl-headline",this._text.style.height=12*e+"px")}setWidth(t){this.end_date&&(this._el.container.style.width=t+"px",t>this.options.marker_width_min?(this._el.content_container.style.width=t+"px",this._el.content_container.className="tl-timeera-content-container tl-timeera-content-container-long"):(this._el.content_container.style.width=this.options.marker_width_min+"px",this._el.content_container.className="tl-timeera-content-container"))}setClass(t){this._el.container.className=t}setRowPosition(t,e){this.setPosition({top:t}),e<56&&w(this._el.content_container,"tl-timeera-content-container-small")}setColor(t){this._el.container.className="tl-timeera tl-timeera-color"+t}_initLayout(){this._el.container=g("div","tl-timeera"),this.end_date&&(this.has_end_date=!0,this._el.container.className="tl-timeera tl-timeera-with-end"),this._el.content_container=g("div","tl-timeera-content-container",this._el.container),this._el.background=g("div","tl-timeera-background",this._el.content_container),this._el.content=g("div","tl-timeera-content",this._el.content_container),this._el.text=g("div","tl-timeera-text",this._el.content),this._text=g("h2","tl-headline",this._el.text),this.headline&&""!=this.headline&&(this._text.innerHTML=H(this.headline)),this.onLoaded()}_initEvents(){}_updateDisplay(t,e,i){t&&(this.options.width=t),e&&(this.options.height=e)}}N(re,nt,st);class ae{constructor(t,e,i){i&&this.setLanguage(i),this._el={container:{},content_container:{},major:{},minor:{}},this._text={},this._state={loaded:!1},this.data={},this.options={duration:1e3,ease:Q,width:600,height:600},this.active=!1,this.animator={},this.axis_helper={},this.minor_ticks=[],this.major_ticks=[],this._el.container="object"==typeof t?t:m(t),E(this.options,e),this._initLayout(),this._initEvents()}show(){}hide(){}addTo(t){t.appendChild(this._el.container)}removeFrom(t){t.removeChild(this._el.container)}updateDisplay(t,e){this._updateDisplay(t,e)}getLeft(){return this._el.container.style.left.slice(0,-2)}drawTicks(t,e){var i=t.getTicks();this._el.major.className="tl-timeaxis-major",this._el.minor.className="tl-timeaxis-minor",this._el.major.style.opacity=0,this._el.minor.style.opacity=0,this.major_ticks=this._createTickElements(i.major.ticks,this._el.major,t.getAxisTickDateFormat(i.major.name)),this.minor_ticks=this._createTickElements(i.minor.ticks,this._el.minor,t.getAxisTickDateFormat(i.minor.name),i.major.ticks),this.positionTicks(t,e,!0),this._el.major.className="tl-timeaxis-major tl-animate-opacity tl-timeaxis-animate-opacity",this._el.minor.className="tl-timeaxis-minor tl-animate-opacity tl-timeaxis-animate-opacity",this._el.major.style.opacity=1,this._el.minor.style.opacity=1}_createTickElements(t,e,i,n){e.innerHTML="";var r={};if(r[new Date(-1,13,-30).getTime()]=!0,n)for(var a=0;a<n.length;a++)r[n[a].getTime()]=!0;var s=[];for(a=0;a<t.length;a++){var o=t[a];if(!(o.getTime()in r)){var l=g("div","tl-timeaxis-tick",e),h=g("span","tl-timeaxis-tick-text tl-animate-opacity",l);let t=o.getDisplayDate(this.getLanguage(),i);h.innerHTML=t,s.push({tick:l,tick_text:h,display_date:t,date:o})}}return s}positionTicks(t,e,i){i?(this._el.major.className="tl-timeaxis-major",this._el.minor.className="tl-timeaxis-minor"):(this._el.major.className="tl-timeaxis-major tl-timeaxis-animate",this._el.minor.className="tl-timeaxis-minor tl-timeaxis-animate"),this._positionTickArray(this.major_ticks,t,e),this._positionTickArray(this.minor_ticks,t,e)}_positionTickArray(t,e,i){if(t[1]&&t[0]){var n=1;e.getPosition(t[1].date.getMillisecond())-e.getPosition(t[0].date.getMillisecond())<i&&(n=Math.round(i/e.getPixelsPerTick()));for(var r=1,a=0;a<t.length;a++){var s=t[a];s.tick.style.left=e.getPosition(s.date.getMillisecond())+"px",s.tick_text.innerHTML=s.display_date,n>1?r>=n?(r=1,s.tick_text.style.opacity=1,s.tick.className="tl-timeaxis-tick"):(r++,s.tick_text.style.opacity=0,s.tick.className="tl-timeaxis-tick tl-timeaxis-tick-hidden"):(s.tick_text.style.opacity=1,s.tick.className="tl-timeaxis-tick")}}}_initLayout(){this._el.content_container=g("div","tl-timeaxis-content-container",this._el.container),this._el.major=g("div","tl-timeaxis-major",this._el.content_container),this._el.minor=g("div","tl-timeaxis-minor",this._el.content_container),this.onLoaded()}_initEvents(){}_updateDisplay(t,e,i){t&&(this.options.width=t),e&&(this.options.height=e)}}N(ae,nt,st,It);class se{constructor(t,e,i){this._el={container:{},content_container:{},content:{},headline:{},date:{}},this.options={title:!1},this.data={unique_id:"",headline:"headline",text:"text"},function(t,e){t.data=S({},t.data,e),""===t.data.unique_id&&(t.data.unique_id=R(6))}(this,t),E(this.options,e),this._el.container=g("div","tl-text"),this._el.container.id=this.data.unique_id,this._initLayout(),i&&i.appendChild(this._el.container)}show(){}hide(){}addTo(t){t.appendChild(this._el.container)}removeFrom(t){t.removeChild(this._el.container)}headlineHeight(){return this._el.headline.offsetHeight+40}addDateText(t){this._el.date.innerHTML=t}onLoaded(){this.fire("loaded",this.data)}onAdd(){this.fire("added",this.data)}onRemove(){this.fire("removed",this.data)}_initLayout(){if(this._el.content_container=g("div","tl-text-content-container",this._el.container),this._el.date=g("h3","tl-headline-date",this._el.content_container),""!=this.data.headline){var t="tl-headline";this.options.title&&(t="tl-headline tl-headline-title"),this._el.headline=g("h2",t,this._el.content_container),this._el.headline.innerHTML=this.data.headline}if(""!=this.data.text){var e="";e+=(i=1==this.options.autolink?$(this.data.text):this.data.text).match(/<p>[\s\S]*?<\/p>/)?i:"<p>"+i+"</p>",this._el.content=g("div","tl-text-content",this._el.content_container),this._el.content.innerHTML=e}var i;this.onLoaded()}}N(se,nt);class oe{constructor(t,e,i){i&&this.setLanguage(i),this._el={container:{},content_container:{},content:{},content_item:{},content_link:{},caption:null,credit:null,parent:{},link:null},this.player=null,this.timer=null,this.load_timer=null,this.message=null,this.media_id=null,this._state={loaded:!1,show_meta:!1,media_loaded:!1},this.data={unique_id:null,url:null,credit:null,caption:null,credit_alternate:null,caption_alternate:null,link:null,link_target:null},this.options={api_key_flickr:"bd3a7c45ddd52f3101825d41563a6125",api_key_googlemaps:"AIzaSyB9dW8e_iRrATFa8g24qB6BDBGdkrLDZYI",api_key_embedly:"",credit_height:0,caption_height:0,background:0},this.animator={},E(this.options,e),E(this.data,t),this.options.background||(this._el.container=g("div","tl-media"),this.data.unique_id&&(this._el.container.id=this.data.unique_id),this._initLayout())}loadMedia(){var t=this;if(!this._state.loaded)try{this.load_timer=setTimeout((function(){t.loadingMessage(),t._loadMedia(),t._updateDisplay()}),1200)}catch(t){trace("Error loading media for ",this._media),trace(t)}}_updateMessage(t){this.message&&this.message.updateMessage(t)}loadingMessage(){this._updateMessage(this._("loading")+" "+this.options.media_name)}errorMessage(t){t=t?this._("error")+": "+t:this._("error"),this._updateMessage(t)}updateMediaDisplay(t){this._state.loaded&&!this.options.background&&(this._el.content_item.style.maxHeight=l?this.options.height/2+"px":this.options.height-this.options.credit_height-this.options.caption_height-30+"px",this._el.container.style.maxWidth=this.options.width+"px",d&&(this._el.content_item.offsetWidth,this._el.content_item.offsetHeight),this._updateMediaDisplay(t),this._state.media_loaded&&(this._el.credit&&(this._el.credit.style.width=this._el.content_item.offsetWidth+"px"),this._el.caption&&(this._el.caption.style.width=this._el.content_item.offsetWidth+"px")))}_loadMedia(){this.onLoaded()}_updateMediaDisplay(t){d&&(this._el.content_item.style.maxWidth=this.options.width+"px",this._el.content_item.style.width="auto")}_getMeta(){}_getImageURL(t,e){return""}show(){}hide(){}addTo(t){t.appendChild(this._el.container),this.onAdd()}removeFrom(t){t.removeChild(this._el.container),this.onRemove()}getImageURL(t,e){return this._getImageURL(t,e)}updateDisplay(t,e,i){this._updateDisplay(t,e,i)}stopMedia(){this._stopMedia()}loadErrorDisplay(t){try{this._el.content.removeChild(this._el.content_item)}catch(t){}this._el.content_item=g("div","tl-media-item tl-media-loaderror",this._el.content),this._el.content_item.innerHTML="<div class='tl-icon-"+this.options.media_type+"'></div><p>"+t+"</p>",this.onLoaded(!0)}onLoaded(t){this._state.loaded=!0,this.fire("loaded",this.data),this.message&&this.message.hide(),t||this.options.background||this.showMeta(),this.updateDisplay()}onMediaLoaded(t){this._state.media_loaded=!0,this.fire("media_loaded",this.data),this._el.credit&&(this._el.credit.style.width=this._el.content_item.offsetWidth+"px"),this._el.caption&&(this._el.caption.style.width=this._el.content_item.offsetWidth+"px")}showMeta(t,e){this._state.show_meta=!0,this.data.credit&&""!=this.data.credit&&(this._el.credit=g("div","tl-credit",this._el.content_container),this._el.credit.innerHTML=1==this.options.autolink?$(this.data.credit):this.data.credit,this.options.credit_height=this._el.credit.offsetHeight),this.data.caption&&""!=this.data.caption&&(this._el.caption=g("div","tl-caption",this._el.content_container),this._el.caption.innerHTML=1==this.options.autolink?$(this.data.caption):this.data.caption,this.options.caption_height=this._el.caption.offsetHeight),this.data.caption&&this.data.credit||this.getMeta()}getMeta(){this._getMeta()}updateMeta(){!this.data.credit&&this.data.credit_alternate&&(this._el.credit=g("div","tl-credit",this._el.content_container),this._el.credit.innerHTML=this.data.credit_alternate,this.options.credit_height=this._el.credit.offsetHeight),!this.data.caption&&this.data.caption_alternate&&(this._el.caption=g("div","tl-caption",this._el.content_container),this._el.caption.innerHTML=this.data.caption_alternate,this.options.caption_height=this._el.caption.offsetHeight),this.updateDisplay()}onAdd(){this.fire("added",this.data)}onRemove(){this.fire("removed",this.data)}_initLayout(){this.message=new Nt(this._el.container,this.options,this.getLanguage()),this._el.content_container=g("div","tl-media-content-container",this._el.container),this.data.link&&""!=this.data.link?(this._el.link=g("a","tl-media-link",this._el.content_container),this._el.link.href=this.data.link,this.data.link_target&&""!=this.data.link_target?this._el.link.target=this.data.link_target:this._el.link.target="_blank","_blank"==this._el.link.target&&this._el.link.setAttribute("rel","noopener"),this._el.content=g("div","tl-media-content",this._el.link)):this._el.content=g("div","tl-media-content",this._el.content_container)}_updateDisplay(t,e,i){t&&(this.options.width=t),e&&(this.options.height=e),i&&(this.options.layout=i),this._el.credit&&(this.options.credit_height=this._el.credit.offsetHeight),this._el.caption&&(this.options.caption_height=this._el.caption.offsetHeight+5),this.updateMediaDisplay(this.options.layout)}domCreate(...t){return g(...t)}_stopMedia(){}}N(oe,nt,It);class le extends oe{_loadMedia(){this.loadingMessage(),this.options.background||this.createMedia(),this.onLoaded()}createMedia(){var t=this,e="tl-media-item tl-media-image tl-media-shadow";(this.data.url.match(/.png(\?.*)?$/)||this.data.url.match(/.svg(\?.*)?$/))&&(e="tl-media-item tl-media-image"),this.data.link?(this._el.content_link=this.domCreate("a","",this._el.content),this._el.content_link.href=this.data.link,this._el.content_link.target="_blank",this._el.content_link.setAttribute("rel","noopener"),this._el.content_item=this.domCreate("img",e,this._el.content_link)):this._el.content_item=this.domCreate("img",e,this._el.content),this.data.alt?this._el.content_item.alt=this.data.alt:this.data.caption&&(this._el.content_item.alt=F(this.data.caption)),this.data.title?this._el.content_item.title=this.data.title:this.data.caption&&(this._el.content_item.title=F(this.data.caption)),this._el.content_item.addEventListener("load",(function(e){t.onMediaLoaded()})),this._el.content_item.src=this.getImageURL()}getImageURL(t,e){return B(this.data.url)}_updateMediaDisplay(t){d&&(this._el.content_item.style.width="auto")}}function he(t,e,i,n){ue.js(t,e,i,n)}function ce(t,e,i,n){ue.css(t,e,i,n)}let ue=new class{constructor(t){this.doc=t,this.pending={},this.queue={css:[],js:[]},this.styleSheets=t.styleSheets,this.env=this.getEnv(),this.head=this.doc.head||this.doc.getElementsByTagName("head")[0],this.pollCount=0}createNode(t,e){var i,n=this.doc.createElement(t);for(i in e)e.hasOwnProperty(i)&&n.setAttribute(i,e[i]);return n}finish(t){var e,i,n=this.pending[t];n&&(e=n.callback,(i=n.urls).shift(),this.pollCount=0,i.length||(e&&e.call(n.context,n.obj),this.pending[t]=null,this.queue[t].length&&this.load(t)))}getEnv(){var t=navigator.userAgent,e={async:!0===this.doc.createElement("script").async};return(e.webkit=/AppleWebKit\//.test(t))||(e.ie=/MSIE/.test(t))||(e.opera=/Opera/.test(t))||(e.gecko=/Gecko\//.test(t))||(e.unknown=!0),e}load(t,e,i,n,r){var a,s,o,l,h,c,u=function(){this.finish(t)}.bind(this),d="css"===t,f=[];if(e)if(e="string"==typeof e?[e]:e.concat(),d||this.env.async||this.env.gecko||this.env.opera)this.queue[t].push({urls:e,callback:i,obj:n,context:r});else for(a=0,s=e.length;a<s;++a)this.queue[t].push({urls:[e[a]],callback:a===s-1?i:null,obj:n,context:r});if(!this.pending[t]&&(l=this.pending[t]=this.queue[t].shift())){for(a=0,s=(h=l.urls).length;a<s;++a)c=h[a],d?o=this.env.gecko?this.createNode("style"):this.createNode("link",{href:c,rel:"stylesheet"}):(o=this.createNode("script",{src:c})).async=!1,o.className="lazyload",o.setAttribute("charset","utf-8"),this.env.ie&&!d?o.onreadystatechange=function(){/loaded|complete/.test(o.readyState)&&(o.onreadystatechange=null,u())}:d&&(this.env.gecko||this.env.webkit)?this.env.webkit?(l.urls[a]=o.href,this.pollWebKit()):(o.innerHTML='@import "'+c+'";',this.pollGecko(o)):o.onload=o.onerror=u,f.push(o);for(a=0,s=f.length;a<s;++a)this.head.appendChild(f[a])}}pollGecko(t){var e;try{e=!!t.sheet.cssRules}catch(n){if(this.pollCount+=1,this.pollCount<200){var i=this;setTimeout((function(){i.pollGecko(t)}),50)}else e&&this.finish("css");return}this.finish("css")}pollWebKit(){var t,e=this.pending.css;if(e){for(t=this.styleSheets.length;--t>=0;)if(this.styleSheets[t].href===e.urls[0]){this.finish("css");break}this.pollCount+=1,e&&(this.pollCount<200?setTimeout(this.pollWebKit.bind(this),50):this.finish("css"))}}css(t,e,i,n){this.load("css",t,e,i,n)}js(t,e,i,n){this.load("js",t,e,i,n)}}(document);class de extends oe{_loadMedia(){var t,e=this;this.youtube_loaded=!1,this._el.content_item=this.domCreate("div","tl-media-item tl-media-youtube tl-media-shadow",this._el.content),this._el.content_item.id=R(7),t=function(t){var e,i,n,r=[];(e=t.toString()).match("&#038;")?e=e.replace("&#038;","&"):e.match("&#38;")?e=e.replace("&#38;","&"):e.match("&amp;")&&(e=e.replace("&amp;","&")),n=e.slice(e.indexOf("?")+1).split("&");for(var a=0;a<n.length;a++)i=n[a].split("="),r.push(i[0]),r[i[0]]=i[1];return r}(this.data.url),this.media_id={},this.data.url.match("v=")?this.media_id.id=t.v:this.data.url.match("/embed/")?this.media_id.id=this.data.url.split("embed/")[1].split(/[?&]/)[0]:this.data.url.match(/v\/|v=|youtu\.be\//)?this.media_id.id=this.data.url.split(/v\/|v=|youtu\.be\//)[1].split(/[?&]/)[0]:D("YOUTUBE IN URL BUT NOT A VALID VIDEO"),this.data.url.match("start=")?this.media_id.start=V(this.data.url.split("start=")[1]):this.data.url.match("t=")&&(this.media_id.start=V(this.data.url.split("t=")[1])),this.data.url.match("end=")&&(this.media_id.end=V(this.data.url.split("end=")[1])),this.media_id.hd=Boolean(void 0!==t.hd),he("https://www.youtube.com/iframe_api",(function(){e.createMedia()}))}_updateMediaDisplay(){this._el.content_item.style.height=W({w:this.options.width})+"px",this._el.content_item.style.width=this.options.width+"px"}_stopMedia(){if(this.youtube_loaded)try{this.player.getPlayerState()==YT.PlayerState.PLAYING&&this.player.pauseVideo()}catch(t){D(t)}}createMedia(){var t=this;clearTimeout(this.timer),"undefined"!=typeof YT&&void 0!==YT.Player?this.player=new YT.Player(this._el.content_item.id,{playerVars:{enablejsapi:1,color:"white",controls:1,start:this.media_id.start,end:this.media_id.end,fs:1},videoId:this.media_id.id,events:{onReady:function(){t.onPlayerReady(),t.onLoaded()},onStateChange:t.onStateChange}}):this.timer=setTimeout((function(){t.createMedia()}),1e3)}onPlayerReady(t){this.youtube_loaded=!0,this._el.content_item=document.getElementById(this._el.content_item.id),this.onMediaLoaded()}onStateChange(t){t.data==YT.PlayerState.ENDED&&(t.target.seekTo(0),t.target.pauseVideo())}}class fe extends oe{_loadMedia(){this._el.content_item=this.domCreate("div","tl-media-item tl-media-map tl-media-shadow",this._el.content),this.media_id=this.data.url,this.mapframe=this.domCreate("iframe","",this._el.content_item),this.mapframe.width="100%",this.mapframe.height="100%",this.mapframe.frameBorder="0",this.mapframe.src=this.makeGoogleMapsEmbedURL(this.media_id,this.options.api_key_googlemaps),this.onLoaded()}_updateMediaDisplay(){if(this._state.loaded){var t=U({w:this._el.content_item.offsetWidth});this._el.content_item.style.height=t.h+"px"}}makeGoogleMapsEmbedURL(t,e){var i=!1,n={view:["center"],place:["q","center"],directions:["origin","destination","center"],search:["q","center"],streetview:["fov","heading","pitch"]},r=/(https:\/\/.+google.+?\/maps)/,a=/@([-\d.]+),([-\d.]+)/,s=/([\w\W]+)/,o=/,((?:[-\d.]+[zmayht],?)*)/,l={view:new RegExp(r.source+"/"+a.source+o.source),place:new RegExp(r.source+"/place/"+s.source+"/"+a.source+o.source),directions:new RegExp(r.source+"/dir/"+s.source+"/"+s.source+"/"+a.source+o.source),search:new RegExp(r.source+"/search/"+s.source+"/"+a.source+o.source)};return function(t){function r(e,r){if("z"==e.slice(-1))r.zoom=e;else if("m"==e.slice(-1))r.zoom=14,r.maptype="satellite";else if("t"==e.slice(-1)){if(i=!0,"place"==a)var s=t.match(l.place)[3]+","+t.match(l.place)[4];else s=r.center,delete r.center;(r={}).location=s,streetview_params=e.split(",");for(let t in n.streetview){var o=parseInt(t)+1;"pitch"==n.streetview[t]&&"90t"==streetview_params[o]?r[n.streetview[t]]=0:r[n.streetview[t]]=streetview_params[o].slice(0,-1)}}return r}let a="view";return t.match(l.place)?a="place":t.match(l.directions)?a="directions":t.match(l.search)&&(a="search"),function(t,a){var s={},o=a[1],l=a[a.length-1];for(let e in n[t]){var h=parseInt(e)+2;"center"==n[t][e]?s[n[t][e]]=a[h]+","+a[++h]:s[n[t][e]]=a[h]}return(s=r(l,s)).key=e,1==i&&(t="streetview"),o+"/embed/v1/"+t+function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i+"="+t[i]);return"?"+e.join("&")}(s)}(a,t.match(l[a]))}(t)}}class pe extends oe{constructor(t,e,i){super(t,e,i),this.blockquote=$t().sanitize(this.data.url)}_loadMedia(){this._el.content_item=this.domCreate("div","tl-media-item tl-media-blockquote",this._el.content),this._el.content_container.className="tl-media-content-container tl-media-content-container-text",this._el.content_item.innerHTML=this.blockquote,this.onLoaded()}updateMediaDisplay(){}}class _e extends oe{_loadMedia(){var t,e=this;this._el.content_item=this.domCreate("div","tl-media-item tl-media-wikipedia",this._el.content),this._el.content_container.className="tl-media-content-container tl-media-content-container-text",this.media_id=this.data.url.split("wiki/")[1].split("#")[0].replace("_"," "),this.media_id=this.media_id.replace(" ","%20"),t="https://"+this.data.url.split("//")[1].split(".wikipedia")[0]+".wikipedia.org/w/api.php?action=query&prop=extracts|pageimages&redirects=&titles="+this.media_id+"&exintro=1&format=json&callback=?",dt({type:"GET",url:t,dataType:"json",success:function(t){e.createMedia(t)},error:function(t,i){var n="";n+=e._("wikipedia_load_err")+"<br/>"+e.media_id+"<br/>"+i,e.loadErrorDisplay(n)}})}createMedia(t){var e="";if(t.query){var i="";(e={entry:{},title:"",text:"",extract:"",paragraphs:1,page_image:"",text_array:[]}).entry=function(t,e){if(void 0!==t){var i=0;for(var n in t){if(0===i)return t[n];i++}return""}return""}(t.query.pages),e.extract=e.entry.extract,e.title=e.entry.title,e.page_image=e.entry.thumbnail,e.extract.match("<p>")?e.text_array=e.extract.split("<p>"):e.text_array.push(e.extract);for(var n=0;n<e.text_array.length;n++)n+1<=e.paragraphs&&n+1<e.text_array.length&&(e.text+="<p>"+e.text_array[n+1]);i+="<span class='tl-icon-wikipedia'></span>",i+="<div class='tl-wikipedia-title'><h4><a href='"+this.data.url+"' target='_blank' rel='noopener'>"+e.title+"</a></h4>",i+="<span class='tl-wikipedia-source'>"+this._("wikipedia")+"</span></div>",e.page_image,i+=e.text,e.extract.match("REDIRECT")||(this._el.content_item.innerHTML=i,this.onLoaded())}}updateMediaDisplay(){}}class me extends oe{_loadMedia(){var t,e=this;this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe tl-media-soundcloud tl-media-shadow",this._el.content),this.media_id=this.data.url,t="https://soundcloud.com/oembed?url="+this.media_id+"&format=js&callback=?",ut(t,(function(t){he("https://w.soundcloud.com/player/api.js",(function(){e.createMedia(t)}))}))}createMedia(t){this._el.content_item.innerHTML=t.html,self.widget=SC.Widget(this._el.content_item.querySelector("iframe")),this.soundCloudCreated=!0,this.onLoaded()}_stopMedia(){this.soundCloudCreated&&self.widget.pause()}}class ge extends oe{_loadMedia(){var t,e=this;this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe tl-media-vimeo tl-media-shadow",this._el.content),this.media_id=this.data.url.split(/video\/|\/\/vimeo\.com\//)[1].split(/[?&]/)[0];var i=null;this.data.url.match(/#t=([^&]+).*/)&&(i=this.data.url.match(/#t=([^&]+).*/)[1]),t="https://player.vimeo.com/video/"+this.media_id+"?api=1&title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff",i&&(t=t+="&amp;#t="+i),this.player=this.domCreate("iframe","",this._el.content_item),this.player.addEventListener("load",(function(t){e.onMediaLoaded()})),this.player.width="100%",this.player.height="100%",this.player.frameBorder="0",this.player.src=t,this.player.setAttribute("allowfullscreen",""),this.player.setAttribute("webkitallowfullscreen",""),this.player.setAttribute("mozallowfullscreen",""),this.onLoaded()}_updateMediaDisplay(){this._el.content_item.style.height=W({w:this._el.content_item.offsetWidth})+"px"}_stopMedia(){try{this.player.contentWindow.postMessage(JSON.stringify({method:"pause"}),"https://player.vimeo.com")}catch(t){D(t)}}}class ve extends oe{_loadMedia(){var t;this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe tl-media-dailymotion",this._el.content),this.data.url.match("video")?this.media_id=this.data.url.split("video/")[1].split(/[?&]/)[0]:this.media_id=this.data.url.split("embed/")[1].split(/[?&]/)[0],t="https://www.dailymotion.com/embed/video/"+this.media_id+"?api=postMessage",this._el.content_item.innerHTML="<iframe autostart='false' frameborder='0' width='100%' height='100%' src='"+t+"'></iframe>",this.onLoaded()}_updateMediaDisplay(){this._state.loaded&&(this._el.content_item.style.height=W({w:this._el.content_item.offsetWidth})+"px")}_stopMedia(){this._state.loaded&&this._el.content_item.querySelector("iframe").contentWindow.postMessage('{"command":"pause","parameters":[]}',"*")}}class ye extends oe{_loadMedia(){var t;this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe tl-media-vine tl-media-shadow",this._el.content),this.media_id=this.data.url.split("vine.co/v/")[1],t="https://vine.co/v/"+this.media_id+"/embed/simple",this._el.content_item.innerHTML="<iframe frameborder='0' width='100%' height='100%' src='"+t+"'></iframe><script async src='https://platform.vine.co/static/scripts/embed.js' charset='utf-8'><\/script>",this.onLoaded()}_updateMediaDisplay(){var t=U({w:this._el.content_item.offsetWidth,h:this.options.height});this._el.content_item.style.height=t.h+"px"}_stopMedia(){this._el.content_item.querySelector("iframe").contentWindow.postMessage("pause","*")}}class be extends oe{_loadMedia(){var t,e=this;if(this._el.content_item=this.domCreate("div","tl-media-twitter",this._el.content),this._el.content_container.className="tl-media-content-container tl-media-content-container-text",this.data.url.match("^(https?:)?/*(www.)?twitter.com"))this.data.url.match("status/")?this.media_id=this.data.url.split("status/")[1]:this.data.url.match("statuses/")?this.media_id=this.data.url.split("statuses/")[1]:this.media_id="";else if(this.data.url.match("<blockquote class=['\"]twitter-tweet['\"]")){var i=this.data.url.match(/(status|statuses)\/(\d+)/);if(!(i&&i.length>2))return void e.loadErrorDisplay(e._("twitterembed_invalidurl_err"));this.media_id=i[2]}t="https://api.twitter.com/1/statuses/oembed.json?id="+this.media_id+"&omit_script=true&include_entities=true&callback=?",dt({type:"GET",url:t,dataType:"json",success:function(t){e.createMedia(t)},error:function(t,i){var n="";n+=e._("twitter_load_err")+"<br/>"+e.media_id+"<br/>"+i,e.loadErrorDisplay(n)}})}createMedia(t){var e,i,n,r="",a="",s="",o=this;a=t.html.split("</p>&mdash;")[0]+"</p></blockquote>",e=t.author_url.split("twitter.com/")[1],i=(s=t.html.split("</p>&mdash;")[1].split('<a href="')[1]).split('">')[0],n=s.split('">')[1].split("</a>")[0],(a=a.replace(/<a href/gi,'<a target="_blank" rel="noopener" href')).includes("pic.twitter.com")?(he("https://platform.twitter.com/widgets.js",(function(){twttr.widgets.createTweet(o.media_id,o._el.content_item,{conversation:"none",linkColor:"#cc0000",theme:"light"})})),this.onLoaded()):(r+=a,r+="<div class='vcard'>",r+="<a href='"+i+"' class='twitter-date' rel='noopener' target='_blank'>"+n+"</a>",r+="<img src='' class='tl-media-item tl-media-image'></a>",r+="<div class='author'>",r+="<a class='screen-name url' href='"+t.author_url+"' rel='noopener' target='_blank'>",r+="<span class='avatar'></span>",r+="<span class='fn'>"+t.author_name+" <span class='tl-icon-twitter'></span></span>",r+="<span class='nickname'>@"+e+"<span class='thumbnail-inline'></span></span>",r+="</a>",r+="</div>",r+="</div>",this._el.content_item.innerHTML=r,this.onLoaded())}updateMediaDisplay(){}_updateMediaDisplay(){}}class we extends oe{_loadMedia(){var t,e=this;this._el.content_item=this.domCreate("div","tl-media-twitter",this._el.content),this._el.content_container.className="tl-media-content-container tl-media-content-container-text";var i,n,r,a,s,o,l=this.data.url.match(/(status|statuses)\/(\d+)/);l&&l.length>2?(this.media_id=l[2],t="https://api.twitter.com/1/statuses/oembed.json?id="+this.media_id+"&omit_script=true&include_entities=true&callback=?",window.twttr=(n="script",r="twitter-wjs",s=(i=document).getElementsByTagName(n)[0],o=window.twttr||{},i.getElementById(r)||((a=i.createElement(n)).id=r,a.src="https://platform.twitter.com/widgets.js",s.parentNode.insertBefore(a,s),o._e=[],o.ready=function(t){o._e.push(t)}),o),dt({type:"GET",url:t,dataType:"json",success(t){e.createMedia(t)},error:function(t,i){var n="";n+=e._("twitter_load_err")+"<br/>"+e.media_id+"<br/>"+i,e.loadErrorDisplay(n)}})):e.loadErrorDisplay(e._("twitterembed_invalidurl_err"))}createMedia(t){var e,i,n,r="",a="",s="";a=t.html.split("</p>&mdash;")[0]+"</p></blockquote>",e=t.author_url.split("twitter.com/")[1],i=(s=t.html.split("</p>&mdash;")[1].split('<a href="')[1]).split('">')[0],n=s.split('">')[1].split("</a>")[0],a=a.replace(/<a href/gi,'<a target="_blank" rel="noopener" href');let o=this.media_id;a.includes("pic.twitter.com")?(twttr.ready((function(t){r=document.getElementsByClassName("tl-media-twitter")[0];var e=String(o);twttr.widgets.createTweet(e,r,{conversation:"none",linkColor:"#cc0000",theme:"light"}).then((function(t){this.onLoaded()}))})),this._el.content_item.innerHTML=r,this.onLoaded()):(r+=a,r+="<div class='vcard'>",r+="<a href='"+i+"' class='twitter-date' rel='noopener' target='_blank'>"+n+"</a>",r+="<div class='author'>",r+="<a class='screen-name url' href='"+t.author_url+"' rel='noopener' target='_blank'>",r+="<span class='avatar'></span>",r+="<span class='fn'>"+t.author_name+" <span class='tl-icon-twitter'></span></span>",r+="<span class='nickname'>@"+e+"<span class='thumbnail-inline'></span></span>",r+="</a>",r+="</div>",r+="</div>",this._el.content_item.innerHTML=r,this.onLoaded())}updateMediaDisplay(){}_updateMediaDisplay(){}}class ke extends oe{_loadMedia(){var t,e=this;try{this.establishMediaID(),t="https://api.flickr.com/services/rest/?method=flickr.photos.getSizes&api_key="+this.options.api_key_flickr+"&photo_id="+this.media_id+"&format=json&jsoncallback=?",ut(t,(function(t){"ok"==t.stat?(e.sizes=t.sizes.size,e.options.background||e.createMedia(),e.onLoaded()):e.loadErrorDisplay(e._("flickr_notfound_err"))}))}catch(t){e.loadErrorDisplay(e._(t.message_key))}}establishMediaID(){if(this.data.url.match(/flic.kr\/.+/i)){var t=this.data.url.split("/").slice(-1)[0];this.media_id=Z.decode(t)}else{var e="flickr.com/photos/",i=this.data.url.indexOf(e);if(-1==i)throw new x("flickr_invalidurl_err");var n=i+e.length;this.media_id=this.data.url.substr(n).split("/")[1]}}createMedia(){var t=this;this._el.content_link=this.domCreate("a","",this._el.content),this._el.content_link.href=this.data.url,this._el.content_link.target="_blank",this._el.content_link.setAttribute("rel","noopener"),this._el.content_item=this.domCreate("img","tl-media-item tl-media-image tl-media-flickr tl-media-shadow",this._el.content_link),this.data.alt?this._el.content_item.alt=this.data.alt:this.data.caption&&(this._el.content_item.alt=F(this.data.caption)),this.data.title?this._el.content_item.title=this.data.title:this.data.caption&&(this._el.content_item.title=F(this.data.caption)),this._el.content_item.addEventListener("load",(function(e){t.onMediaLoaded()})),this._el.content_item.src=this.getImageURL(this.options.width,this.options.height)}getImageURL(t,e){for(var i=this.size_label(e),n=this.sizes[this.sizes.length-2].source,r=0;r<this.sizes.length;r++)this.sizes[r].label==i&&(n=this.sizes[r].source);return n}_getMeta(){var t,e=this;t="https://api.flickr.com/services/rest/?method=flickr.photos.getInfo&api_key="+this.options.api_key_flickr+"&photo_id="+this.media_id+"&format=json&jsoncallback=?",ut(t,(function(t){e.data.credit_alternate="<a href='"+e.data.url+"' target='_blank' rel='noopener'>"+t.photo.owner.realname+"</a>",e.data.caption_alternate=t.photo.title._content+" "+t.photo.description._content,e.updateMeta()}))}size_label(t){return t<=75?t<=0?"Large":"Thumbnail":t<=180?"Small":t<=240?"Small 320":t<=375?"Medium":t<=480?"Medium 640":"Large"}}class xe extends oe{_loadMedia(){var t=this;this._el.content_item=this.domCreate("div","tl-media-item tl-media-documentcloud tl-media-shadow",this._el.content),this._el.content_item.id=R(7),this.data.url.match(/\.html$/)?this.data.url=this._transformURL(this.data.url):this.data.url.match(/.(json|js)$/)||D("DOCUMENT CLOUD IN URL BUT INVALID SUFFIX"),he(["https://assets.documentcloud.org/viewer/loader.js","https://assets.documentcloud.org/viewer/viewer.js"],(function(){t.createMedia()}))}_transformURL(t){return t.replace(/(.*)\.html$/,"$1.js")}_updateMediaDisplay(){this._el.content_item.style.height=this.options.height+"px"}createMedia(){DV.load(this.data.url,{container:"#"+this._el.content_item.id,showSidebar:!1}),this.onLoaded()}}const Te="https://graph.facebook.com/v8.0/instagram_oembed?access_token=704270473831239|830b21071290df4f81a35c56abbea096&fields=html,thumbnail_url,author_name&url=";function Me(t){this.oembed_response=t,this._el.content_link=this.domCreate("a","",this._el.content),this._el.content_link.href=this.data.url,this._el.content_link.target="_blank",this._el.content_link.setAttribute("rel","noopener"),this._el.content_item=this.domCreate("img","tl-media-item tl-media-image tl-media-instagram tl-media-shadow",this._el.content_link),this.data.alt?this._el.content_item.alt=this.data.alt:this.data.caption&&(this._el.content_item.alt=F(this.data.caption)),this.data.title?this._el.content_item.title=this.data.title:this.data.caption&&(this._el.content_item.title=F(this.data.caption)),this._el.content_item.addEventListener("load",function(t){this.onMediaLoaded()}.bind(this)),this._el.content_item.src=t.thumbnail_url,this.onLoaded()}function Ee(t){let e=`${t.statusText} [${t.status}]`;400==t.status&&(e=this._("instagram_bad_request")),this.loadErrorDisplay(e)}class Se extends oe{_loadMedia(){this.media_id=this.data.url.split("/p/")[1].split("/")[0],this.options.background||this.createMedia()}createMedia(){this.oembed_response=null;let t=`${Te}${this.data.url}`;try{dt({url:t,dataType:"json",success:Me,error:Ee,context:this})}catch(e){console.log(`Instagram: error fetching ${t}`),console.log(e)}}getImageURL(){if(this.oembed_response&&this.oembed_response.thumbnail_url)return this.oembed_response.thumbnail_url;ft(`${Te}${this.data.url}`).then((t=>t.thumbnail_url)).catch((t=>{D(`Instagram getImageURL Error: ${t.status} ${t.statusText}`)}))}_getMeta(){this.oembed_response&&this.oembed_response.author_name&&(this.data.credit_alternate=`Instagram: <a href="https://instagram.com/${this.oembed_response.author_name}" target="_blank">@${this.oembed_response.author_name}</a>`),this.updateMeta()}sizes(t){return t<=150?"t":t<=306?"m":"l"}}class Le extends oe{_loadMedia(){this._el.content_item=this.domCreate("img","tl-media-item tl-media-image tl-media-profile tl-media-shadow",this._el.content),this._el.content_item.src=this.data.url,this.onLoaded()}_updateMediaDisplay(t){d&&(this._el.content_item.style.maxWidth=this.options.width/2-40+"px")}}class De extends oe{_loadMedia(){var t;this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe",this._el.content),t=this.data.url.match(/open\?id=([^&]+)/)?"https://drive.google.com/file/d/"+this.data.url.match(/open\?id=([^&]+)/)[1]+"/preview":this.data.url.match(/file\/d\/([^/]*)\/?/)?"https://drive.google.com/file/d/"+this.data.url.match(/file\/d\/([^/]*)\/?/)[1]+"/preview":this.data.url,this._el.content_item.innerHTML="<iframe class='doc' frameborder='0' width='100%' height='100%' src='"+t+"'></iframe>",this.onLoaded()}_updateMediaDisplay(){this._el.content_item.style.height=this.options.height+"px"}}class Ae extends oe{_loadMedia(){var t,e;this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe tl-media-spotify",this._el.content),this.media_id=(e=this.data.url).match(/^spotify:/)?e:`spotify${(e=new URL(e)).pathname.replace(/\/$/,"").replace(/\//g,":")}`,this.media_id?(t="https://embed.spotify.com/?uri="+this.media_id+"&theme=white&view=coverart",this.player=this.domCreate("iframe","tl-media-shadow",this._el.content_item),this.player.width="100%",this.player.height="100%",this.player.frameBorder="0",this.player.src=t,this.onLoaded()):this.loadErrorDisplay(this._("spotify_invalid_url"))}_updateMediaDisplay(t){var e=this.options.height,i=0,n=0;e=l?this.options.height/2:this.options.height-this.options.credit_height-this.options.caption_height-30,this._el.content_item.style.maxHeight="none",D(e),D(this.options.width),e>this.options.width?(D("height is greater"),i=this.options.width+80+"px",n=this.options.width+"px"):(D("width is greater"),D(this.options.width),i=e+"px",n=e-80+"px"),this.player.style.width=n,this.player.style.height=i,this._el.credit&&(this._el.credit.style.width=n),this._el.caption&&(this._el.caption.style.width=n)}_stopMedia(){}}class je extends oe{constructor(t,e,i){super(t,e,i),this.iframe=$t().sanitize(this.data.url,{ADD_TAGS:["iframe"],ADD_ATTR:["frameborder"]})}_loadMedia(){this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe",this._el.content),this._el.content_item.innerHTML=this.iframe,this.onLoaded()}_updateMediaDisplay(){this._el.content_item.style.height=this.options.height+"px"}}class Oe extends oe{_loadMedia(){try{var t=this;if(this.data.url.match("<blockquote class=['\"]imgur-embed-pub['\"]")){var e=this.data.url.match(/(imgur\.com)\/(\w+)/);this.media_id=e[2],this.data.url="http://imgur.com/gallery/"+this.media_id}else this.data.url&&(this.media_id=this.data.url.split("/").slice(-1)[0]);he(["https://s.imgur.com/min/embed.js"],(function(){t.createMedia()}))}catch(t){this.loadErrorDisplay(this._("imgur_invalidurl_err"))}}createMedia(){var t=this,e="https://api.imgur.com/oembed.json?url="+this.data.url;this._el.content_item=this.domCreate("div","tl-media-item tl-media-image tl-media-imgur",this._el.content),dt({type:"GET",url:e,dataType:"json",success:function(e){try{t._el.content_item.innerHTML=e.html,setInterval((function(){null==document.querySelector("blockquote.imgur-embed-pub")?clearInterval():(imgurEmbed.createIframe(),document.getElementById("imageElement").removeAttribute("style"),document.getElementById("image").removeAttribute("style"))}),2e3)}catch(t){D("Error processing imgur ajax response")}},error:function(e,i,n){"parsererror"==i?t.loadErrorDisplay(t._("imgur_invalidurl_err")):t.loadErrorDisplay(t._("unknown_read_err",i))}}),this.onLoaded()}_updateMediaDisplay(){this._el.content_item.style.width=this.options.width+"px",this._el.content_item.style.height=W({w:this.options.width})+"px"}}class Ce extends oe{_loadMedia(){var t=B(this.data.url);this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe",this._el.content);var e;e=a||f||t.match(/dl.dropboxusercontent.com/)?"<iframe class='doc' frameborder='0' width='100%' height='100%' src='//docs.google.com/viewer?url="+t+"&amp;embedded=true'></iframe>":"<iframe class='doc' frameborder='0' width='100%' height='100%' src='"+t+"'></iframe>",this._el.content_item.innerHTML=e,this.onLoaded()}_updateMediaDisplay(){this._el.content_item.style.height=this.options.height+"px"}}class Ie extends oe{_loadMedia(){this.loadingMessage(),this.options.background||this.createMedia(),this.onLoaded()}createMedia(){var t=this,e="tl-media-item tl-media-audio tl-media-shadow";this.data.link?(this._el.content_link=this.domCreate("a","",this._el.content),this._el.content_link.href=this.data.link,this._el.content_link.target="_blank",this._el.content_link.setAttribute("rel","noopener"),this._el.content_item=this.domCreate("audio",e,this._el.content_link)):this._el.content_item=this.domCreate("audio",e,this._el.content),this._el.content_item.controls=!0,this._el.source_item=this.domCreate("source","",this._el.content_item),this._el.content_item.addEventListener("load",(function(e){t.onMediaLoaded()})),this._el.source_item.src=this.data.url,this._el.source_item.type=this._getType(this.data.url,this.data.mediatype.match_str),this._el.content_item.innerHTML+="Your browser doesn't support HTML5 audio with "+this._el.source_item.type,this.player_element=this._el.content_item}_updateMediaDisplay(t){d&&(this._el.content_item.style.width="auto")}_stopMedia(){this.player_element&&this.player_element.pause()}_getType(t,e){var i="audio/";switch(t.match(e)[1]){case"mp3":i+="mpeg";break;case"wav":i+="wav";break;case"m4a":i+="mp4";break;default:i="audio"}return i}}class Ne extends oe{_loadMedia(){this.loadingMessage(),this.options.background||this.createMedia(),this.onLoaded()}createMedia(){var t=this,e="tl-media-item tl-media-video tl-media-shadow";this.data.link?(this._el.content_link=this.domCreate("a","",this._el.content),this._el.content_link.href=this.data.link,this._el.content_link.target="_blank",this._el.content_link.setAttribute("rel","noopener"),this._el.content_item=this.domCreate("video",e,this._el.content_link)):this._el.content_item=this.domCreate("video",e,this._el.content),this._el.content_item.controls=!0,this._el.source_item=this.domCreate("source","",this._el.content_item),this._el.content_item.addEventListener("load",(function(e){t.onMediaLoaded()})),this._el.source_item.src=this.data.url,this._el.source_item.type=this._getType(this.data.url,this.data.mediatype.match_str),this._el.content_item.innerHTML+="Your browser doesn't support HTML5 video with "+this._el.source_item.type,this.player_element=this._el.content_item}_updateMediaDisplay(t){d&&(this._el.content_item.style.width="auto")}_stopMedia(){this.player_element&&this.player_element.pause()}_getType(t,e){var i="video/";switch(t.match(e)[1]){case"mp4":i+="mp4";break;case"webm":i+="webm";break;default:i="video"}return i}}class Pe extends oe{_loadMedia(){var t,e=this;this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe tl-media-wistia tl-media-shadow",this._el.content),this.media_id=this.data.url.split(/https?:\/\/(.+)?(wistia\.com|wi\.st)\/medias\/(.*)/)[3],D(`Wistia: media_id: ${this.media_id}`),t="https://fast.wistia.com/embed/iframe/"+this.media_id+"?version=v1&controlsVisibleOnLoad=true&playerColor=aae3d8",this.player=this.domCreate("iframe","",this._el.content_item),this.player.addEventListener("load",(function(t){e.onMediaLoaded()})),this.player.width="100%",this.player.height="100%",this.player.frameBorder="0",this.player.src=t,this.player.setAttribute("allowfullscreen",""),this.player.setAttribute("webkitallowfullscreen",""),this.player.setAttribute("mozallowfullscreen",""),this.onLoaded()}_updateMediaDisplay(){this._el.content_item.style.height=W({w:this._el.content_item.offsetWidth})+"px"}_stopMedia(){try{this.player.contentWindow.postMessage(JSON.stringify({method:"pause"}),"https://player.vimeo.com")}catch(t){D(t)}}}function Re(t,e){var i=[{type:"youtube",name:"YouTube",match_str:"^(https?:)?/*(www.)?youtube|youtu.be",cls:de},{type:"vimeo",name:"Vimeo",match_str:"^(https?:)?/*(player.)?vimeo.com",cls:ge},{type:"dailymotion",name:"DailyMotion",match_str:"^(https?:)?/*(www.)?dailymotion.com",cls:ve},{type:"vine",name:"Vine",match_str:"^(https?:)?/*(www.)?vine.co",cls:ye},{type:"soundcloud",name:"SoundCloud",match_str:"^(https?:)?/*(player.)?soundcloud.com",cls:me},{type:"twitter",name:"Twitter",match_str:"^(https?:)?/*(www.)?twitter.com",cls:be},{type:"twitterembed",name:"TwitterEmbed",match_str:"<blockquote class=['\"]twitter-tweet['\"]",cls:we},{type:"googlemaps",name:"Google Map",match_str:/google.+?\/maps\/@([-\d.]+),([-\d.]+),((?:[-\d.]+[zmayht],?)*)|google.+?\/maps\/search\/([\w\W]+)\/@([-\d.]+),([-\d.]+),((?:[-\d.]+[zmayht],?)*)|google.+?\/maps\/place\/([\w\W]+)\/@([-\d.]+),([-\d.]+),((?:[-\d.]+[zmayht],?)*)|google.+?\/maps\/dir\/([\w\W]+)\/([\w\W]+)\/@([-\d.]+),([-\d.]+),((?:[-\d.]+[zmayht],?)*)/,cls:fe},{type:"flickr",name:"Flickr",match_str:"^(https?:)?/*(www.)?flickr.com/photos",cls:ke},{type:"flickr",name:"Flickr",match_str:"^(https?://)?flic.kr/.*",cls:ke},{type:"instagram",name:"Instagram",match_str:/^(https?:)?\/*(www.)?(instagr.am|^(https?:)?\/*(www.)?instagram.com)\/p\//,cls:Se},{type:"profile",name:"Profile",match_str:/^(https?:)?\/*(www.)?instagr.am\/[a-zA-Z0-9]{2,}|^(https?:)?\/*(www.)?instagram.com\/[a-zA-Z0-9]{2,}/,cls:Le},{type:"documentcloud",name:"Document Cloud",match_str:/documentcloud.org\//,cls:xe},{type:"image",name:"Image",match_str:/(jpg|jpeg|png|gif|svg|webp)(\?.*)?$/i,cls:le},{type:"imgur",name:"Imgur",match_str:/^.*imgur.com\/.+$|<blockquote class=['\"]imgur-embed-pub['\"]/i,cls:Oe},{type:"googledocs",name:"Google Doc",match_str:"^(https?:)?/*[^.]*.google.com/[^/]*/d/[^/]*/[^/]*?usp=sharing|^(https?:)?/*drive.google.com/open?id=[^&]*&authuser=0|^(https?:)?//*drive.google.com/open\\?id=[^&]*|^(https?:)?/*[^.]*.googledrive.com/host/[^/]*/",cls:De},{type:"pdf",name:"PDF",match_str:/^.*\.pdf(\?.*)?(\#.*)?/,cls:Ce},{type:"wikipedia",name:"Wikipedia",match_str:"^(https?:)?/*(www.)?wikipedia.org|^(https?:)?/*([a-z][a-z].)?wikipedia.org",cls:_e},{type:"spotify",name:"spotify",match_str:"spotify",cls:Ae},{type:"iframe",name:"iFrame",match_str:"iframe",cls:je},{type:"blockquote",name:"Quote",match_str:"blockquote",cls:pe},{type:"video",name:"Video",match_str:/(mp4|webm)(\?.*)?$/i,cls:Ne},{type:"wistia",name:"Wistia",match_str:/https?:\/\/(.+)?(wistia\.com|wi\.st)\/.*/i,cls:Pe},{type:"audio",name:"Audio",match_str:/(mp3|wav|m4a)(\?.*)?$/i,cls:Ie},{type:"imageblank",name:"Imageblank",match_str:"",cls:le}];if(e){if(t instanceof Array)return!1;for(var n=0;n<i.length;n++)switch(i[n].type){case"flickr":case"image":case"instagram":if(t.url.match(i[n].match_str))return i[n]}}else for(n=0;n<i.length;n++)if(t.url.match(i[n].match_str))return i[n];return!1}class ze{constructor(t,e){this._el={container:{},content_container:{},media_container:{},timespan:{},line_left:{},line_right:{},content:{},text:{},media:{}},this._text={},this._state={loaded:!1},this.data={unique_id:"",background:null,date:{year:0,month:0,day:0,hour:0,minute:0,second:0,millisecond:0,thumbnail:"",format:""},text:{headline:"",text:""},media:null},this.options={duration:1e3,ease:Q,width:600,height:600,marker_width_min:100},this.active=!1,this.animator={},this.has_end_date=!1,E(this.options,e),E(this.data,t),this._initLayout(),this._initEvents()}show(){}hide(){}setActive(t){this.active=t,this.active&&this.has_end_date?this._el.container.className="tl-timemarker tl-timemarker-with-end tl-timemarker-active":this.active?this._el.container.className="tl-timemarker tl-timemarker-active":this.has_end_date?this._el.container.className="tl-timemarker tl-timemarker-with-end":this._el.container.className="tl-timemarker"}addTo(t){t.appendChild(this._el.container)}removeFrom(t){t.removeChild(this._el.container)}updateDisplay(t,e){this._updateDisplay(t,e)}loadMedia(){this._media&&!this._state.loaded&&(this._media.loadMedia(),this._state.loaded=!0)}stopMedia(){this._media&&this._state.loaded&&this._media.stopMedia()}getLeft(){return this._el.container.style.left.slice(0,-2)}getTime(){return this.data.start_date.getTime()}getEndTime(){return!!this.data.end_date&&this.data.end_date.getTime()}setHeight(t){var e=1;this._el.content_container.style.height=t+"px",this._el.timespan_content.style.height=t+"px",this._el.content.className=t<=30?"tl-timemarker-content tl-timemarker-content-small":"tl-timemarker-content",t<=56?b(this._el.content_container,"tl-timemarker-content-container-small"):w(this._el.content_container,"tl-timemarker-content-container-small"),s?((e=Math.floor(t/14))<1&&(e=1),this._text.className="tl-headline",this._text.style.webkitLineClamp=e):(e=t/12,this._text.className=e>1?"tl-headline tl-headline-fadeout":"tl-headline",this._text.style.height=12*e+"px")}setWidth(t){this.data.end_date&&(this._el.container.style.width=t+"px",t>this.options.marker_width_min?(this._el.content_container.style.width=t+"px",this._el.content_container.className="tl-timemarker-content-container tl-timemarker-content-container-long"):(this._el.content_container.style.width=this.options.marker_width_min+"px",this._el.content_container.className="tl-timemarker-content-container"))}setClass(t){this._el.container.className=t}setRowPosition(t,e){this.setPosition({top:t}),this._el.timespan.style.height=e+"px"}_onMarkerClick(t){this.fire("markerclick",{unique_id:this.data.unique_id})}_initLayout(){if(this._el.container=g("div","tl-timemarker"),this.data.unique_id&&(this._el.container.id=this.data.unique_id+"-marker"),this.data.end_date&&(this.has_end_date=!0,this._el.container.className="tl-timemarker tl-timemarker-with-end"),this._el.timespan=g("div","tl-timemarker-timespan",this._el.container),this._el.timespan_content=g("div","tl-timemarker-timespan-content",this._el.timespan),this._el.content_container=g("div","tl-timemarker-content-container",this._el.container),this._el.content=g("div","tl-timemarker-content",this._el.content_container),this._el.line_left=g("div","tl-timemarker-line-left",this._el.timespan),this._el.line_right=g("div","tl-timemarker-line-right",this._el.timespan),this.data.media){this._el.media_container=g("div","tl-timemarker-media-container",this._el.content);var t={url:this.data.media.thumbnail},e=this.data.media.thumbnail?Re(t,!0):null;if(e){var i=new e.cls(t);i.on("loaded",function(){this._el.media=g("img","tl-timemarker-media",this._el.media_container),this._el.media.src=i.getImageURL()}.bind(this)),i.loadMedia()}else{var n=Re(this.data.media).type;this._el.media=g("span","tl-icon-"+n,this._el.media_container)}}this._el.text=g("div","tl-timemarker-text",this._el.content),this._text=g("h2","tl-headline",this._el.text),this.data.text.headline&&""!=this.data.text.headline?this._text.innerHTML=H(this.data.text.headline):this.data.text.text&&""!=this.data.text.text?this._text.innerHTML=H(this.data.text.text):this.data.media&&this.data.media.caption&&""!=this.data.media.caption&&(this._text.innerHTML=H(this.data.media.caption)),this.onLoaded()}_initEvents(){ht.addListener(this._el.container,"click",this._onMarkerClick,this)}_updateDisplay(t,e,i){t&&(this.options.width=t),e&&(this.options.height=e)}}N(ze,nt,st);class qe{constructor(t,e,i){this._el={drag:t,move:t},this.mousedrag={down:"mousedown",up:"mouseup",leave:"mouseleave",move:"mousemove"},this.touchdrag={down:"touchstart",up:"touchend",leave:"mouseleave",move:"touchmove"},e&&(this._el.move=e),this.options={snap:!1,enable:{x:!0,y:!0},constraint:{top:!1,bottom:!1,left:0,right:!1},momentum_multiplier:2e3,duration:1e3,ease:et},this.animator=null,this.dragevent=this.mousedrag,_&&(this.dragevent=this.touchdrag),this.data={sliding:!1,direction:"none",pagex:{start:0,end:0},pagey:{start:0,end:0},pos:{start:{x:0,y:0},end:{x:0,y:0}},new_pos:{x:0,y:0},new_pos_parent:{x:0,y:0},time:{start:0,end:0},touch:!1},E(this.options,i)}enable(t){ht.addListener(this._el.drag,this.dragevent.down,this._onDragStart,this),ht.addListener(this._el.drag,this.dragevent.up,this._onDragEnd,this),this.data.pos.start=0,this._el.move.style.left=this.data.pos.start.x+"px",this._el.move.style.top=this.data.pos.start.y+"px",this._el.move.style.position="absolute"}disable(){ht.removeListener(this._el.drag,this.dragevent.down,this._onDragStart,this),ht.removeListener(this._el.drag,this.dragevent.up,this._onDragEnd,this)}stopMomentum(){this.animator&&this.animator.stop()}updateConstraint(t){this.options.constraint=t}_onDragStart(t){this.animator&&this.animator.stop(),_?t.originalEvent?(this.data.pagex.start=t.originalEvent.touches[0].screenX,this.data.pagey.start=t.originalEvent.touches[0].screenY):(this.data.pagex.start=t.targetTouches[0].screenX,this.data.pagey.start=t.targetTouches[0].screenY):(this.data.pagex.start=t.pageX,this.data.pagey.start=t.pageY),this.options.enable.x,this.options.enable.y,this.data.pos.start={x:this._el.move.offsetLeft,y:this._el.move.offsetTop},this.data.time.start=(new Date).getTime(),this.fire("dragstart",this.data),ht.addListener(this._el.drag,this.dragevent.move,this._onDragMove,this),ht.addListener(this._el.drag,this.dragevent.leave,this._onDragEnd,this)}_onDragEnd(t){this.data.sliding=!1,ht.removeListener(this._el.drag,this.dragevent.move,this._onDragMove,this),ht.removeListener(this._el.drag,this.dragevent.leave,this._onDragEnd,this),this.fire("dragend",this.data),this._momentum()}_onDragMove(t){var e={x:0,y:0};this.data.sliding=!0,_?t.originalEvent?(this.data.pagex.end=t.originalEvent.touches[0].screenX,this.data.pagey.end=t.originalEvent.touches[0].screenY):(this.data.pagex.end=t.targetTouches[0].screenX,this.data.pagey.end=t.targetTouches[0].screenY):(this.data.pagex.end=t.pageX,this.data.pagey.end=t.pageY),e.x=this.data.pagex.start-this.data.pagex.end,e.y=this.data.pagey.start-this.data.pagey.end,this.data.pos.end={x:this._el.drag.offsetLeft,y:this._el.drag.offsetTop},this.data.new_pos.x=-(e.x-this.data.pos.start.x),this.data.new_pos.y=-(e.y-this.data.pos.start.y),this.options.enable.x&&Math.abs(e.x)>Math.abs(e.y)&&(t.preventDefault(),this._el.move.style.left=this.data.new_pos.x+"px"),this.options.enable.y&&Math.abs(e.y)>Math.abs(e.y)&&(t.preventDefault(),this._el.move.style.top=this.data.new_pos.y+"px"),this.fire("dragmove",this.data)}_momentum(){var t={x:0,y:0,time:0},e={x:0,y:0,time:0},i={x:!1,y:!1},n=!1;this.data.direction=null,t.time=10*((new Date).getTime()-this.data.time.start),e.time=10*((new Date).getTime()-this.data.time.start),e.x=this.options.momentum_multiplier*(Math.abs(this.data.pagex.end)-Math.abs(this.data.pagex.start)),e.y=this.options.momentum_multiplier*(Math.abs(this.data.pagey.end)-Math.abs(this.data.pagey.start)),t.x=Math.round(e.x/e.time),t.y=Math.round(e.y/e.time),this.data.new_pos.x=Math.min(this.data.new_pos.x+t.x),this.data.new_pos.y=Math.min(this.data.new_pos.y+t.y),this.options.enable.x?this.options.constraint.left&&this.data.new_pos.x>this.options.constraint.left&&(this.data.new_pos.x=this.options.constraint.left):this.data.new_pos.x=this.data.pos.start.x,this.options.enable.y?this.data.new_pos.y<0&&(this.data.new_pos.y=0):this.data.new_pos.y=this.data.pos.start.y,e.time<2e3&&(n=!0),this.options.enable.x&&this.options.enable.y?Math.abs(e.x)>Math.abs(e.y)?i.x=!0:i.y=!0:this.options.enable.x?Math.abs(e.x)>Math.abs(e.y)&&(i.x=!0):Math.abs(e.y)>Math.abs(e.x)&&(i.y=!0),i.x&&(Math.abs(e.x)>this._el.drag.offsetWidth/2&&(n=!0),Math.abs(e.x)>1e4&&(this.data.direction="left",e.x>0&&(this.data.direction="right"))),i.y&&(Math.abs(e.y)>this._el.drag.offsetHeight/2&&(n=!0),Math.abs(e.y)>1e4&&(this.data.direction="up",e.y>0&&(this.data.direction="down"))),e.time<1e3||this._animateMomentum(),n&&this.data.direction?this.fire("swipe_"+this.data.direction,this.data):this.data.direction?this.fire("swipe_nodirection",this.data):this.options.snap&&(this.animator.stop(),this.animator=rt(this._el.move,{top:this.data.pos.start.y,left:this.data.pos.start.x,duration:this.options.duration,easing:tt}))}_animateMomentum(){var t={x:this.data.new_pos.x,y:this.data.new_pos.y},e={duration:this.options.duration,easing:tt};this.options.enable.y&&((this.options.constraint.top||this.options.constraint.bottom)&&(t.y>this.options.constraint.bottom?t.y=this.options.constraint.bottom:t.y<this.options.constraint.top&&(t.y=this.options.constraint.top)),e.top=Math.floor(t.y)+"px"),this.options.enable.x&&(this.options.constraint.left&&t.x>=this.options.constraint.left&&(t.x=this.options.constraint.left),this.options.constraint.right&&t.x<this.options.constraint.right&&(t.x=this.options.constraint.right),e.left=Math.floor(t.x)+"px"),this.animator=rt(this._el.move,e),this.fire("momentum",this.data)}}N(qe,nt);class He{constructor(t,e,i,n){this.language=n,this._el={parent:{},container:{},slider:{},slider_background:{},line:{},marker_container_mask:{},marker_container:{},marker_item_container:{},timeaxis:{},timeaxis_background:{},attribution:{}},this.collapsed=!1,this._el.container="object"==typeof t?t:m(t),this.config=e,this.options={width:600,height:600,duration:1e3,ease:et,has_groups:!1,optimal_tick_width:50,scale_factor:2,marker_padding:5,timenav_height_min:150,marker_height_min:30,marker_width_min:100,zoom_sequence:[.5,1,2,3,5,8,13,21,34,55,89]},this.animator=null,this.ready=!1,this._markers=[],this._eras=[],this.has_eras=!1,this._groups=[],this._calculated_row_height=100,this.current_id="",this.timescale={},this.timeaxis={},this.max_rows=6,this.animate_css=!1,this._swipable,E(this.options,i)}init(){this._initLayout(),this._initEvents(),this._initData(),this.updateDisplay(),this._onLoaded()}positionMarkers(t){for(var e=0;e<this._markers.length;e++){var i=this.timescale.getPositionInfo(e);t?this._markers[e].setClass("tl-timemarker tl-timemarker-fast"):this._markers[e].setClass("tl-timemarker"),this._markers[e].setPosition({left:i.start}),this._markers[e].setWidth(i.width)}}updateDisplay(t,e,i){let n=!1;t&&(0==this.options.width&&t>0&&(n=!0),this.options.width=t),e&&e!=this.options.height&&(this.options.height=e,this.timescale=this._getTimeScale()),this._assignRowsToMarkers(),this._el.slider_background.style.width=this.timescale.getPixelWidth()+this.options.width+"px",this._el.slider_background.style.left=-this.options.width/2+"px",this._el.slider.style.width=this.timescale.getPixelWidth()+this.options.width+"px",this._swipable.updateConstraint({top:!1,bottom:!1,left:this.options.width/2,right:-(this.timescale.getPixelWidth()-this.options.width/2)}),n&&this._drawTimeline(),this.goToId(this.current_id,!0)}_getTimeScale(){var t=0;try{t=parseInt(this.options.marker_height_min)}catch(e){D("Invalid value for marker_height_min option."),t=30}return 0==t&&(D("marker_height_min option must not be zero."),t=30),this.max_rows=Math.round((this.options.height-this._el.timeaxis_background.offsetHeight-this.options.marker_padding)/t),this.max_rows<1&&(this.max_rows=1),new ie(this.config,{display_width:this._el.container.offsetWidth,screen_multiplier:this.options.scale_factor,max_rows:this.max_rows})}_updateTimeScale(t){this.options.scale_factor=t,this._updateDrawTimeline()}zoomIn(){var t=function(t,e,i){for(var n=0;n<t.length;n++)if(e<t[n])return t[n];return e}(this.options.zoom_sequence,this.options.scale_factor);this.setZoomFactor(t)}zoomOut(){var t=function(t,e,i){for(var n=t.length-1;n>=0;n--)if(e>t[n])return t[n];return e}(this.options.zoom_sequence,this.options.scale_factor);this.setZoomFactor(t)}setZoom(t){var e=this.options.zoom_sequence[t];"number"==typeof e?this.setZoomFactor(e):console.warn("Invalid zoom level. Please use an index number between 0 and "+(this.options.zoom_sequence.length-1))}setZoomFactor(t){t<=this.options.zoom_sequence[0]?this.fire("zoomtoggle",{zoom:"out",show:!1}):this.fire("zoomtoggle",{zoom:"out",show:!0}),t>=this.options.zoom_sequence[this.options.zoom_sequence.length-1]?this.fire("zoomtoggle",{zoom:"in",show:!1}):this.fire("zoomtoggle",{zoom:"in",show:!0}),0==t&&(console.warn("Zoom factor must be greater than zero. Using 0.1"),t=.1),this.options.scale_factor=t,this.goToId(this.current_id,!this._updateDrawTimeline(!0),!0)}_createGroups(){this._groups=[];var t=this.timescale.getGroupLabels();if(t){this.options.has_groups=!0;for(var e=0;e<t.length;e++)this._createGroup(t[e])}}_createGroup(t){var e=new ne(t);this._addGroup(e),this._groups.push(e)}_addGroup(t){t.addTo(this._el.container)}_positionGroups(){if(this.options.has_groups)for(var t=this.options.height-this._el.timeaxis_background.offsetHeight,e=Math.floor(t/this.timescale.getNumberOfRows()-this.options.marker_padding),i=(this.timescale.getGroupLabels(),0),n=0;i<this._groups.length;i++){var r=Math.floor(n*(e+this.options.marker_padding)),a=!1;r>t-this.options.marker_padding&&(a=!0),this._groups[i].setRowPosition(r,this._calculated_row_height+this.options.marker_padding/2),this._groups[i].setAlternateRowColor(z(i),a),n+=this._groups[i].data.rows}}_addMarker(t){t.addTo(this._el.marker_item_container),t.on("markerclick",this._onMarkerClick,this),t.on("added",this._onMarkerAdded,this)}_createMarker(t,e){var i=new ze(t,this.options);this._addMarker(i),e<0?this._markers.push(i):this._markers.splice(e,0,i)}_createMarkers(t){for(var e=0;e<t.length;e++)this._createMarker(t[e],-1)}_removeMarker(t){t.removeFrom(this._el.marker_item_container)}_destroyMarker(t){this._removeMarker(this._markers[t]),this._markers.splice(t,1)}_calculateMarkerHeight(t){return t/this.timescale.getNumberOfRows()-this.options.marker_padding}_calculateRowHeight(t){return t/this.timescale.getNumberOfRows()}_calculateAvailableHeight(){return this.options.height-this._el.timeaxis_background.offsetHeight-this.options.marker_padding}_calculateMinimumTimeNavHeight(){return this.timescale.getNumberOfRows()*this.options.marker_height_min+this._el.timeaxis_background.offsetHeight+this.options.marker_padding}getMinimumHeight(){return this._calculateMinimumTimeNavHeight()}_assignRowsToMarkers(){var t=this._calculateAvailableHeight(),e=this._calculateMarkerHeight(t);this._positionGroups(),this._calculated_row_height=this._calculateRowHeight(t);for(var i=0;i<this._markers.length;i++){this._markers[i].setHeight(e);var n=this.timescale.getPositionInfo(i).row,r=Math.floor(n*(e+this.options.marker_padding))+this.options.marker_padding,a=t-r+this.options.marker_padding;this._markers[i].setRowPosition(r,a)}}_resetMarkersActive(){for(var t=0;t<this._markers.length;t++)this._markers[t].setActive(!1)}_findMarkerIndex(t){var e=-1;return("string"==typeof t||t instanceof String)&&(e=q(t,this._markers,"unique_id",e)),e}_createEras(t){for(var e=0;e<t.length;e++){var i=t[e],n=new re(i.start_date,i.end_date,i.headline,this.options);this._eras.push(n),n.addTo(this._el.marker_item_container),n.on("added",this._onEraAdded,this)}}_positionEras(t){for(var e=0,i=0;i<this._eras.length;i++){var n={start:0,end:0,width:0};n.start=this.timescale.getPosition(this._eras[i].start_date.getTime()),n.end=this.timescale.getPosition(this._eras[i].end_date.getTime()),n.width=n.end-n.start,t?this._eras[i].setClass("tl-timeera tl-timeera-fast"):this._eras[i].setClass("tl-timeera"),this._eras[i].setPosition({left:n.start}),this._eras[i].setWidth(n.width),++e>5&&(e=0),this._eras[i].setColor(e)}}createMarker(t,e){this._createMarker(t,e)}createMarkers(t){this._createMarkers(t)}destroyMarker(t){this._destroyMarker(t)}destroyMarkerId(t){this.destroyMarker(this._findMarkerIndex(t))}goTo(t,e,i){var n=this.options.ease,r=this.options.duration,a=t<0?0:t;this._resetMarkersActive(),t>=0&&t<this._markers.length&&this._markers[t].setActive(!0),this.animator&&this.animator.stop(),e?(this._el.slider.className="tl-timenav-slider",this._el.slider.style.left=-this._markers[a].getLeft()+this.options.width/2+"px"):i?(this._el.slider.className="tl-timenav-slider tl-timenav-slider-animate",this.animate_css=!0,this._el.slider.style.left=-this._markers[a].getLeft()+this.options.width/2+"px"):(this._el.slider.className="tl-timenav-slider",this.animator=rt(this._el.slider,{left:-this._markers[a].getLeft()+this.options.width/2+"px",duration:r,easing:n})),t>=0&&t<this._markers.length?this.current_id=this._markers[t].data.unique_id:this.current_id=""}goToId(t,e,i){this.goTo(this._findMarkerIndex(t),e,i)}_onLoaded(){this.ready=!0,this.fire("loaded",this.config)}_onMarkerAdded(t){this.fire("dateAdded",this.config)}_onEraAdded(t){this.fire("eraAdded",this.config)}_onMarkerRemoved(t){this.fire("dateRemoved",this.config)}_onMarkerClick(t){this.goToId(t.unique_id),this.fire("change",{unique_id:t.unique_id})}_onMouseScroll(t){var e=0,i=0,n={right:-(this.timescale.getPixelWidth()-this.options.width/2),left:this.options.width/2};t||(t=window.event),t.originalEvent&&(t=t.originalEvent),void 0!==t.wheelDeltaX&&(e=t.wheelDeltaY/6,e=Math.abs(t.wheelDeltaX)>Math.abs(t.wheelDeltaY)?t.wheelDeltaX/6:0),e&&(t.preventDefault&&t.preventDefault(),t.returnValue=!1),(i=parseInt(this._el.slider.style.left.replace("px",""))+e)>n.left?i=n.left:i<n.right&&(i=n.right),this.animate_css&&(this._el.slider.className="tl-timenav-slider",this.animate_css=!1),this._el.slider.style.left=i+"px"}_onDragMove(t){this.animate_css&&(this._el.slider.className="tl-timenav-slider",this.animate_css=!1)}_drawTimeline(t){this.timescale=this._getTimeScale(),this.timeaxis.drawTicks(this.timescale,this.options.optimal_tick_width),this.positionMarkers(t),this._assignRowsToMarkers(),this._createGroups(),this._positionGroups(),this.has_eras&&this._positionEras(t)}_updateDrawTimeline(t){var e=!1;if(t){var i=new ie(this.config,{display_width:this._el.container.offsetWidth,screen_multiplier:this.options.scale_factor,max_rows:this.max_rows});this.timescale.getMajorScale()==i.getMajorScale()&&this.timescale.getMinorScale()==i.getMinorScale()&&(e=!0)}else e=!0;return e?(this.timescale=this._getTimeScale(),this.timeaxis.positionTicks(this.timescale,this.options.optimal_tick_width),this.positionMarkers(),this._assignRowsToMarkers(),this._positionGroups(),this.has_eras&&this._positionEras(),this.updateDisplay()):this._drawTimeline(!0),e}_initLayout(){this._el.attribution=g("div","tl-attribution",this._el.container),this._el.line=g("div","tl-timenav-line",this._el.container),this._el.slider=g("div","tl-timenav-slider",this._el.container),this._el.slider_background=g("div","tl-timenav-slider-background",this._el.slider),this._el.marker_container_mask=g("div","tl-timenav-container-mask",this._el.slider),this._el.marker_container=g("div","tl-timenav-container",this._el.marker_container_mask),this._el.marker_item_container=g("div","tl-timenav-item-container",this._el.marker_container),this._el.timeaxis=g("div","tl-timeaxis",this._el.slider),this._el.timeaxis_background=g("div","tl-timeaxis-background",this._el.container),this._el.attribution.innerHTML="<a href='http://timeline.knightlab.com' target='_blank' rel='noopener'><span class='tl-knightlab-logo'></span>TimelineJS</a>",this.timeaxis=new ae(this._el.timeaxis,this.options,this.language),this._swipable=new qe(this._el.slider_background,this._el.slider,{enable:{x:!0,y:!1},constraint:{top:!1,bottom:!1,left:this.options.width/2,right:!1},snap:!1}),this._swipable.enable()}_initEvents(){this._swipable.on("dragmove",this._onDragMove,this),ht.addListener(this._el.container,"mousewheel",this._onMouseScroll,this),ht.addListener(this._el.container,"DOMMouseScroll",this._onMouseScroll,this)}_initData(){this._createMarkers(this.config.events),this.config.eras&&this.config.eras.length>0&&(this.has_eras=!0,this._createEras(this.config.eras)),this._drawTimeline()}}N(He,nt,st);class Fe{constructor(t,e,i,n){n&&this.setLanguage(n),this._el={container:{},scroll_container:{},background:{},content_container:{},content:{}},this._media=null,this._mediaclass={},this._text={},this._background_media=null,this._state={loaded:!1},this.has={headline:!1,text:!1,media:!1,title:!1,background:{image:!1,color:!1,color_value:""}},this.has.title=i,this.data={unique_id:null,background:null,start_date:null,end_date:null,location:null,text:null,media:null,autolink:!0},this.options={duration:1e3,slide_padding_lr:40,ease:Q,width:600,height:600,skinny_size:650,media_name:""},this.active=!1,this.animator={},E(this.options,e),E(this.data,t),this._initLayout(),this._initEvents()}show(){this.animator=rt(this._el.slider_container,{left:-this._el.container.offsetWidth*n+"px",duration:this.options.duration,easing:this.options.ease})}hide(){}setActive(t){this.active=t,this.active?(this.data.background&&this.fire("background_change",this.has.background),this.loadMedia()):this.stopMedia()}addTo(t){t.appendChild(this._el.container)}removeFrom(t){t.removeChild(this._el.container)}updateDisplay(t,e,i){var n,r=this.options.slide_padding_lr,a=this.options.slide_padding_lr;this.options.width=t||this._el.container.offsetWidth,n=this.options.width-2*this.options.slide_padding_lr,l&&this.options.width<=this.options.skinny_size?(r=0,a=0,n=this.options.width):"landscape"==i||this.options.width<=this.options.skinny_size&&(r=50,a=50,n=this.options.width-r-a),this._el.content.style.paddingLeft=r+"px",this._el.content.style.paddingRight=a+"px",this._el.content.style.width=n+"px",this.options.height=e||this._el.container.offsetHeight,this._media&&(!this.has.text&&this.has.headline?this._media.updateDisplay(n,this.options.height-this._text.headlineHeight(),i):this.has.text||this.has.headline?this.options.width<=this.options.skinny_size?this._media.updateDisplay(n,this.options.height,i):this._media.updateDisplay(n/2,this.options.height,i):this._media.updateDisplay(n,this.options.height,i)),this._updateBackgroundDisplay()}loadMedia(){var t=this;this._media&&!this._state.loaded&&(this._media.loadMedia(),this._state.loaded=!0),this._background_media&&!this._background_media._state.loaded&&(this._background_media.on("loaded",(function(){t._updateBackgroundDisplay()})),this._background_media.loadMedia())}stopMedia(){this._media&&this._state.loaded&&this._media.stopMedia()}getBackground(){return this.has.background}scrollToTop(){this._el.container.scrollTop=0}getFormattedDate(){if(I(this.data.display_date).length>0)return this.data.display_date;var t="";return this.has.title||(this.data.end_date&&(t=" &mdash; "+this.data.end_date.getDisplayDate(this.getLanguage())),this.data.start_date&&(t=this.data.start_date.getDisplayDate(this.getLanguage())+t)),t}_initLayout(){if(this._el.container=g("div","tl-slide"),this.has.title&&(this._el.container.className="tl-slide tl-slide-titleslide"),this.data.unique_id&&(this._el.container.id=this.data.unique_id),this._el.scroll_container=g("div","tl-slide-scrollable-container",this._el.container),this._el.content_container=g("div","tl-slide-content-container",this._el.scroll_container),this._el.content=g("div","tl-slide-content",this._el.content_container),this._el.background=g("div","tl-slide-background",this._el.container),this.data.background){if(this.data.background.url){var t=Re(this.data.background,!0);t&&(this._background_media=new t.cls(this.data.background,{background:1}),this.has.background.image=!0,this._el.container.className+=" tl-full-image-background",this.has.background.color_value="#000",this._el.background.style.display="block")}this.data.background.color&&(this.has.background.color=!0,this._el.container.className+=" tl-full-color-background",this.has.background.color_value=this.data.background.color),this.data.background.text_background&&(this._el.container.className+=" tl-text-background")}this.data.media&&this.data.media.url&&""!=this.data.media.url&&(this.has.media=!0),this.data.text&&this.data.text.text&&(this.has.text=!0),this.data.text&&this.data.text.headline&&(this.has.headline=!0),this.has.media&&(this.data.media.mediatype=Re(this.data.media),this.options.media_name=this.data.media.mediatype.name,this.options.media_type=this.data.media.mediatype.type,this.options.autolink=this.data.autolink,this._media=new this.data.media.mediatype.cls(this.data.media,this.options,this.getLanguage())),(this.has.text||this.has.headline)&&(this._text=new se(this.data.text,{title:this.has.title,language:this.options.language,autolink:this.data.autolink}),this._text.addDateText(this.getFormattedDate())),this.has.text||this.has.headline||!this.has.media?this.has.headline&&this.has.media&&!this.has.text?(b(this._el.container,"tl-slide-media-only"),this._text.addTo(this._el.content),this._media.addTo(this._el.content)):this.has.text&&this.has.media?(this._media.addTo(this._el.content),this._text.addTo(this._el.content)):(this.has.text||this.has.headline)&&(b(this._el.container,"tl-slide-text-only"),this._text.addTo(this._el.content)):(b(this._el.container,"tl-slide-media-only"),this._media.addTo(this._el.content)),this.onLoaded()}_initEvents(){}_updateBackgroundDisplay(){this._background_media&&this._background_media._state.loaded&&(this._el.background.style.backgroundImage="url('"+this._background_media.getImageURL(this.options.width,this.options.height)+"')")}}N(Fe,It,nt,st);class $e{constructor(t,e,i){this._el={container:{},content_container:{},icon:{},title:{},description:{}},this.mediatype={},this.data={title:"Navigation",description:"Description",date:"Date"},this.options={direction:"previous"},this.animator=null,E(this.options,e),E(this.data,t),this._el.container=g("div","tl-slidenav-"+this.options.direction),l&&this._el.container.setAttribute("ontouchstart"," "),this._initLayout(),this._initEvents(),i&&i.appendChild(this._el.container)}update(t){var e={title:"",description:"",date:t.getFormattedDate()};t.data.text&&t.data.text.headline&&(e.title=t.data.text.headline),this._update(e)}setColor(t){this._el.content_container.className=t?"tl-slidenav-content-container tl-slidenav-inverted":"tl-slidenav-content-container"}_onMouseClick(){this.fire("clicked",this.options)}_update(t){this.data=E(this.data,t),this._el.title.innerHTML=H(this.data.title),this._el.description.innerHTML=H(this.data.date)}_initLayout(){this._el.content_container=g("div","tl-slidenav-content-container",this._el.container),this._el.icon=g("div","tl-slidenav-icon",this._el.content_container),this._el.title=g("div","tl-slidenav-title",this._el.content_container),this._el.description=g("div","tl-slidenav-description",this._el.content_container),this._el.icon.innerHTML="&nbsp;",this._update()}_initEvents(){ht.addListener(this._el.container,"click",this._onMouseClick,this)}}N($e,st,nt);class Be{constructor(t,e,i,n){n&&this.setLanguage(n),this._el={container:{},background:{},slider_container_mask:{},slider_container:{},slider_item_container:{}},this._nav={},this._nav.previous={},this._nav.next={},this.slide_spacing=0,this._slides=[],this._swipable,this.preloadTimer,this._message,this.current_id="",this.data={},this.options={id:"",layout:"portrait",width:600,height:600,default_bg_color:{r:255,g:255,b:255},slide_padding_lr:40,start_at_slide:1,slide_default_fade:"0%",duration:1e3,ease:et,dragging:!0,trackResize:!0},"object"==typeof t?(this._el.container=t,this.options.id=R(6,"tl")):(this.options.id=t,this._el.container=m(t)),this._el.container.id||(this._el.container.id=this.options.id),this.animator=null,E(this.options,i),E(this.data,e)}init(){this._initLayout(),this._initEvents(),this._initData(),this.updateDisplay(),this.goTo(this.options.start_at_slide),this._onLoaded()}_addSlide(t){t.addTo(this._el.slider_item_container),t.on("added",this._onSlideAdded,this),t.on("background_change",this._onBackgroundChange,this)}_createSlide(t,e,i){var n=new Fe(t,this.options,e,this.getLanguage());this._addSlide(n),i<0?this._slides.push(n):this._slides.splice(i,0,n)}_createSlides(t){for(var e=0;e<t.length;e++)""==t[e].unique_id&&(t[e].unique_id=R(6,"tl-slide")),this._createSlide(t[e],!1,-1)}_removeSlide(t){t.removeFrom(this._el.slider_item_container),t.off("added",this._onSlideRemoved,this),t.off("background_change",this._onBackgroundChange)}_destroySlide(t){this._removeSlide(this._slides[t]),this._slides.splice(t,1)}_findSlideIndex(t){var e=t;return("string"==typeof t||t instanceof String)&&(e=q(t,this._slides,"unique_id")),e}updateDisplay(t,e,i,n){var r,a;a=void 0===n?this.options.layout:n,this.options.layout=a,this.options.width=t||this._el.container.offsetWidth,this.options.height=e||this._el.container.offsetHeight,this.slide_spacing=2*this.options.width,r=this.options.height/2,this._nav.next.setPosition({top:r}),this._nav.previous.setPosition({top:r});for(var s=0;s<this._slides.length;s++)this._slides[s].updateDisplay(this.options.width,this.options.height,a),this._slides[s].setPosition({left:this.slide_spacing*s,top:0});this.goToId(this.current_id,!0,!0)}createSlide(t,e){this._createSlide(t,!1,e)}createSlides(t){this._createSlides(t)}destroySlide(t){this._destroySlide(t)}destroySlideId(t){this.destroySlide(this._findSlideIndex(t))}goTo(t,e,i){t=parseInt(t),isNaN(t)&&(t=0);var n=this;this.changeBackground({color_value:"",image:!1}),this.preloadTimer&&clearTimeout(this.preloadTimer);for(var r=0;r<this._slides.length;r++)this._slides[r].setActive(!1);t<this._slides.length&&t>=0&&(this.current_id=this._slides[t].data.unique_id,this.animator&&this.animator.stop(),this._swipable&&this._swipable.stopMomentum(),e?(this._el.slider_container.style.left=-this.slide_spacing*t+"px",this._onSlideChange(i)):this.animator=rt(this._el.slider_container,{left:-this.slide_spacing*t+"px",duration:this.options.duration,easing:this.options.ease,complete:this._onSlideChange(i)}),this._slides[t].setActive(!0),this._slides[t+1]?(this.showNav(this._nav.next,!0),this._nav.next.update(this._slides[t+1])):this.showNav(this._nav.next,!1),this._slides[t-1]?(this.showNav(this._nav.previous,!0),this._nav.previous.update(this._slides[t-1])):this.showNav(this._nav.previous,!1),this.preloadTimer=setTimeout((function(){n.preloadSlides(t)}),this.options.duration))}goToId(t,e,i){this.goTo(this._findSlideIndex(t),e,i)}preloadSlides(t){this._slides[t+1]&&(this._slides[t+1].loadMedia(),this._slides[t+1].scrollToTop()),this._slides[t+2]&&(this._slides[t+2].loadMedia(),this._slides[t+2].scrollToTop()),this._slides[t-1]&&(this._slides[t-1].loadMedia(),this._slides[t-1].scrollToTop()),this._slides[t-2]&&(this._slides[t-2].loadMedia(),this._slides[t-2].scrollToTop())}next(){var t=this._findSlideIndex(this.current_id);t+1<this._slides.length?this.goTo(t+1):this.goTo(t)}previous(){var t=this._findSlideIndex(this.current_id);t-1>=0?this.goTo(t-1):this.goTo(t)}showNav(t,e){this.options.width<=500&&l||(e?t.show():t.hide())}changeBackground(t){var e={r:256,g:256,b:256};t.color_value&&""!=t.color_value?(e=M(t.color_value))||(D("Invalid color value "+t.color_value),e=this.options.default_bg_color):(e=this.options.default_bg_color,t.color_value="rgb("+e.r+" , "+e.g+", "+e.b+")"),e.r,e.g,e.b,this._el.background.style.backgroundImage="none",t.color_value?this._el.background.style.backgroundColor=t.color_value:this._el.background.style.backgroundColor="transparent",e.r<255||e.g<255||e.b<255||t.image?(this._nav.next.setColor(!0),this._nav.previous.setColor(!0)):(this._nav.next.setColor(!1),this._nav.previous.setColor(!1))}_updateDrawSlides(){for(var t=this.options.layout,e=0;e<this._slides.length;e++)this._slides[e].updateDisplay(this.options.width,this.options.height,t),this._slides[e].setPosition({left:this.slide_spacing*e,top:0});this.goToId(this.current_id,!0,!1)}_initLayout(){b(this._el.container,"tl-storyslider"),this._el.slider_container_mask=g("div","tl-slider-container-mask",this._el.container),this._el.background=g("div","tl-slider-background tl-animate",this._el.container),this._el.slider_container=g("div","tl-slider-container tlanimate",this._el.slider_container_mask),this._el.slider_item_container=g("div","tl-slider-item-container",this._el.slider_container),this.options.width=this._el.container.offsetWidth,this.options.height=this._el.container.offsetHeight,this._nav.previous=new $e({title:"Previous",description:"description"},{direction:"previous"}),this._nav.next=new $e({title:"Next",description:"description"},{direction:"next"}),this._nav.next.addTo(this._el.container),this._nav.previous.addTo(this._el.container),this._el.slider_container.style.left="0px",_&&(this._swipable=new qe(this._el.slider_container_mask,this._el.slider_container,{enable:{x:!0,y:!1},snap:!0}),this._swipable.enable(),this._message=new Nt(this._el.container,{message_class:"tl-message-full",message_icon_class:"tl-icon-swipe-left"},this.getLanguage()),this._message.updateMessage(this._("swipe_to_navigate")),this._message.addTo(this._el.container))}_initEvents(){this._nav.next.on("clicked",this._onNavigation,this),this._nav.previous.on("clicked",this._onNavigation,this),this._message&&this._message.on("clicked",this._onMessageClick,this),this._swipable&&(this._swipable.on("swipe_left",this._onNavigation,this),this._swipable.on("swipe_right",this._onNavigation,this),this._swipable.on("swipe_nodirection",this._onSwipeNoDirection,this))}_initData(){this.data.title&&this._createSlide(this.data.title,!0,-1),this._createSlides(this.data.events)}_onBackgroundChange(t){var e=this._findSlideIndex(this.current_id),i=this._slides[e].getBackground();this.changeBackground(t),this.fire("colorchange",i)}_onMessageClick(t){this._message.hide()}_onSwipeNoDirection(t){this.goToId(this.current_id)}_onNavigation(t){"next"==t.direction||"left"==t.direction?this.next():"previous"!=t.direction&&"right"!=t.direction||this.previous(),this.fire("nav_"+t.direction,this.data)}_onSlideAdded(t){D("slideadded"),this.fire("slideAdded",this.data)}_onSlideRemoved(t){this.fire("slideRemoved",this.data)}_onSlideChange(t){t||this.fire("change",{unique_id:this.current_id})}_onMouseClick(t){}_fireMouseEvent(t){if(this._loaded){var e=t.type;e="mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,this.hasEventListeners(e)&&("contextmenu"===e&&ht.preventDefault(t),this.fire(e,{latlng:"something",layerPoint:"something else"}))}}_onLoaded(){this.fire("loaded",this.data)}}N(Be,It,nt);class Ue{constructor(t,e,i){this._el={parent:{},container:{},button_backtostart:{},button_zoomin:{},button_zoomout:{},arrow:{},line:{},coverbar:{},grip:{}},this.collapsed=!1,this._el.container="object"==typeof t?t:m(t),e&&(this._el.parent=e),this.options={width:600,height:600,duration:1e3,ease:et,menubar_default_y:0},this.animator={},E(this.options,i),this._initLayout(),this._initEvents()}show(t){this.options.duration}hide(t){}toogleZoomIn(t){t?w(this._el.button_zoomin,"tl-menubar-button-inactive"):b(this._el.button_zoomin,"tl-menubar-button-inactive")}toogleZoomOut(t){t?w(this._el.button_zoomout,"tl-menubar-button-inactive"):b(this._el.button_zoomout,"tl-menubar-button-inactive")}setSticky(t){this.options.menubar_default_y=t}setColor(t){this._el.container.className=t?"tl-menubar tl-menubar-inverted":"tl-menubar"}updateDisplay(t,e,i,n){this._updateDisplay(t,e,i,n)}_onButtonZoomIn(t){this.fire("zoom_in",t)}_onButtonZoomOut(t){this.fire("zoom_out",t)}_onButtonBackToStart(t){this.fire("back_to_start",t)}_initLayout(){this._el.button_zoomin=g("span","tl-menubar-button",this._el.container),this._el.button_zoomout=g("span","tl-menubar-button",this._el.container),this._el.button_backtostart=g("span","tl-menubar-button",this._el.container),l&&this._el.container.setAttribute("ontouchstart"," "),this._el.button_backtostart.innerHTML="<span class='tl-icon-goback'></span>",this._el.button_zoomin.innerHTML="<span class='tl-icon-zoom-in'></span>",this._el.button_zoomout.innerHTML="<span class='tl-icon-zoom-out'></span>"}_initEvents(){ht.addListener(this._el.button_backtostart,"click",this._onButtonBackToStart,this),ht.addListener(this._el.button_zoomin,"click",this._onButtonZoomIn,this),ht.addListener(this._el.button_zoomout,"click",this._onButtonZoomOut,this)}_updateDisplay(t,e,i){t&&(this.options.width=t),e&&(this.options.height=e)}}N(Ue,st,nt);let We=null;if(document){let t=document.getElementsByTagName("script");t&&t.length>0&&(We=t[t.length-1].src)}class Ze{constructor(t,e,i){if(i||(i={}),this.ready=!1,this._el={container:m(t),storyslider:{},timenav:{},menubar:{}},i.lang&&!i.language&&(i.language=i.lang),this.language=Ct,this._storyslider={},this._timenav={},this._menubar={},this._loaded={storyslider:!1,timenav:!1},this.config=null,this.options={script_path:"https://cdn.knightlab.com/libs/timeline3/latest/js/",height:this._el.container.offsetHeight,width:this._el.container.offsetWidth,debug:!1,font:"default",is_embed:!1,is_full_embed:!1,hash_bookmark:!1,default_bg_color:{r:255,g:255,b:255},scale_factor:2,layout:"landscape",timenav_position:"bottom",optimal_tick_width:60,base_class:"tl-timeline",timenav_height:null,timenav_height_percentage:25,timenav_mobile_height_percentage:40,timenav_height_min:175,marker_height_min:30,marker_width_min:100,marker_padding:5,start_at_slide:0,start_at_end:!1,menubar_height:0,skinny_size:650,medium_size:800,use_bc:!1,duration:1e3,ease:et,dragging:!0,trackResize:!0,map_type:"stamen:toner-lite",slide_padding_lr:100,slide_default_fade:"0%",zoom_sequence:[.5,1,2,3,5,8,13,21,34,55,89],language:"en",ga_property_id:null,track_events:["back_to_start","nav_next","nav_previous","zoom_in","zoom_out"],theme:null,sheets_proxy:"https://sheets-proxy.knightlab.com/proxy/",soundcite:!1},this.animator_timenav=null,this.animator_storyslider=null,this.animator_menubar=null,this.message=new Nt(this._el.container,{message_class:"tl-message-full"}),"string"==typeof i.default_bg_color){var n=M(i.default_bg_color);n?i.default_bg_color=n:(delete i.default_bg_color,D("Invalid default background color. Ignoring."))}var r,a;E(this.options,i),this.options.script_path||(this.options.script_path=this.determineScriptPath()),i.soundcite&&this.on("ready",(()=>{D("Loading Soundcite resources "),ce("https://cdn.knightlab.com/libs/soundcite/latest/css/player.css"),he("https://cdn.knightlab.com/libs/soundcite/latest/js/soundcite.min.js")})),this._loadStyles(),document.addEventListener("keydown",(r=this,function(t){if(r.config){var e=t.key,i=r._getSlideIndex(self.current_id),n=r.config.events.length-1,a=r.config.title?n+1:n;"ArrowLeft"==e?0!=i&&r.goToPrev():"ArrowRight"==e&&i!=a&&r.goToNext()}})),window.addEventListener("resize",function(t){this.updateDisplay()}.bind(this)),this.options.debug&&(a=console.log,L.push(a)),b(this._el.container,"tl-timeline"),this.options.is_embed&&b(this._el.container,"tl-timeline-embed"),this.options.is_full_embed&&b(this._el.container,"tl-timeline-full-embed"),this._loadLanguage(e)}_loadStyles(){let t=null,e=null;if(this.options.font&&(0==this.options.font.indexOf("http")||this.options.font.match(/\.css$/)))t=this.options.font;else if(this.options.font){let e="../css/fonts/font."+this.options.font.toLowerCase()+".css";t=new URL(e,this.options.script_path).toString()}if(t&&ce(t),this.options.theme&&(0==this.options.theme.indexOf("http")||this.options.theme.match(/\.css$/)))e=this.options.theme;else if(this.options.theme){let t="../css/themes/timeline.theme."+this.options.theme.toLowerCase()+".css";e=new URL(t,this.options.script_path).toString()}e&&ce(e)}_loadLanguage(t){try{var e=this.options.language,i=this.options.script_path;(async function(t,e){var i=At(t,e);try{if(!Ot[t]){let e=await ft(i);Ot[t]=e}return new Dt(t,e)}catch(t){return console.log(`Error loading language [${i}] ${t.statusText}`),null}})(e,i).then((i=>{i?(this.language=i,this.message.setLanguage(this.language),this.options.language=this.language,this.showMessage(this._("loading_timeline"))):this.showMessage(`Error loading ${e}`),this._initData(t)}))}catch(t){this.showMessage(this._translateError(t))}}_initData(t){"string"==typeof t?async function(t,e){let i=null,n={};if("function"==typeof e?i=e:"object"==typeof e&&(n=e,i=e.callback,"function"==typeof n.callback&&(i=n.callback)),!i)throw new x("Second argument to makeConfig must be either a function or an object which includes a 'callback' property with a 'function' type value");var r,a,s=function(t){let e={key:null,worksheet:0};var i=/\bkey=([-_A-Za-z0-9]+)&?/i,n=/docs.google.com\/spreadsheets(.*?)\/d\//;if(t.match(i))e.key=t.match(i)[1];else if(t.match(n)){var r=t.search(n)+t.match(n)[0].length,a=t.substr(r);e.key=a.split("/")[0],t.match(/\?gid=(\d+)/)&&(e.worksheet=t.match(/\?gid=(\d+)/)[1])}else t.match(/^\b[-_A-Za-z0-9]+$/)&&(e.key=t);return e.key?e:null}(t);if(s){try{a=await async function(t,e){if(!e.sheets_proxy)throw new x("Proxy option must be set to read data from Google");var i=await Xt(t,e.sheets_proxy);if(i)return i}(t,n)}catch(t){return r=new Gt,"NetworkError"==t.name?r.logError(new x("network_err")):"TLError"==t.name?r.logError(t):r.logError(new x("unknown_read_err",t.name)),void i(r)}if(r=new Gt(a),a.errors)for(var o=0;o<a.errors.length;o++)r.logError(a.errors[o]);i(r)}else dt({url:t,dataType:"json",success:function(t){try{r=new Gt(t)}catch(t){(r=new Gt).logError(t)}i(r)},error:function(t,e,n){r=new Gt,n="parsererror"==e?new x("invalid_url_err"):new x("unknown_read_err",e),r.logError(n),i(r)}})}(t,{callback:function(t){this.setConfig(t)}.bind(this),sheets_proxy:this.options.sheets_proxy}):Gt==t.constructor?this.setConfig(t):this.setConfig(new Gt(t))}_translateError(t){return t.hasOwnProperty("stack")&&D(t.stack),t.message_key?this._(t.message_key)+(t.detail?" ["+t.detail+"]":""):t}showMessage(t){this.message?this.message.updateMessage(t):(D("No message display available."),D(t))}determineScriptPath(){let t=null;if(We)t=We;else{let e=document.getElementById("timeline-script-tag");e&&(t=e.src)}if(!t){let e=document.getElementsByTagName("script");for(let i=e.length-1;i>=0;i--)if(e[i].src){t=e[i].src;break}}return t?t.substr(0,t.lastIndexOf("/")+1):""}setConfig(t){if(this.config=t,this.config.isValid()&&(this.config.validate(),this._validateOptions()),this.config.isValid())try{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",this._onDataLoaded.bind(this)):this._onDataLoaded()}catch(t){this.showMessage("<strong>"+this._("error")+":</strong> "+this._translateError(t))}else{for(var e=[],i=0,n=this.config.getErrors();i<n.length;i++)e.push(this._translateError(n[i]));this.showMessage("<strong>"+this._("error")+":</strong> "+e.join("<br>"))}}_onDataLoaded(){this.fire("dataloaded"),this._initLayout(),this._initEvents(),this._initAnalytics(),this.message&&this.message.hide(),new IntersectionObserver(((t,e)=>{t.reduce(((t,e)=>t||e.isIntersecting),!1)&&this.updateDisplay()}).bind(this)).observe(this._el.container),this.ready=!0,this.fire("ready")}_initLayout(){this.message.removeFrom(this._el.container),this._el.container.innerHTML="","top"==this.options.timenav_position?(this._el.timenav=g("div","tl-timenav",this._el.container),this._el.storyslider=g("div","tl-storyslider",this._el.container)):(this._el.storyslider=g("div","tl-storyslider",this._el.container),this._el.timenav=g("div","tl-timenav",this._el.container)),this._el.menubar=g("div","tl-menubar",this._el.container),this.options.width=this._el.container.offsetWidth,this.options.height=this._el.container.offsetHeight,this.options.timenav_height=this._calculateTimeNavHeight(this.options.timenav_height),this._timenav=new He(this._el.timenav,this.config,this.options,this.language),this._timenav.on("loaded",this._onTimeNavLoaded,this),this._timenav.options.height=this.options.timenav_height,this._timenav.init(),this.options.initial_zoom&&this.setZoom(this.options.initial_zoom),this._storyslider=new Be(this._el.storyslider,this.config,this.options,this.language),this._storyslider.on("loaded",this._onStorySliderLoaded,this),this._storyslider.init(),this._menubar=new Ue(this._el.menubar,this._el.container,this.options),"portrait"==this.options.layout?this.options.storyslider_height=this.options.height-this.options.timenav_height-1:this.options.storyslider_height=this.options.height-1,this._updateDisplay(this._timenav.options.height,!0,2e3)}_initEvents(){this._timenav.on("change",this._onTimeNavChange,this),this._timenav.on("zoomtoggle",this._onZoomToggle,this),this._storyslider.on("change",this._onSlideChange,this),this._storyslider.on("colorchange",this._onColorChange,this),this._storyslider.on("nav_next",this._onStorySliderNext,this),this._storyslider.on("nav_previous",this._onStorySliderPrevious,this),this._menubar.on("zoom_in",this._onZoomIn,this),this._menubar.on("zoom_out",this._onZoomOut,this),this._menubar.on("back_to_start",this._onBackToStart,this)}_onColorChange(t){this.fire("color_change",{unique_id:this.current_id},this)}_onSlideChange(t){this.current_id!=t.unique_id&&(this.current_id=t.unique_id,this._timenav.goToId(this.current_id),this._onChange(t))}_onTimeNavChange(t){this.current_id!=t.unique_id&&(this.current_id=t.unique_id,this._storyslider.goToId(this.current_id),this._onChange(t))}_onZoomToggle(t){"in"==t.zoom?this._menubar.toogleZoomIn(t.show):"out"==t.zoom&&this._menubar.toogleZoomOut(t.show)}_onChange(t){this.fire("change",{unique_id:this.current_id},this),this.options.hash_bookmark&&this.current_id&&this._updateHashBookmark(this.current_id)}_onBackToStart(t){this._storyslider.goTo(0),this.fire("back_to_start",{unique_id:this.current_id},this)}_onZoomIn(t){this._timenav.zoomIn(),this.fire("zoom_in",{zoom_level:this._timenav.options.scale_factor},this)}_onZoomOut(t){this._timenav.zoomOut(),this.fire("zoom_out",{zoom_level:this._timenav.options.scale_factor},this)}_onTimeNavLoaded(){this._loaded.timenav=!0,this._onLoaded()}_onStorySliderLoaded(){this._loaded.storyslider=!0,this._onLoaded()}_onStorySliderNext(t){this.fire("nav_next",t)}_onStorySliderPrevious(t){this.fire("nav_previous",t)}_updateDisplay(t,e,i){var n,r,a=this.options.duration,s=this.options.base_class;i&&(a=i),this.options.width=this._el.container.offsetWidth,this.options.height=this._el.container.offsetHeight,this.options.width<=this.options.skinny_size?(s+=" tl-skinny",this.options.layout="portrait"):this.options.width<=this.options.medium_size?(s+=" tl-medium",this.options.layout="landscape"):this.options.layout="landscape",_&&(this.options.layout=(n="portrait",window.innerWidth>window.innerHeight&&(n="landscape"),Math.abs(window.orientation),n)),l?(s+=" tl-mobile",this.options.timenav_height=this._calculateTimeNavHeight(t,this.options.timenav_mobile_height_percentage)):this.options.timenav_height=this._calculateTimeNavHeight(t),"portrait"==this.options.layout?s+=" tl-layout-portrait":s+=" tl-layout-landscape",this.options.storyslider_height=this.options.height-this.options.timenav_height,r="top"==this.options.timenav_position?Math.ceil(this.options.timenav_height)/2-this._el.menubar.offsetHeight/2-19.5:Math.round(this.options.storyslider_height+1+Math.ceil(this.options.timenav_height)/2-this._el.menubar.offsetHeight/2-17.5),e?(this._el.timenav.style.height=Math.ceil(this.options.timenav_height)+"px",this.animator_storyslider&&this.animator_storyslider.stop(),this.animator_storyslider=rt(this._el.storyslider,{height:this.options.storyslider_height+"px",duration:a/2,easing:tt}),this.animator_menubar&&this.animator_menubar.stop(),this.animator_menubar=rt(this._el.menubar,{top:r+"px",duration:a/2,easing:tt})):(this._el.timenav.style.height=Math.ceil(this.options.timenav_height)+"px",this._el.storyslider.style.height=this.options.storyslider_height+"px",this._el.menubar.style.top=r+"px"),this.message&&this.message.updateDisplay(this.options.width,this.options.height),this._timenav.updateDisplay(this.options.width,this.options.timenav_height,e),this._storyslider.updateDisplay(this.options.width,this.options.storyslider_height,e,this.options.layout),"rtl"==this.options.language.direction&&(s+=" tl-rtl"),this._el.container.className=s}_calculateTimeNavHeight(t,e){var i=0;return t?i=t:(this.options.timenav_height_percentage||e)&&(i=e?Math.round(this.options.height/100*e):Math.round(this.options.height/100*this.options.timenav_height_percentage)),this._timenav.ready&&this.options.timenav_height_min<this._timenav.getMinimumHeight()&&(this.options.timenav_height_min=this._timenav.getMinimumHeight()),i<this.options.timenav_height_min&&(i=this.options.timenav_height_min),i-2*this.options.marker_padding}_validateOptions(){for(var t=["timenav_height","timenav_height_min","marker_height_min","marker_width_min","marker_padding","start_at_slide","slide_padding_lr"],e=0;e<t.length;e++){var i=t[e],n=this.options[i];let r=!0;"number"==typeof n?r=n==parseInt(n):"string"==typeof n&&(r=n.match(/^\s*(\-?\d+)?\s*$/)),r||this.config.logError({message_key:"invalid_integer_option",detail:i})}}_getSlideIndex(t){if(this.config){if(this.config.title&&this.config.title.unique_id==t)return 0;for(var e=0;e<this.config.events.length;e++)if(t==this.config.events[e].unique_id)return this.config.title?e+1:e}return-1}_getEventIndex(t){for(var e=0;e<this.config.events.length;e++)if(t==this.config.events[e].unique_id)return e;return-1}_onLoaded(){if(this._loaded.storyslider&&this._loaded.timenav)if(this.fire("loaded",this.config),this.options.hash_bookmark){""!=window.location.hash?this.goToId(window.location.hash.replace("#event-","")):this._updateHashBookmark(this.current_id);let t=this;window.addEventListener("hashchange",(function(){0==window.location.hash.indexOf("#event-")&&t.goToId(window.location.hash.replace("#event-",""))}),!1)}else null!=(t=this.options.start_at_end)&&(1==t||"true"==String(t).toLowerCase()||1==Number(t))||this.options.start_at_slide>this.config.events.length?this.goToEnd():this.goTo(this.options.start_at_slide);var t}_updateHashBookmark(t){if(t){var e="#event-"+t.toString();window.history.replaceState(null,"Browsing TimelineJS",e),this.fire("hash_updated",{unique_id:this.current_id,hashbookmark:"#event-"+t.toString()},this)}}zoomIn(){this._timenav.zoomIn()}zoomOut(){this._timenav.zoomOut()}setZoom(t){this._timenav.setZoom(t)}goToId(t){this.current_id!=t&&(this.current_id=t,this._timenav.goToId(this.current_id),this._storyslider.goToId(this.current_id,!1,!0),this.fire("change",{unique_id:this.current_id},this))}goTo(t){this.config.title?0==t?this.goToId(this.config.title.unique_id):this.goToId(this.config.events[t-1].unique_id):this.goToId(this.config.events[t].unique_id)}goToStart(){this.goTo(0)}goToEnd(){var t=this.config.events.length-1;this.goTo(this.config.title?t+1:t)}goToPrev(){this.goTo(this._getSlideIndex(this.current_id)-1)}goToNext(){this.goTo(this._getSlideIndex(this.current_id)+1)}add(t){var e=this.config.addEvent(t),i=this._getEventIndex(e),n=this.config.events[i];this._storyslider.createSlide(n,this.config.title?i+1:i),this._storyslider._updateDrawSlides(),this._timenav.createMarker(n,i),this._timenav._updateDrawTimeline(!1),this.fire("added",{unique_id:e})}remove(t){if(t>=0&&t<this.config.events.length){this.config.events[t].unique_id==this.current_id&&(t<this.config.events.length-1?this.goTo(t+1):this.goTo(t-1));var e=this.config.events.splice(t,1);delete this.config.event_dict[e[0].unique_id],this._storyslider.destroySlide(this.config.title?t+1:t),this._storyslider._updateDrawSlides(),this._timenav.destroyMarker(t),this._timenav._updateDrawTimeline(!1),this.fire("removed",{unique_id:e[0].unique_id})}}removeId(t){this.remove(this._getEventIndex(t))}getData(t){if(this.config.title){if(0==t)return this.config.title;if(t>0&&t<=this.config.events.length)return this.config.events[t-1]}else if(t>=0&&t<this.config.events.length)return this.config.events[t];return null}getDataById(t){return this.getData(this._getSlideIndex(t))}getSlide(t){return t>=0&&t<this._storyslider._slides.length?this._storyslider._slides[t]:null}getSlideById(t){return this.getSlide(this._getSlideIndex(t))}getCurrentSlide(){return this.getSlideById(this.current_id)}updateDisplay(){this.ready?this._updateDisplay():D("updateDisplay called but timeline is not in ready state")}_initGoogleAnalytics(){var t,e,i,n,r;t=window,e=document,i="script",t.GoogleAnalyticsObject="ga",t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,n=e.createElement(i),r=e.getElementsByTagName(i)[0],n.async=1,n.src="//www.google-analytics.com/analytics.js",r.parentNode.insertBefore(n,r),ga("create",this.options.ga_property_id,"auto"),ga("set","anonymizeIp",!0)}_initAnalytics(){if(null!==this.options.ga_property_id){this._initGoogleAnalytics(),ga("send","pageview");var t=this.options.track_events;for(let i=0;i<t.length;i++){var e=t[i];this.addEventListener(e,(function(t){ga("send","event",t.type,"clicked")}))}}}}N(Ze,It,nt),i(875),i(354);var Ge=function(){return document.querySelector("meta[name='root-path']").getAttribute("content")};function Ye(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var Ve=null;fetch("".concat(Ge(),"/data/timeline.data.json")).then((function(t){return t.json()})).then((function(t){var e,i=function(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return Ye(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Ye(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,a=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw a}}}}(t.events);try{for(i.s();!(e=i.n()).done;){var n=e.value;n.text.headline=n.text.headline.replace(/"\/event\?/,'"'.concat(Ge(),"/event?"))}}catch(t){i.e(t)}finally{i.f()}console.log(t);var r=document.querySelector("#timeline");Ve=new Ze("timeline",t,{default_bg_color:"#efefef",hash_bookmark:!0,initial_zoom:3,debug:!0});var a=window.setTimeout((function(){window.clearTimeout(a),r.querySelector(".tl-timenav-slider").style.left="50px"}),500);window.timeline=Ve}))})()})();